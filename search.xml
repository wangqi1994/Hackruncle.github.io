<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>早课1</title>
    <url>/2020/04/20/20200420/</url>
    <content><![CDATA[<h3 id="1-查看当前目录命令"><a href="#1-查看当前目录命令" class="headerlink" title="1.查看当前目录命令"></a>1.查看当前目录命令</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>
<h3 id="2-隐藏文件文件夹什么开始，怎样查看"><a href="#2-隐藏文件文件夹什么开始，怎样查看" class="headerlink" title="2.隐藏文件文件夹什么开始，怎样查看"></a>2.隐藏文件文件夹什么开始，怎样查看</h3><p>以.开头</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls -a</span><br></pre></td></tr></table></figure>

<h3 id="3-创建文件夹级联，需要加什么参数"><a href="#3-创建文件夹级联，需要加什么参数" class="headerlink" title="3.创建文件夹级联，需要加什么参数"></a>3.创建文件夹级联，需要加什么参数</h3><p>mkdir dir1 dir2 dir3 并<br>mkdir -p dir4/dir5/dir6  串 级联创建-p</p>
<h3 id="4-创建空文件-注意"><a href="#4-创建空文件-注意" class="headerlink" title="4.创建空文件-注意"></a>4.创建空文件-注意</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /dev/null &gt; 1.log</span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span>&gt;1.log <span class="comment">#非空集合</span></span><br><span class="line"><span class="literal">true</span>&gt;1.log</span><br></pre></td></tr></table></figure>
<h3 id="5-gt-代表什么意思，是不是应该慎用"><a href="#5-gt-代表什么意思，是不是应该慎用" class="headerlink" title="5.&gt;  代表什么意思，是不是应该慎用"></a>5.&gt;  代表什么意思，是不是应该慎用</h3><p>覆盖，需要慎用</p>
<h3 id="6-rwx分别代表什么"><a href="#6-rwx分别代表什么" class="headerlink" title="6.rwx分别代表什么"></a>6.rwx分别代表什么</h3><p>r: read  读权限 4<br>w: write 写权限 2<br>x: 执行         1<br>-: 没权限       0  占位 </p>
<h3 id="7-644分别代表哪三组，什么权限"><a href="#7-644分别代表哪三组，什么权限" class="headerlink" title="7.644分别代表哪三组，什么权限"></a>7.644分别代表哪三组，什么权限</h3><p>rw- 第一组 6  代表文件或文件夹的所属用户，读写权限<br>r– 第二组 4  代表文件或文件夹的所属用户组，读权限<br>r– 第三组 4  代表其他用户组的用户对这个文件或文件夹，读权限</p>
<h3 id="8-带大写-R参数的命令，有哪些-复习"><a href="#8-带大写-R参数的命令，有哪些-复习" class="headerlink" title="8.带大写 R参数的命令，有哪些-复习"></a>8.带大写 R参数的命令，有哪些-复习</h3><p>chmod -R 777          文件或文件夹<br>chown -R 用户:用户组  文件或文件夹</p>
<h3 id="9-vi命令如何清空一个文件内容"><a href="#9-vi命令如何清空一个文件内容" class="headerlink" title="9.vi命令如何清空一个文件内容"></a>9.vi命令如何清空一个文件内容</h3><p>命令行模式gg光标到达第一行第一个字母<br>dG删除光标之后所有内容</p>
<h3 id="10-cd切换到家目录哪三种，切换到上一次目录，切换到上一层目录"><a href="#10-cd切换到家目录哪三种，切换到上一次目录，切换到上一层目录" class="headerlink" title="10.cd切换到家目录哪三种，切换到上一次目录，切换到上一层目录"></a>10.cd切换到家目录哪三种，切换到上一次目录，切换到上一层目录</h3><p>切换到家目录<br>cd ~<br>cd 空格<br>cd /home/用户<br>切换上一次目录<br>cd -<br>切换到上一层目录<br>cd ../</p>
]]></content>
      <categories>
        <category>ruozedata</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
      </tags>
  </entry>
  <entry>
    <title>早课2</title>
    <url>/2020/04/23/20200423/</url>
    <content><![CDATA[<h3 id="1-查看当前目录"><a href="#1-查看当前目录" class="headerlink" title="1.查看当前目录"></a>1.查看当前目录</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>

<h3 id="2-隐藏文件、文件夹以什么开始，怎样查看"><a href="#2-隐藏文件、文件夹以什么开始，怎样查看" class="headerlink" title="2.隐藏文件、文件夹以什么开始，怎样查看"></a>2.隐藏文件、文件夹以什么开始，怎样查看</h3><p>以.开头</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls -a</span><br></pre></td></tr></table></figure>

<h3 id="3-ls-l-等价于什么？"><a href="#3-ls-l-等价于什么？" class="headerlink" title="3.ls -l 等价于什么？"></a>3.ls -l 等价于什么？</h3><p>ls -l = ll 显示额外信息  权限 用户用户组 时间 大小</p>
<h3 id="4-级联创建文件夹"><a href="#4-级联创建文件夹" class="headerlink" title="4.级联创建文件夹"></a>4.级联创建文件夹</h3><p>mkdir dir1 dir2 dir3 并<br>mkdir -p dir4/dir5/dir6  串 级联创建-p</p>
<h3 id="5-创建文件哪几种方式"><a href="#5-创建文件哪几种方式" class="headerlink" title="5.创建文件哪几种方式"></a>5.创建文件哪几种方式</h3><p>a.touch 1.log  创建空文件<br>b.vi    2.log  创建文件并用vim编辑器打开编辑<br>c.echo “ruozedata” &gt; 3.log<br>主要场景是为了  覆盖内容 或者 追加内容<br>打印一句话进入3.log文件<br>“&gt;” 创建或覆盖    【高危命令1】<br>‘&gt;&gt;’ 追加</p>
<h3 id="6-cp和mv谁快？-能不能在cp-、mv过程，顺便修改名称呢？"><a href="#6-cp和mv谁快？-能不能在cp-、mv过程，顺便修改名称呢？" class="headerlink" title="6.cp和mv谁快？ 能不能在cp 、mv过程，顺便修改名称呢？"></a>6.cp和mv谁快？ 能不能在cp 、mv过程，顺便修改名称呢？</h3><p>mv是始终一份  快<br>cp是两份      慢<br>同时支持修改名称<br>mv  dir2 ruozedata/dir22<br>cp -r dir3 dir33</p>
<h3 id="7-查看文件的大小哪两种命令？"><a href="#7-查看文件的大小哪两种命令？" class="headerlink" title="7.查看文件的大小哪两种命令？"></a>7.查看文件的大小哪两种命令？</h3><p>ls -l 显示额外信息  权限 用户用户组 时间 大小 = ll<br>ls -l -h  仅仅查看文件的可读大小 </p>
<h3 id="8-查看文件夹的大小的命令？"><a href="#8-查看文件夹的大小的命令？" class="headerlink" title="8.查看文件夹的大小的命令？"></a>8.查看文件夹的大小的命令？</h3><p>du -l 查看当前目录下各文件夹大小<br>du -sh 查看当前目录大小<br>du -h 显示可读的大小</p>
<h3 id="9-ll-命令执行完成后，文件、文件夹展示一长串信息，有哪些？"><a href="#9-ll-命令执行完成后，文件、文件夹展示一长串信息，有哪些？" class="headerlink" title="9.ll 命令执行完成后，文件、文件夹展示一长串信息，有哪些？"></a>9.ll 命令执行完成后，文件、文件夹展示一长串信息，有哪些？</h3><p>除文件名或文件夹名之外，还显示额外信息  权限 用户用户组 时间 大小</p>
<h3 id="10-绝对路径和相对路径，区别是什么？"><a href="#10-绝对路径和相对路径，区别是什么？" class="headerlink" title="10.绝对路径和相对路径，区别是什么？"></a>10.绝对路径和相对路径，区别是什么？</h3><p>绝对路径就是文件的真正存在的路径，是指从硬盘的根目录(盘符)开始，进行一级级目录指向文件。<br>相对路径就是以当前文件为基准进行一级级目录指向被引用的资源文件。<br>../             表示当前文件所在的目录的上一级目录<br>./              表示当前文件所在的目录(可以省略)<br>/               表示当前用户的根目录</p>
<h3 id="11-root的家目录在哪？普通用户的默认家目录在哪？"><a href="#11-root的家目录在哪？普通用户的默认家目录在哪？" class="headerlink" title="11.root的家目录在哪？普通用户的默认家目录在哪？"></a>11.root的家目录在哪？普通用户的默认家目录在哪？</h3><p>root家目录/root<br>xx用户家目录/home/xxx</p>
<h3 id="12-切换到用户的家目录，哪三种方式？"><a href="#12-切换到用户的家目录，哪三种方式？" class="headerlink" title="12.切换到用户的家目录，哪三种方式？"></a>12.切换到用户的家目录，哪三种方式？</h3><p>切换到家目录<br>cd ~<br>cd 空格<br>cd /home/用户</p>
<h3 id="13-切换到-上一层目录-与-上一次目录，命令分别是什么？"><a href="#13-切换到-上一层目录-与-上一次目录，命令分别是什么？" class="headerlink" title="13.切换到 上一层目录 与 上一次目录，命令分别是什么？"></a>13.切换到 上一层目录 与 上一次目录，命令分别是什么？</h3><p>切换上一次目录<br>cd -<br>切换到上一层目录<br>cd ../</p>
<h3 id="14-清除屏幕信息"><a href="#14-清除屏幕信息" class="headerlink" title="14.清除屏幕信息"></a>14.清除屏幕信息</h3><p>clear</p>
<h3 id="15-查看文件内容-哪几个命令？"><a href="#15-查看文件内容-哪几个命令？" class="headerlink" title="15.查看文件内容 哪几个命令？"></a>15.查看文件内容 哪几个命令？</h3><p>cat  文件内容一下子全部显示  ctrl+z 中断<br>more 文件内容一页页往下翻，按空格往下  Ctrl+B 回退 q退出<br>less 文件内容 按上下键   q退出<br>tail 实时查看文件最新内容</p>
<h3 id="16-实时查看文件内容，-f-F区别是什么？"><a href="#16-实时查看文件内容，-f-F区别是什么？" class="headerlink" title="16.实时查看文件内容，-f -F区别是什么？"></a>16.实时查看文件内容，-f -F区别是什么？</h3><p>tail 实时查看文件最新内容<br>&emsp;&emsp;&emsp;tail -f xxx.log  基本不太用来自动提取实时监控，当文件不在之后就不会在尝试查看，即使文件重新创建<br>&emsp;&emsp;&emsp;tail -F yyy.log   =-f+ retry再次尝试采集信息</p>
<h3 id="17-谈谈你对-如何定位ERROR的-理解？"><a href="#17-谈谈你对-如何定位ERROR的-理解？" class="headerlink" title="17.谈谈你对  如何定位ERROR的 理解？"></a>17.谈谈你对  如何定位ERROR的 理解？</h3><p>a.当文件内容超多时  需要定位ERROR 信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat xxx.log | grep ERROR        <span class="comment">#提取当前行</span></span><br><span class="line">cat xxx.log | grep -A 5 ERROR   <span class="comment">#提取关键字出现的后5行</span></span><br><span class="line">cat xxx.log | grep -B 5 ERROR   <span class="comment">#提取关键字出现的前5行</span></span><br><span class="line">cat xxx.log | grep -C 5 ERROR   <span class="comment">#提取关键字出现的前后各5行</span></span><br></pre></td></tr></table></figure>
<p>如果没有-A-B-C则只会打出错误行，最好前后打印15.20行的数据<br>| 管道符   前面命令的结果是接下来的输入数据<br>grep 过滤<br>比如 xxx.log ERROR 很多  上万个 可以导出到单独文件查看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat xxx.log | grep -C 5 ERROR &gt; 20200418error.log</span><br><span class="line">more 20200418error.log</span><br></pre></td></tr></table></figure>
<p>b.当文件不是很大时，可通过vim编辑器查看文件进行定位<br>vi xxx.log<br>&emsp;&emsp;shift+:<br>&emsp;&emsp;/       代表搜索的语法，之后输入需要寻找的对象<br>&emsp;&emsp;ERROR 输入错误的关键字<br>&emsp;&emsp;n寻找，下翻<br>c.可以将文件下载到windows，利用文件处理软件进行错误定位<br>&emsp;&emsp;&emsp;editplus（window）<br>&emsp;&emsp;&emsp;notepad++<br>&emsp;&emsp;&emsp;sublime（widnow  mac）工具 搜索  统计 校验  </p>
<h3 id="18-gt-gt-gt-区别是什么？"><a href="#18-gt-gt-gt-区别是什么？" class="headerlink" title="18. &gt;   &gt;&gt;区别是什么？"></a>18. &gt;   &gt;&gt;区别是什么？</h3><p>‘&gt;’ 创建或覆盖    【高危命令1】<br>‘&gt;&gt;’ 追加</p>
<h3 id="19-设置变量-key-value-这样写对吗？如何引用呢？"><a href="#19-设置变量-key-value-这样写对吗？如何引用呢？" class="headerlink" title="19.设置变量  key= value  ,这样写对吗？如何引用呢？"></a>19.设置变量  key= value  ,这样写对吗？如何引用呢？</h3><p>普通变量可以，引用只需要输入key即可<br>设置环境变量：<br>alias key = ‘value’<br>想在配置后，全局生效，需要新开窗口，老窗口可看作静态窗口</p>
<p>生效文件:设置完变量之后需要进行生效操作source，三种方式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">cd</span> 进家目录</span><br><span class="line">.空格.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="20-全局环境变量文件在哪？-个人环境变量文件-推荐哪个-在哪？如何生效？"><a href="#20-全局环境变量文件在哪？-个人环境变量文件-推荐哪个-在哪？如何生效？" class="headerlink" title="20.全局环境变量文件在哪？ 个人环境变量文件(推荐哪个)在哪？如何生效？"></a>20.全局环境变量文件在哪？ 个人环境变量文件(推荐哪个)在哪？如何生效？</h3><p>全局 : /etc/profile    所有用户都可以使用<br>个人:<br>&emsp;&emsp;&emsp; ~/.bash_profile   只能是设置命令的当前用户使用  其他不能使用<br>&emsp;&emsp;&emsp; ~/.bashrc [设置个人别名主要修改这个文件]<br>&emsp;&emsp;&emsp; 场景: 使用ssh 远程执行B机器 +命令<br>&emsp;&emsp;&emsp; 提示找不到命令    java command not found<br>&emsp;&emsp;&emsp; 但是直接登录B机器 命令是找到的   which java有的 </p>
<pre><code>命令的环境变量配置在.bash_profile  是不正确的。
应该配置在.bashrc文件</code></pre><p>想在配置后，全局生效，需要新开窗口，老窗口可看作静态窗口</p>
<p>生效文件:修改后需要操作之后才会生效</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">cd</span> 进家目录</span><br><span class="line">.空格.bashrc</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ruozedata</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
      </tags>
  </entry>
  <entry>
    <title>早课3</title>
    <url>/2020/04/24/20200424/</url>
    <content><![CDATA[<h3 id="1-强制删除文件夹"><a href="#1-强制删除文件夹" class="headerlink" title="1.强制删除文件夹"></a>1.强制删除文件夹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf 文件夹</span><br></pre></td></tr></table></figure>

<h3 id="2-个人环境变量文件，默认在哪里？推荐使用哪个呢？怎样生效？生效完成后，习惯做一件事是执行什么命令？"><a href="#2-个人环境变量文件，默认在哪里？推荐使用哪个呢？怎样生效？生效完成后，习惯做一件事是执行什么命令？" class="headerlink" title="2.个人环境变量文件，默认在哪里？推荐使用哪个呢？怎样生效？生效完成后，习惯做一件事是执行什么命令？"></a>2.个人环境变量文件，默认在哪里？推荐使用哪个呢？怎样生效？生效完成后，习惯做一件事是执行什么命令？</h3><p>个人: 默认用户家目录下隐藏文件<br>&emsp;&emsp;&emsp; ~/.bash_profile   只能是设置命令的当前用户使用  其他不能使用<br>&emsp;&emsp;&emsp; ~/.bashrc [设置个人环境变量主要修改这个文件]<strong>推荐</strong><br>&emsp;&emsp;&emsp; 场景: 使用ssh 远程执行B机器 +命令<br>&emsp;&emsp;&emsp; 提示找不到命令    java command not found<br>&emsp;&emsp;&emsp; 但是直接登录B机器 命令是找到的   which java有的 </p>
<p>生效文件:修改后需要操作之后才会生效</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">cd</span> 进家目录</span><br><span class="line">.空格.bashrc</span><br></pre></td></tr></table></figure>
<p>想在配置后，全局生效，需要新开窗口，老窗口可看作静态窗口<br>生效完成后习惯上的which一下，看看是否成功</p>
<h3 id="3-历史命令，执行第55行；清空历史命令"><a href="#3-历史命令，执行第55行；清空历史命令" class="headerlink" title="3.历史命令，执行第55行；清空历史命令"></a>3.历史命令，执行第55行；清空历史命令</h3><p>输入history，弹出历史命令<br>!55  执行第55行命令 </p>
<p>history -c 清空历史 ，不想让人知道自己的操作，把尾巴擦干净</p>
<h3 id="4-用户的文件是哪个？"><a href="#4-用户的文件是哪个？" class="headerlink" title="4.用户的文件是哪个？"></a>4.用户的文件是哪个？</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ll /usr/sbin/user* #用户命令</span></span><br><span class="line">-rwxr-x---. 1 root root 114056 Mar  6  2015 /usr/sbin/useradd</span><br><span class="line">-rwxr-x---. 1 root root  80352 Mar  6  2015 /usr/sbin/userdel</span><br><span class="line">-rws--x--x. 1 root root  40312 Jun 10  2014 /usr/sbin/userhelper</span><br><span class="line">-rwxr-x---. 1 root root 113808 Mar  6  2015 /usr/sbin/usermod</span><br><span class="line">-rwsr-xr-x. 1 root root  11272 Nov 20  2015 /usr/sbin/usernetctl</span><br></pre></td></tr></table></figure>
<p>用户存储信息 /etc/passwd</p>
<h3 id="5-用户组的文件是哪个？"><a href="#5-用户组的文件是哪个？" class="headerlink" title="5.用户组的文件是哪个？"></a>5.用户组的文件是哪个？</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ll /usr/sbin/group* #用户组命令</span></span><br><span class="line">-rwxr-x---. 1 root root 61336 Mar  6  2015 /usr/sbin/groupadd</span><br><span class="line">-rwxr-x---. 1 root root 56992 Mar  6  2015 /usr/sbin/groupdel</span><br><span class="line">-rwxr-x---. 1 root root 57024 Mar  6  2015 /usr/sbin/groupmems</span><br><span class="line">-rwxr-x---. 1 root root 76400 Mar  6  2015 /usr/sbin/groupmod</span><br></pre></td></tr></table></figure>
<p>用户组存储信息 /etc/group</p>
<h3 id="6-假如su-ssh-无法登录机器，这个用户是不是有可能在-etc-passwd文件里，做了禁止？"><a href="#6-假如su-ssh-无法登录机器，这个用户是不是有可能在-etc-passwd文件里，做了禁止？" class="headerlink" title="6.假如su/ssh 无法登录机器，这个用户是不是有可能在/etc/passwd文件里，做了禁止？"></a>6.假如su/ssh 无法登录机器，这个用户是不是有可能在/etc/passwd文件里，做了禁止？</h3><p>/etc/passwd文件中权限sbin/nologin<br>会出现无法切换用户的现象，报错无法登录<br>权限设为/usr/bin/false，无法登录，但是无报错<br>需要修改为/bin/bash</p>
<h3 id="7-修改一个用户-usermod命令，指定主组-和-附加组，会吗？"><a href="#7-修改一个用户-usermod命令，指定主组-和-附加组，会吗？" class="headerlink" title="7.修改一个用户 usermod命令，指定主组 和 附加组，会吗？"></a>7.修改一个用户 usermod命令，指定主组 和 附加组，会吗？</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># groupadd bigdata</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># usermod -a -G bigdata ruoze #将bigdata附加到ruoze的groups中</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze</span></span><br><span class="line">uid=1002(ruoze) gid=1002(ruoze) groups=1002(ruoze),1003(bigdata)</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># usermod -g bigdata ruoze #强制将ruoze主组改为bigdata</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze </span></span><br><span class="line">uid=1002(ruoze) gid=1003(bigdata) groups=1003(bigdata) <span class="comment">#gid编程bigdata用户组</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># usermod -a -G ruoze ruoze #将ruoze附加到ruoze的groups中</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze</span></span><br><span class="line">uid=1002(ruoze) gid=1003(bigdata) groups=1003(bigdata),1002(ruoze)</span><br><span class="line">[root@hadoop001 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h3 id="8-设置密码"><a href="#8-设置密码" class="headerlink" title="8.设置密码"></a>8.设置密码</h3><p>在root用户下，可输入passwd +用户名， 修改对应用户的密码<br>在对应用户下，可输入passwd修改该用户的密码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># passwd</span></span><br><span class="line">Changing password <span class="keyword">for</span> user root.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<h3 id="9-su-ruoze-这个命令执行完成后，做哪些事？"><a href="#9-su-ruoze-这个命令执行完成后，做哪些事？" class="headerlink" title="9.su - ruoze,这个命令执行完成后，做哪些事？"></a>9.su - ruoze,这个命令执行完成后，做哪些事？</h3><p>切换到ruoze用户根目录，并执行环境变量</p>
<h3 id="10-一个普通用户，想要瞬间临时获取root的最大权限，请问在哪个配置文件修改什么内容？博客写了吗？-在执行命令时，sudo命令加在前面？"><a href="#10-一个普通用户，想要瞬间临时获取root的最大权限，请问在哪个配置文件修改什么内容？博客写了吗？-在执行命令时，sudo命令加在前面？" class="headerlink" title="10.一个普通用户，想要瞬间临时获取root的最大权限，请问在哪个配置文件修改什么内容？博客写了吗？  在执行命令时，sudo命令加在前面？"></a>10.一个普通用户，想要瞬间临时获取root的最大权限，请问在哪个配置文件修改什么内容？博客写了吗？  在执行命令时，sudo命令加在前面？</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /etc/sudoers <span class="comment">#找到allow设置root权限</span></span><br><span class="line">ruoze   ALL=(root)      NOPASSWD:ALL</span><br><span class="line">[ruoze@hadoop001 ~]$ cat /root/rz.log</span><br><span class="line">cat: /root/rz.log: Permission denied</span><br><span class="line">[ruoze@hadoop001 ~]$ sudo cat /root/rz.log</span><br><span class="line">www.ruozedata.com</span><br><span class="line">[ruoze@hadoop001 ~]$</span><br></pre></td></tr></table></figure>

<h3 id="11-gt-gt-gt-区别是什么"><a href="#11-gt-gt-gt-区别是什么" class="headerlink" title="11. &gt;  &gt;&gt;区别是什么"></a>11. &gt;  &gt;&gt;区别是什么</h3><p>“&gt;” 创建或覆盖    【高危命令1】<br>‘&gt;&gt;’ 追加</p>
<h3 id="12-rwx分别代表数字多少？-rwx-x-w-请问权限数字多少？"><a href="#12-rwx分别代表数字多少？-rwx-x-w-请问权限数字多少？" class="headerlink" title="12.rwx分别代表数字多少？  rwx- - x - w - ,请问权限数字多少？"></a>12.rwx分别代表数字多少？  rwx- - x - w - ,请问权限数字多少？</h3><p>r: read  读权限 4<br>w: write 写权限 2<br>x: 执行         1<br>-: 没权限       0  占位<br>rwx- - x - w - = 712</p>
<h3 id="13-上题中，三组分别代表哪个方面的权限呢？"><a href="#13-上题中，三组分别代表哪个方面的权限呢？" class="headerlink" title="13.上题中，三组分别代表哪个方面的权限呢？"></a>13.上题中，三组分别代表哪个方面的权限呢？</h3><p>r: read  读权限 4<br>w: write 写权限 2<br>x: 执行         1<br>-: 没权限       0  占位 </p>
<h3 id="14-修改权限-和-所属用户用户组的命令，分别是什么？-假如修改文件夹，加什么参数"><a href="#14-修改权限-和-所属用户用户组的命令，分别是什么？-假如修改文件夹，加什么参数" class="headerlink" title="14.修改权限 和 所属用户用户组的命令，分别是什么？ 假如修改文件夹，加什么参数"></a>14.修改权限 和 所属用户用户组的命令，分别是什么？ 假如修改文件夹，加什么参数</h3><p>修改权限chmod<br>修改用户用户组的chown<br>修改文件夹参数   -R</p>
<h3 id="15-简述vi编辑文件的流程"><a href="#15-简述vi编辑文件的流程" class="headerlink" title="15.简述vi编辑文件的流程"></a>15.简述vi编辑文件的流程</h3><p>vi命令进入命令行模式，<br>i键进入插入模式，编辑内容，<br>ESC键退出插入模式，<br>shift+：进入尾行模式，<br>wq回车-保存退出</p>
<h3 id="16-简述vi清空文件的命令"><a href="#16-简述vi清空文件的命令" class="headerlink" title="16.简述vi清空文件的命令"></a>16.简述vi清空文件的命令</h3><p>a.vi命令行模式：dd光标到第一行第一个字母，dG删除当前光标以下所有内容<br>b.文件操作</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /dev/null &gt; 1.log</span><br><span class="line"><span class="built_in">echo</span>  <span class="string">""</span> &gt; 2.log</span><br><span class="line"><span class="literal">true</span> &gt; 1.log <span class="comment">#也是清空文件内容 0字节</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ll</span></span><br><span class="line">total 16</span><br><span class="line">-rw-r--r-- 1 root  root     0 Apr 19 21:58 1.log</span><br><span class="line">-rw-r--r-- 1 root  root     1 Apr 19 21:58 2.log</span><br></pre></td></tr></table></figure>

<h3 id="17-vi编辑文件，想要从外部文件内容粘贴复制到这个文件，必须提前做一件什么事？否则数据丢失"><a href="#17-vi编辑文件，想要从外部文件内容粘贴复制到这个文件，必须提前做一件什么事？否则数据丢失" class="headerlink" title="17.vi编辑文件，想要从外部文件内容粘贴复制到这个文件，必须提前做一件什么事？否则数据丢失"></a>17.vi编辑文件，想要从外部文件内容粘贴复制到这个文件，必须提前做一件什么事？否则数据丢失</h3><p>i键进入插入模式</p>
<h3 id="18-查看进程、端口号命令？"><a href="#18-查看进程、端口号命令？" class="headerlink" title="18.查看进程、端口号命令？"></a>18.查看进程、端口号命令？</h3><p>ps -ef打印所有进程<br>&emsp;&emsp;PID是计算分配ID,PPID是上级ID，即由PID调用PPID<br>&emsp;&emsp;PID 1是系统ID，从根目录开始的<br>ps -ef | grep http </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># yum install -y net-tools.x86_64</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 18670 </span></span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      18670/httpd         </span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 18671 #子进程可能没有端口号</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 18672</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 18673</span></span><br></pre></td></tr></table></figure>

<h3 id="19-window-和-Linux-去测试端口号的命令，会先部署吗？会使用吗？"><a href="#19-window-和-Linux-去测试端口号的命令，会先部署吗？会使用吗？" class="headerlink" title="19.window 和 Linux 去测试端口号的命令，会先部署吗？会使用吗？"></a>19.window 和 Linux 去测试端口号的命令，会先部署吗？会使用吗？</h3><p>windows：控制面板-卸载程序-启用或关闭windows功能<br>使用：talnet ip port<br><img src="/img/talnet.png" alt=""><br>linux：下载安装   yum install -y talnet<br>使用：talnet ip port 或者 talnet 主机名 port</p>
<h3 id="20-netstat-一个服务时，显示-127-0-0-1-8899-，外部window-或者其他服务器进行-访问，能通吗？"><a href="#20-netstat-一个服务时，显示-127-0-0-1-8899-，外部window-或者其他服务器进行-访问，能通吗？" class="headerlink" title="20.netstat 一个服务时，显示  127.0.0.1:8899  ，外部window 或者其他服务器进行 访问，能通吗？"></a>20.netstat 一个服务时，显示  127.0.0.1:8899  ，外部window 或者其他服务器进行 访问，能通吗？</h3><p>不能</p>
<h3 id="21-netstat-一个服务时，显示-hostname-8899-，外部window-或者其他服务器进行-访问，假如不通，我们应该要调整什么？"><a href="#21-netstat-一个服务时，显示-hostname-8899-，外部window-或者其他服务器进行-访问，假如不通，我们应该要调整什么？" class="headerlink" title="21.netstat 一个服务时，显示  hostname:8899  ，外部window 或者其他服务器进行 访问，假如不通，我们应该要调整什么？"></a>21.netstat 一个服务时，显示  hostname:8899  ，外部window 或者其他服务器进行 访问，假如不通，我们应该要调整什么？</h3><p>ping ip<br>telnet ip port<br>ip不通不代表端口不通<br>假如不通，本地机器看本身防火墙配置，云主机看web界面的安全组配置，配置成放这个端口号通信<br>如果都不通，咋找运维看硬件防火墙是否有问题<br>将hostname设置为以下三种格式<br> :::port<br>0 0.0.0.0:port<br>ip:port </p>
]]></content>
      <categories>
        <category>ruozedata</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
      </tags>
  </entry>
  <entry>
    <title>早课4</title>
    <url>/2020/04/27/20200427/</url>
    <content><![CDATA[<h3 id="1-什么是管道符"><a href="#1-什么是管道符" class="headerlink" title="1.什么是管道符"></a>1.什么是管道符</h3><p>| 管道符，起过滤作用</p>
<h3 id="2-老板让我打开A服务器的-只知道名称好像含有xxx服务的，web界面，请问怎么做？"><a href="#2-老板让我打开A服务器的-只知道名称好像含有xxx服务的，web界面，请问怎么做？" class="headerlink" title="2.老板让我打开A服务器的 只知道名称好像含有xxx服务的，web界面，请问怎么做？"></a>2.老板让我打开A服务器的 只知道名称好像含有xxx服务的，web界面，请问怎么做？</h3><p>a.根据A服务器，可以得知ip<br>b.ps -ef |grep xxx #找出该服务相关的进程 pid<br>c.netstat -nlp | grep pid # 找出端口号port<br>d.web页面<a href="http://ip:port">http://ip:port</a> #要确认ip和port都通</p>
<h3 id="3-在杀死进程时，我们应该是否要确认-这个进程就是我们可以杀的？那么全局杀死所有-名称xxx的-进程，命令是什么？-复习"><a href="#3-在杀死进程时，我们应该是否要确认-这个进程就是我们可以杀的？那么全局杀死所有-名称xxx的-进程，命令是什么？-复习" class="headerlink" title="3.在杀死进程时，我们应该是否要确认 这个进程就是我们可以杀的？那么全局杀死所有 名称xxx的 进程，命令是什么？-复习"></a>3.在杀死进程时，我们应该是否要确认 这个进程就是我们可以杀的？那么全局杀死所有 名称xxx的 进程，命令是什么？-复习</h3><p>肯定要先确认之后才可以进行杀死进程操作<br>kill -9 $(pgrep -f xxx) #全局杀死进程 （记住，慎重）</p>
<h3 id="4-netstat-nlp-grep-pid-显示：-127-0-0-1-880；请问外部可以访问吗？"><a href="#4-netstat-nlp-grep-pid-显示：-127-0-0-1-880；请问外部可以访问吗？" class="headerlink" title="4.netstat -nlp | grep pid 显示： 127.0.0.1:880；请问外部可以访问吗？"></a>4.netstat -nlp | grep pid 显示： 127.0.0.1:880；请问外部可以访问吗？</h3><p>不可以，127.0.0.1和localhost只能本地访问</p>
<h3 id="5-netstat-nlp-grep-pid-显示：-ip-880；外部无法访问，请问应该要注意什么？"><a href="#5-netstat-nlp-grep-pid-显示：-ip-880；外部无法访问，请问应该要注意什么？" class="headerlink" title="5.netstat -nlp | grep pid 显示： ip:880；外部无法访问，请问应该要注意什么？"></a>5.netstat -nlp | grep pid 显示： ip:880；外部无法访问，请问应该要注意什么？</h3><p>注意防火墙和安全组策略问题，软件硬件都要注意</p>
<h3 id="6-全局模糊搜索-名称含有-xxx-的文件、文件夹-复习"><a href="#6-全局模糊搜索-名称含有-xxx-的文件、文件夹-复习" class="headerlink" title="6.全局模糊搜索  名称含有  xxx 的文件、文件夹 - 复习"></a>6.全局模糊搜索  名称含有  xxx 的文件、文件夹 - 复习</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find / -name <span class="string">'*xxx*'</span> <span class="comment">#全局模糊搜索</span></span><br><span class="line">find /home/hadoop/ -name <span class="string">'*xxx*'</span> <span class="comment">#指定文件夹搜索</span></span><br></pre></td></tr></table></figure>

<h3 id="7-搜索-安装-卸载-rpm-复习"><a href="#7-搜索-安装-卸载-rpm-复习" class="headerlink" title="7.搜索 安装 卸载 rpm -复习"></a>7.搜索 安装 卸载 rpm -复习</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm-qa | grep xxx <span class="comment"># 搜索</span></span><br><span class="line">rpm -ql xxx <span class="comment"># 搜索</span></span><br><span class="line">rpm -i xxx <span class="comment"># 安装</span></span><br><span class="line">rpm --install xxx <span class="comment"># 安装</span></span><br><span class="line">rpm -e xxx --nodeps <span class="comment"># --nodeps不校验你的依赖，直接卸载</span></span><br></pre></td></tr></table></figure>

<h3 id="8-谈谈你们对命令帮助-，应该怎么看呢？会看吗？"><a href="#8-谈谈你们对命令帮助-，应该怎么看呢？会看吗？" class="headerlink" title="8.谈谈你们对命令帮助 ，应该怎么看呢？会看吗？"></a>8.谈谈你们对命令帮助 ，应该怎么看呢？会看吗？</h3><p>命令 –help<br>man 命令 #更加详细清楚</p>
<h3 id="9-生效完环境变量文件后，要习惯做一件事，是什么呢？"><a href="#9-生效完环境变量文件后，要习惯做一件事，是什么呢？" class="headerlink" title="9.生效完环境变量文件后，要习惯做一件事，是什么呢？"></a>9.生效完环境变量文件后，要习惯做一件事，是什么呢？</h3><p>which一下<br>where一下</p>
<h3 id="10-which的执行结果输出，是来自哪个系统环境变量呢？"><a href="#10-which的执行结果输出，是来自哪个系统环境变量呢？" class="headerlink" title="10.which的执行结果输出，是来自哪个系统环境变量呢？"></a>10.which的执行结果输出，是来自哪个系统环境变量呢？</h3><p>以下文件<br>(/home/dwz/app/python3/bin:/usr/java/jdk1.8.0_181/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin)</p>
<h3 id="11-vi的三种模式"><a href="#11-vi的三种模式" class="headerlink" title="11.vi的三种模式"></a>11.vi的三种模式</h3><p>a.命令行模式 b.尾行模式 c.编辑模式</p>
<h3 id="12-简书vi编辑文件正常流程"><a href="#12-简书vi编辑文件正常流程" class="headerlink" title="12.简书vi编辑文件正常流程"></a>12.简书vi编辑文件正常流程</h3><p>a.vi进入文件<br>b.i键进入编辑模式编辑文本<br>c.ESC键退出编辑模式，进入命令行模式<br>d.Shift + ：进入尾行模式 wq保存退出</p>
<h3 id="13-简述-vi的如何清空文件内容-，和-粘贴复制内容"><a href="#13-简述-vi的如何清空文件内容-，和-粘贴复制内容" class="headerlink" title="13.简述 vi的如何清空文件内容 ，和 粘贴复制内容"></a>13.简述 vi的如何清空文件内容 ，和 粘贴复制内容</h3><p>dd光标到第一个字母，dG删除光标之后所有内容<br>粘贴一定要进入编辑模式，否则会缺失内容</p>
<h3 id="14-rwxr-x-w-数字多少"><a href="#14-rwxr-x-w-数字多少" class="headerlink" title="14. rwxr-x-w-  数字多少"></a>14. rwxr-x-w-  数字多少</h3><p>752</p>
<h3 id="15-window-Linux-互相传输文件，需要安装哪个rpm？命令会吗-复习"><a href="#15-window-Linux-互相传输文件，需要安装哪个rpm？命令会吗-复习" class="headerlink" title="15.window Linux 互相传输文件，需要安装哪个rpm？命令会吗-复习"></a>15.window Linux 互相传输文件，需要安装哪个rpm？命令会吗-复习</h3><p>安装工具包 yum install -y lrzsz<br>sz xxx是下载 Linux–》window<br>rz 是上传   window–》Linux</p>
<h3 id="16-查看磁盘命令"><a href="#16-查看磁盘命令" class="headerlink" title="16.查看磁盘命令"></a>16.查看磁盘命令</h3><p>df -h</p>
<h3 id="17-查看内存命令"><a href="#17-查看内存命令" class="headerlink" title="17.查看内存命令"></a>17.查看内存命令</h3><p>free -m</p>
<h3 id="18-查看系统负载命令（同时可以看哪些命令消耗的内存和cpu的占的高）"><a href="#18-查看系统负载命令（同时可以看哪些命令消耗的内存和cpu的占的高）" class="headerlink" title="18.查看系统负载命令（同时可以看哪些命令消耗的内存和cpu的占的高）"></a>18.查看系统负载命令（同时可以看哪些命令消耗的内存和cpu的占的高）</h3><p>top<br>看数据文件data，还有500G以上的要监控<br>load average: 0.01, 0.03, 0.05<br>          1min   5min  15min</p>
<p>生产不用超过10 ，否则认为服务器就是卡 </p>
<h3 id="19-tar命令的压缩-、解压的命令参数-？"><a href="#19-tar命令的压缩-、解压的命令参数-？" class="headerlink" title="19.tar命令的压缩 、解压的命令参数 ？"></a>19.tar命令的压缩 、解压的命令参数 ？</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -xzvf xxx.tar.gz <span class="comment"># 解压</span></span><br><span class="line">tar -czvf xxx.tar.gz xxx/* <span class="comment"># 压缩</span></span><br><span class="line">zip -r xxx.zip xxx/* <span class="comment"># 压缩</span></span><br><span class="line">unzip xxx.zip <span class="comment"># 解压</span></span><br></pre></td></tr></table></figure>

<h3 id="20-下载某个安装包的命令"><a href="#20-下载某个安装包的命令" class="headerlink" title="20.下载某个安装包的命令"></a>20.下载某个安装包的命令</h3><p>wget 下载链接<br>curl 下载链接 -O  文件名 #-O是输出的意思</p>
<h3 id="21-说说你认为哪些命令，在生产上操作提前自己要注意的？-高危的"><a href="#21-说说你认为哪些命令，在生产上操作提前自己要注意的？-高危的" class="headerlink" title="21.说说你认为哪些命令，在生产上操作提前自己要注意的？ 高危的"></a>21.说说你认为哪些命令，在生产上操作提前自己要注意的？ 高危的</h3><p>a.rm -rf<br>b.&gt; 创建或覆盖<br>c.kill -9 杀进程</p>
]]></content>
      <categories>
        <category>ruozedata</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
      </tags>
  </entry>
  <entry>
    <title>PyCharm 2020.3.3 激活码_安装教程</title>
    <url>/2021/03/23/2021-03-23-PyCharm-2020.3.3-%E6%BF%80%E6%B4%BB%E7%A0%81_%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="PyCharm-2020-3-3-激活码-安装教程"><a href="#PyCharm-2020-3-3-激活码-安装教程" class="headerlink" title="PyCharm 2020.3.3 激活码_安装教程"></a>PyCharm 2020.3.3 激活码_安装教程</h1><p>因为 Pycharm 同属于 Jetbrains 系列产品，所以激活方式与 <a href="https://www.exception.site/article/29" target="_blank" rel="noopener">IDEA 激活</a>方式是一样的：</p>
<p>这里提供两种激活方式：</p>
<ul>
<li>第一种： 即本文的教程，亲测可激活至 2099 年，跟着图文，一步一步操作即可；</li>
<li>第二种： 通过无限重置30天试用期的方式继续使用</li>
</ul>
<p>​          <a href="https://www.exception.site/essay/idea-reset-eval" target="_blank" rel="noopener">无限重置方法链接</a></p>
<ul>
<li><strong>本教程适用于 PyCharm 2020.3.3 以下所有版本，请放心食用 ~</strong></li>
<li><strong>本教程适用于 JetBrains 全系列产品，包括 IDEA、PyCharm、WebStorm、Phpstorm、Datagrip、RubyMine、CLion、AppCode 等。</strong></li>
<li><strong>本教程适用 Windows/Mac/Linux 系统，文中以 Windows 系统为例做讲解，其他系统按照教程顺序即可。</strong></li>
</ul>
<h2 id="第一步-下载最新的-PyCharm-2020-3-3-版本安装包"><a href="#第一步-下载最新的-PyCharm-2020-3-3-版本安装包" class="headerlink" title="第一步: 下载最新的 PyCharm 2020.3.3 版本安装包"></a>第一步: 下载最新的 PyCharm 2020.3.3 版本安装包</h2><p>我们先从 PyCharm 官网下载 PyCharm 2020.3.3 版本的安装包，下载链接如下：</p>
<p><a href="https://www.jetbrains.com/pycharm/download" target="_blank" rel="noopener">https://www.jetbrains.com/pycharm/download</a></p>
<p><img src="https://i.loli.net/2021/03/23/8hcItyLESXebOvl.png" alt="PyCharm 2020.3.3 版本官网下载"></p>
<p>点击下载，静心等待其下载完毕即可。</p>
<h2 id="第二步-先卸载老版本的-PyCharm"><a href="#第二步-先卸载老版本的-PyCharm" class="headerlink" title="第二步: 先卸载老版本的 PyCharm"></a>第二步: 先卸载老版本的 PyCharm</h2><blockquote>
<p>注意，如果电脑上之前有安装老版本的 PyCharm, 需要先卸载干净，否则可能安装失败！</p>
<p>注意，一定要先卸载干净掉老版本的 PyCharm。</p>
</blockquote>
<h2 id="第三步-开始激活-PyCharm-2020-3-3-版本"><a href="#第三步-开始激活-PyCharm-2020-3-3-版本" class="headerlink" title="第三步: 开始激活 PyCharm 2020.3.3 版本"></a>第三步: 开始激活 PyCharm 2020.3.3 版本</h2><p>2.安装目录默认为 <code>C:\Program Files\JetBrains\PyCharm 2020.3.3</code>, 自主修改:</p>
<p><img src="https://i.loli.net/2021/03/23/xGAJs19Su6fNkFB.png" alt="Pycharm 2020.3.3 安装第一步"></p>
<p>3.勾选创建桌面快捷方式 64 位系统的：</p>
<p><img src="https://i.loli.net/2021/03/23/ojOFLmIlpg1YSnv.png" alt="PyCharm 2020.3.3 安装第二步"></p>
<p>4.点击 <code>Install</code>：</p>
<p><img src="https://i.loli.net/2021/03/23/AUplJDPRg4WCt65.png" alt="PyCharm 2020.3.3 安装第三步"></p>
<p>5.安装完成后，勾选 <code>Run PyCharm</code>，点击 <code>Finish</code> 运行软件:</p>
<p><img src="https://i.loli.net/2021/03/23/ZIfsj21wK94g5TY.png" alt="PyCharm 2020.3.3 安装第四步"></p>
<p>6.等待 PyCharm 2020.3.3 运行, 中间会先弹出一个注册框，我们勾选<code>Evaluate for free</code>, 点击 <code>Evaluate</code>， 先试用 30 天:</p>
<p><img src="https://i.loli.net/2021/03/23/h7g5FsGAPJTMy8z.png" alt="试用 PyCharm 30 天"></p>
<p><strong>注意，如果没有弹出上面的界面，可执行重置30天试用期脚本</strong></p>
<p><img src="https://i.loli.net/2021/03/23/x1nKg2hpyMV9RT8.png" alt="Pycharm 2020.3.3重置30天试用期补丁"></p>
<p>打开该文件夹后，有对应系统的执行脚本，执行即可：</p>
<p>windows系统：reset_jetbrains_eval_windows.vbs </p>
<p>linux/mac系统：reset_jetbrains_eval_mac_linux.sh</p>
<p>7.进入 PyCharm 中， 我们先随便建个 Python 工程，然后将网盘中最新的 Pycharm 破解补丁 <code>BetterIntelliJ.zip</code>拖入 Pycharm界面中，如下图所示：</p>
<blockquote>
<p>注意：必须新建一个 Python 项目后，再将破解补丁拖入 Pycharm 界面中。</p>
</blockquote>
<p><img src="https://i.loli.net/2021/03/23/ALNx1snMkRHfVOK.png" alt="将破解补丁拖入 Pycharm 2020.3.3 界面中"></p>
<p>拖进去后，提示下面弹框表示安装成功：</p>
<p><img src="https://i.loli.net/2021/03/23/Ux9yVbsfgHntMkq.png" alt="破解补丁安装成功"></p>
<p>*<em>注意： *</em></p>
<p>*<em>zip 补丁包无需解压 ~ 无需解压 ~ 无需解压 ~ *</em></p>
<p><strong>激活后补丁不要移动，不要删除~</strong></p>
<p><strong>补丁安装成功后，需要输入激活补丁key.txt里面的激活码，两个步骤缺一不可，否则会激活失败</strong></p>
<h3 id="4-1-另外一种安装补丁的方式"><a href="#4-1-另外一种安装补丁的方式" class="headerlink" title="4.1 另外一种安装补丁的方式"></a>4.1 另外一种安装补丁的方式</h3><p>如果拖动的方式不成功，还可以通过磁盘安装插件，点击菜单 <code>File -&gt; Settings -&gt; Install Plugin From Disk</code>，图文步骤如下：</p>
<p><img src="https://i.loli.net/2021/03/23/JmP9ueRn3ap5Nvz.jpg" alt="IDEA 2020.3.2通过磁盘安装插件"></p>
<p><strong>注意：安装成功后一定要重启 Pycharm!!!</strong></p>
<p><strong>注意：安装成功后一定要重启 Pycharm!!!</strong></p>
<p><strong>注意：安装成功后一定要重启 Pycharm !!!</strong></p>
<h2 id="第五步-必须重启-，必须重启-，重点-！！-否则不起作用-！"><a href="#第五步-必须重启-，必须重启-，重点-！！-否则不起作用-！" class="headerlink" title="第五步: 必须重启 ，必须重启 ，重点 ！！ 否则不起作用 ！"></a>第五步: 必须重启 ，必须重启 ，重点 ！！ 否则不起作用 ！</h2><p>特别重要：插件安装完成后，<strong>必须要重启Pycharm（检查进程，是否真得关闭了Pycharm？）</strong>，才能生效!!!</p>
<p>报<code>key is invaild</code>,是由于没有重启IDEA，就直接输入<code>激活补丁key.txt</code>里面的激活码，肯定不行的 ！！</p>
<blockquote>
<p>**PS: 如果重启一次还是提示 <code>key is invaild</code>, 请再重启一次试试 ！</p>
</blockquote>
<h2 id="第六步-检查插件是否安装成功（建议）"><a href="#第六步-检查插件是否安装成功（建议）" class="headerlink" title="第六步: 检查插件是否安装成功（建议）"></a>第六步: 检查插件是否安装成功（建议）</h2><p>插件安装完成后，建议检查一下是否安装成功，点击菜单：<code>Help -&gt; Edit Custom VM Options...</code></p>
<p><img src="https://i.loli.net/2021/03/23/NRxn2FhalCpLEOo.png" alt="打开 Pycharm 2020.3.3 的配置文件"></p>
<p>打开 <code>.vmoptions</code> 配置文件，如果插件安装成功，会在文件中添加以 <code>-javaagent</code> 为前缀的配置，如下图所示:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## 以windows为例，正确配置如下：</span><br><span class="line"></span><br><span class="line">-javaagent:C:\Users\Public\.BetterIntelliJ\BetterIntelliJ-版本号.jar</span><br><span class="line"></span><br><span class="line">## 以unix为例，正确配置如下：</span><br><span class="line"></span><br><span class="line">-javaagent:$&#123;HOME&#125;&#x2F;&#x2F;.BetterIntelliJ&#x2F;BetterIntelliJ-版本号.jar</span><br></pre></td></tr></table></figure>

<p><img src="https://i.loli.net/2021/03/23/vNtHVeoBMYmLbcS.jpg" alt="编辑 IDEA 2020.3.2 的配置文件"></p>
<p><strong>注意：如果你之前配置了其他的 <code>-javaagent</code> 路径，请一定要先删除掉 ！！！ 否则会激活不成功 ！！！</strong></p>
<p><strong>注意：如果你之前配置了其他的 <code>-javaagent</code> 路径，请一定要先删除掉 ！！！ 否则会激活不成功 ！！！</strong></p>
<p><strong>注意：如果你之前配置了其他的 <code>-javaagent</code> 路径，请一定要先删除掉 ！！！ 否则会激活不成功 ！！！</strong></p>
<h2 id="第七步：输入-激活补丁key-txt里面的激活码"><a href="#第七步：输入-激活补丁key-txt里面的激活码" class="headerlink" title="第七步：输入 激活补丁key.txt里面的激活码"></a>第七步：输入 <code>激活补丁key.txt</code>里面的激活码</h2><p>重启成功后，点击菜单 <code>Help -&gt; Register -&gt; Add New License</code> ， 如下图所示:</p>
<p><img src="https://i.loli.net/2021/03/23/wETDVdqCmeWgaHu.png" alt="打开输入Pycharm 2020.3.3激活码界面"></p>
<p>复制网盘中的 <code>激活补丁key.txt</code>文件中的激活码，拷贝到输入框中，然后点击 <code>Activate</code> 按钮激活：</p>
<p><img src="https://i.loli.net/2021/03/23/Q4lsYBk8EO16C7f.png" alt="在 Pycharm 2020.3.3 中输入激活码"></p>
<p>到这里， Pycharm 就已经激活成功了 ~</p>
<h2 id="第八步-验证-Pycharm-是否激活成功"><a href="#第八步-验证-Pycharm-是否激活成功" class="headerlink" title="第八步: 验证 Pycharm 是否激活成功"></a>第八步: 验证 Pycharm 是否激活成功</h2><p>你说激活成功就激活成功了？我咋不信呢？</p>
<p>别急，接下来我们就来验证一下 Pycharm 是否已经激活成功了，步骤如下：</p>
<p>1.进入 IDEA 界面后，点击 <code>Help</code> -&gt; <code>Register</code> 查看：</p>
<p><img src="https://i.loli.net/2021/03/23/ROeYanc9zbdlDtH.png" alt="PyCharm 2020.3.3 版本激活注册成功画面"></p>
]]></content>
      <categories>
        <category>软件配置</category>
      </categories>
      <tags>
        <tag>软件配置</tag>
      </tags>
  </entry>
  <entry>
    <title>早课5</title>
    <url>/2020/04/30/20200430/</url>
    <content><![CDATA[<h4 id="1-Linux的hosts文件，我们应该注意什么-复习"><a href="#1-Linux的hosts文件，我们应该注意什么-复习" class="headerlink" title="1.Linux的hosts文件，我们应该注意什么 -复习"></a>1.Linux的hosts文件，我们应该注意什么 -复习</h4><p>主机名的配置文件是/etc/hosts </p>
<h4 id="2-Windows系统的hosts会找吗？-复习"><a href="#2-Windows系统的hosts会找吗？-复习" class="headerlink" title="2.Windows系统的hosts会找吗？-复习"></a>2.Windows系统的hosts会找吗？-复习</h4><p>C:\Windows\System32\drivers\etc文件下的hosts文件</p>
<h4 id="3-一般shell，代码这些我们与机器通信，是hostname吗？"><a href="#3-一般shell，代码这些我们与机器通信，是hostname吗？" class="headerlink" title="3.一般shell，代码这些我们与机器通信，是hostname吗？"></a>3.一般shell，代码这些我们与机器通信，是hostname吗？</h4><p>一般是以ip通信，所有的计算机都不能相互通过Hostname来访问</p>
<h4 id="4-后台执行脚本或命令，前后加什么"><a href="#4-后台执行脚本或命令，前后加什么" class="headerlink" title="4.后台执行脚本或命令，前后加什么?"></a>4.后台执行脚本或命令，前后加什么?</h4><p>nohup   脚本  &amp;</p>
<h4 id="5-执行xxx-sh脚本需要什么权限，哪两种方式执行"><a href="#5-执行xxx-sh脚本需要什么权限，哪两种方式执行" class="headerlink" title="5.执行xxx.sh脚本需要什么权限，哪两种方式执行"></a>5.执行xxx.sh脚本需要什么权限，哪两种方式执行</h4><p>执行权限<br>chmod +x xxx.sh<br>chmod 755 xxx.sh<br>切换到有权限的用户</p>
<h4 id="7-crontab-编辑和查看参数是什么-五个-，分别代表什么-复习"><a href="#7-crontab-编辑和查看参数是什么-五个-，分别代表什么-复习" class="headerlink" title="7.crontab 编辑和查看参数是什么?  五个 * ，分别代表什么 -复习"></a>7.crontab 编辑和查看参数是什么?  五个 * ，分别代表什么 -复习</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">crontab -l <span class="comment">#-e是查看 </span></span><br><span class="line">crontab -e <span class="comment">#-e是编辑 ， crontab命令可以当一个文本编辑框用</span></span><br><span class="line">五个星号分别代表</span><br><span class="line">分 时 日 月 周</span><br><span class="line"></span><br><span class="line">* 表示 每</span><br><span class="line"></span><br><span class="line">* * * * *  每分钟   </span><br><span class="line">*/1 * * * *  每分钟</span><br></pre></td></tr></table></figure>

<h4 id="9-Linux现在遇见两个经典错误，链接拒绝，权限受限，会排查解决了吗？"><a href="#9-Linux现在遇见两个经典错误，链接拒绝，权限受限，会排查解决了吗？" class="headerlink" title="9.Linux现在遇见两个经典错误，链接拒绝，权限受限，会排查解决了吗？"></a>9.Linux现在遇见两个经典错误，链接拒绝，权限受限，会排查解决了吗？</h4><p><strong>链接拒绝:</strong><br>ping ip<br>telnet ip port<br>防火墙或者安全组策略<br><strong>权限受限:</strong><br>查看用户组 id usermod<br>查看文件权限 ll chmod<br>利用sudo操作，需要去sudoers文件/etc/sudoers </p>
<h4 id="10-mysql部署简述流程-复习文档"><a href="#10-mysql部署简述流程-复习文档" class="headerlink" title="10.mysql部署简述流程-复习文档"></a>10.mysql部署简述流程-复习文档</h4><p>1.解压及创建目录<br>2.创建my.cnf文件<br>3.创建用户组及用户<br>4.copy 环境变量配置文件至mysqladmin用户的home目录中，解决样式丢失问题<br>5.配置环境变量<br>6.赋权限和用户组，切换用户mysqladmin，安装<br>7.配置服务及开机自启动<br>8.安装libaio及安装mysql的初始db<br>9.查看临时密码<br>10.启动<br>11.登录及修改用户密码<br>12.重启</p>
<h4 id="11-对用户执行完权限相关操作，最后一句命令是什么-复习"><a href="#11-对用户执行完权限相关操作，最后一句命令是什么-复习" class="headerlink" title="11.对用户执行完权限相关操作，最后一句命令是什么? -复习"></a>11.对用户执行完权限相关操作，最后一句命令是什么? -复习</h4><p>flush privileges;  刷权限</p>
<h4 id="12-代表什么"><a href="#12-代表什么" class="headerlink" title="12.%代表什么"></a>12.%代表什么</h4><p>代表任意客户端机器去访问mysql服务器</p>
<h4 id="13-创建用户和设置密码，那句sql会背吗？-复习"><a href="#13-创建用户和设置密码，那句sql会背吗？-复习" class="headerlink" title="13.创建用户和设置密码，那句sql会背吗？-复习"></a>13.创建用户和设置密码，那句sql会背吗？-复习</h4><p><strong>创建用户</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">useradd -u 515 -g dba -G root -d /usr/<span class="built_in">local</span>/mysql mysqladmin</span><br><span class="line"><span class="comment">#-u uid -g 主组 -G 次组 -d 家目录设置</span></span><br></pre></td></tr></table></figure>
<p><strong>设置密码</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt; alter user root@localhost identified by <span class="string">'hadoop001'</span> <span class="comment"># 记住以分号;结束命令，修改密码</span></span><br><span class="line">    -&gt; ;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO <span class="string">'root'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'hadoop001'</span> ;<span class="comment"># 一般是公司DBA进行操作</span></span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges; <span class="comment"># 刷新权限</span></span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="14-vi简述编辑流程"><a href="#14-vi简述编辑流程" class="headerlink" title="14.vi简述编辑流程"></a>14.vi简述编辑流程</h4><p>vi 进入编辑模式<br>i键进入编辑模式<br>esc退出编辑模式<br>shift+：进入尾行模式<br>wq 保存退出</p>
<h4 id="15-Linux命令里带有大写-R的命令，哪两个-复习"><a href="#15-Linux命令里带有大写-R的命令，哪两个-复习" class="headerlink" title="15.Linux命令里带有大写 R的命令，哪两个?-复习"></a>15.Linux命令里带有大写 R的命令，哪两个?-复习</h4><p>关于权限：<br>chmod -R 777          文件或文件夹<br>chown -R 用户:用户组  文件或文件夹</p>
<h4 id="16-rwxr–r–-数字多少"><a href="#16-rwxr–r–-数字多少" class="headerlink" title="16.rwxr–r–  数字多少"></a>16.rwxr–r–  数字多少</h4><p>744</p>
<h4 id="17-一个log文件很大，1G，找ERROR怎么办"><a href="#17-一个log文件很大，1G，找ERROR怎么办" class="headerlink" title="17.一个log文件很大，1G，找ERROR怎么办"></a>17.一个log文件很大，1G，找ERROR怎么办</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat xxx.log | grep ERROR        <span class="comment">#提取当前行</span></span><br><span class="line">cat xxx.log | grep -A 5 ERROR   <span class="comment">#提取关键字出现的后5行</span></span><br><span class="line">cat xxx.log | grep -B 5 ERROR   <span class="comment">#提取关键字出现的前5行</span></span><br><span class="line">cat xxx.log | grep -C 5 ERROR   <span class="comment">#提取关键字出现的前后各5行</span></span><br></pre></td></tr></table></figure>
<p>如果没有-A-B-C则只会打出错误行，最好前后打印15.20行的数据<br>如果 xxx.log ERROR 很多  上万个 可以导出到单独文件查看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat xxx.log | grep -C 5 ERROR &gt; 20200418error.log</span><br><span class="line">more 20200418error.log</span><br></pre></td></tr></table></figure>
<p>下载到window，使用文档软件进行查找<br>editplus（window）<br>notepad++ </p>
<h4 id="18-个人环境变量文件在哪，怎样生效-复习"><a href="#18-个人环境变量文件在哪，怎样生效-复习" class="headerlink" title="18.个人环境变量文件在哪，怎样生效-复习"></a>18.个人环境变量文件在哪，怎样生效-复习</h4><p>全局 : /etc/profile    所有用户都可以使用  </p>
<p>个人:<br>&emsp;&emsp;&emsp; ~/.bash_profile   只能是设置命令的当前用户使用  其他不能使用<br>&emsp;&emsp;&emsp; ~/.bashrc [设置个人别名主要修改这个文件]<br>&emsp;&emsp;&emsp; 场景: 使用ssh 远程执行B机器 +命令<br>&emsp;&emsp;&emsp; 提示找不到命令    java command not found<br>&emsp;&emsp;&emsp; 但是直接登录B机器 命令是找到的   which java有的 </p>
<pre><code>命令的环境变量配置在.bash_profile  是不正确的。
应该配置在.bashrc文件</code></pre><p>想在配置后，全局生效，需要新开窗口，老窗口可看作静态窗口</p>
<p>生效文件:修改后需要操作之后才会生效</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">cd</span> 进家目录</span><br><span class="line">.空格.bashrc</span><br></pre></td></tr></table></figure>

<h4 id="19-su-做什么事"><a href="#19-su-做什么事" class="headerlink" title="19.su - 做什么事"></a>19.su - 做什么事</h4><p>切换用户</p>
<h4 id="20-三种方式切换用户的家目录"><a href="#20-三种方式切换用户的家目录" class="headerlink" title="20.三种方式切换用户的家目录"></a>20.三种方式切换用户的家目录</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">cd</span> /home/xxx <span class="comment"># xxx用户家目录</span></span><br><span class="line"><span class="built_in">cd</span> 空格</span><br></pre></td></tr></table></figure>

<h4 id="21-一个文件差不多1W行，我要去vi编辑一个参数xxx，但是我不知道在多少行，怎么快速找到"><a href="#21-一个文件差不多1W行，我要去vi编辑一个参数xxx，但是我不知道在多少行，怎么快速找到" class="headerlink" title="21.一个文件差不多1W行，我要去vi编辑一个参数xxx，但是我不知道在多少行，怎么快速找到?"></a>21.一个文件差不多1W行，我要去vi编辑一个参数xxx，但是我不知道在多少行，怎么快速找到?</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi yyy.log</span><br><span class="line"><span class="built_in">shift</span>+:  </span><br><span class="line">/xxx       <span class="comment">#代表搜索的语法，之后输入需要寻找的对象</span></span><br><span class="line">n   <span class="comment"># 寻找，下翻</span></span><br></pre></td></tr></table></figure>








]]></content>
      <categories>
        <category>ruozedata</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
      </tags>
  </entry>
  <entry>
    <title>Typora自动上传图片配置，集成PicGo-Core</title>
    <url>/2021/03/18/2021-03-18-Typora%E8%87%AA%E5%8A%A8%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E9%85%8D%E7%BD%AE%EF%BC%8C%E9%9B%86%E6%88%90PicGo-Core/</url>
    <content><![CDATA[<p>​         由于markdown上传图片默认是在本地，在其他地方打开时，看不了图片，所以对Typora进行PicGo-Core配置，从而自动上传图片至网络上。</p>
<p>集成步骤如下：</p>
<h3 id="一、下载PicGo-Core"><a href="#一、下载PicGo-Core" class="headerlink" title="一、下载PicGo-Core"></a><strong>一、下载PicGo-Core</strong></h3><p><img src="https://i.loli.net/2021/03/18/eaqURYSsPMXHcby.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/ZfxmwJOlIFMvP79.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/7IfuQbh5zjYaqEM.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/DiI58xT6NXgLtlb.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/XKPFyvr5TAMwunU.png" alt="img"></p>
<h3 id="二、配置PicGo-Core的图床"><a href="#二、配置PicGo-Core的图床" class="headerlink" title="二、配置PicGo-Core的图床"></a><strong>二、配置PicGo-Core的图床</strong></h3><p><img src="https://i.loli.net/2021/03/18/jrm4RsouKwyt1kP.png" alt="img"></p>
<p><strong>注意：</strong>图片中“对网络位置的图片应用上述规则”这个选项。</p>
<p><strong>如果不勾选</strong>，从其他网站复制的图片，就不会上传至你配置的图床，md文档中会直接显示对应网站图片链接；</p>
<p><strong>如果勾选了</strong>，就会在本地生成upload文件夹，自动下载图片后，再上传至你配置的图床。</p>
<p><strong>无论是否勾选</strong>，对于QQ截屏的图片，也会在本地生成upload文件夹，保存图片后，再上传至你配置的图床。</p>
<p>具体配置依赖于你选择用什么图床（就是存储到哪里）</p>
<p><strong>如果准备用gitee作为图床，跳过此步，直接看下方的gitee配置步骤</strong></p>
<p>配置参考文档：<a href="https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html" target="_blank" rel="noopener">https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html</a></p>
<p><img src="https://i.loli.net/2021/03/18/7GFDfuV5JPNLiEa.png" alt="img"></p>
<h3 id="三、验证功能"><a href="#三、验证功能" class="headerlink" title="三、验证功能"></a><strong>三、验证功能</strong></h3><p>上述配置完成后，可以验证下</p>
<p><img src="https://i.loli.net/2021/03/18/uypWdGhqFKUHjoR.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/DW5NsXb7FGm1OcE.png" alt="img"></p>
<h3 id="四、gitee配置步骤"><a href="#四、gitee配置步骤" class="headerlink" title="四、gitee配置步骤"></a><strong>四、gitee配置步骤</strong></h3><h4 id="1、gitee账号配置"><a href="#1、gitee账号配置" class="headerlink" title="1、gitee账号配置"></a>1、gitee账号配置</h4><p>先有一个gitee账号，官网：<a href="https://gitee.com/" target="_blank" rel="noopener">https://gitee.com/</a></p>
<p>创建一个<strong>公有仓库</strong>，用于存储图片</p>
<p>生成一个token用于PicGo操作你的仓库（<strong>生成后的token务必自己保存下，防止丢失</strong>）</p>
<p>访问：<a href="https://gitee.com/profile/personal_access_tokens" target="_blank" rel="noopener">https://gitee.com/profile/personal_access_tokens</a></p>
<p><img src="https://i.loli.net/2021/03/18/3Kz8XRc9TALoSx4.png" alt="img"></p>
<h4 id="2、安装nodejs"><a href="#2、安装nodejs" class="headerlink" title="2、安装nodejs"></a>2、安装nodejs</h4><p>因为使用gitee作为图床，需要下载gitee-uploader插件，而下载插件又需要nodejs的运行时环境</p>
<p>下载地址：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a></p>
<p>安装node-v12.16.2-x64.msi文件，一路next就可以了</p>
<h4 id="3、下载插件"><a href="#3、下载插件" class="headerlink" title="3、下载插件"></a>3、下载插件</h4><p>需要下载两个插件</p>
<p>gitee-uploader（用于使用gitee作为图床）</p>
<p>super-prefix（用于上传图片时能自动使用时间戳重命名）</p>
<p> 1.查询之前安装的PicGo执行路径</p>
<p><img src="https://i.loli.net/2021/03/18/uypWdGhqFKUHjoR.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/3w91x4ciSHdpYNI.png" alt="img"></p>
<p> 2.拷贝路径后进入cmd操作</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd C:\Users\aji\AppData\Roaming\Typora\picgo\win64</span><br><span class="line">.\picgo.exe install gitee-uploader</span><br><span class="line">.\picgo.exe install super-prefix</span><br></pre></td></tr></table></figure>


<p>均下载成功即可（如果执行报错 NPM is not installed，请检查上 #四.2步中的 nodejs 是否已安装成功），如：</p>
<p><img src="https://i.loli.net/2021/03/18/HnXSo1g9vc7wstb.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/d7KJ2XtADWbQmeE.png" alt="img"></p>
<h4 id="4、修改配置文件"><a href="#4、修改配置文件" class="headerlink" title="4、修改配置文件"></a>4、修改配置文件</h4><p>修改为如下内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;picBed&quot;: &#123;</span><br><span class="line">    &quot;uploader&quot;: &quot;gitee&quot;, &#x2F;&#x2F; 代表当前的上传图床</span><br><span class="line">    &quot;gitee&quot;: &#123;</span><br><span class="line">      &quot;repo&quot;: &quot;&quot;, &#x2F;&#x2F; 仓库名，格式是 username&#x2F;reponame 必填</span><br><span class="line">      &quot;token&quot;: &quot;&quot;, &#x2F;&#x2F; gitee 私人令牌 必填</span><br><span class="line">      &quot;path&quot;: &quot;&quot;, &#x2F;&#x2F; 自定义存储路径，比如 img&#x2F; 建议填</span><br><span class="line">      &quot;customUrl&quot;: &quot;&quot;, &#x2F;&#x2F; 没有自己的域名的话，可以默认为空就行； 如果自定义域名，注意要加http:&#x2F;&#x2F;或者https:&#x2F;&#x2F;，</span><br><span class="line">      &quot;branch&quot;: &quot;&quot; &#x2F;&#x2F; 分支名，默认是 master</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;picgoPlugins&quot;: &#123;</span><br><span class="line">    &quot;picgo-plugin-gitee-uploader&quot;: true,</span><br><span class="line">    &quot;picgo-plugin-super-prefix&quot;: true</span><br><span class="line">  &#125;, &#x2F;&#x2F; 为插件预留</span><br><span class="line">  &quot;picgo-plugin-super-prefix&quot;: &#123;</span><br><span class="line">    &quot;fileFormat&quot;: &quot;YYYYMMDDHHmmss&quot;</span><br><span class="line">  &#125; &#x2F;&#x2F;super-prefix插件配置</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5、配置完成后验证</p>
<p><img src="https://i.loli.net/2021/03/18/uypWdGhqFKUHjoR.png" alt="img"></p>
<p><img src="https://i.loli.net/2021/03/18/DW5NsXb7FGm1OcE.png" alt="img"></p>
<hr>
<p>如果图片上传成功并可以访问，自动上传图片的配置就结束了</p>
<p>参考文档<br><a href="https://support.typora.io/Upload-Image/#install-prebuilt-binary-of-picgo-core-linux--windows" target="_blank" rel="noopener">https://support.typora.io/Upload-Image/#install-prebuilt-binary-of-picgo-core-linux--windows</a></p>
<p><a href="https://blog.csdn.net/jaymie1023/article/details/105361168/" target="_blank" rel="noopener">https://blog.csdn.net/jaymie1023/article/details/105361168/</a></p>
<p><a href="https://github.com/PicGo/PicGo-Core">https://github.com/PicGo/PicGo-Core</a></p>
<p><a href="https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6</a></p>
]]></content>
      <categories>
        <category>软件配置</category>
      </categories>
      <tags>
        <tag>软件配置</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo版本问题导致报错“lineno”</title>
    <url>/2021/03/19/2021-03-19-hexo%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98%E5%AF%BC%E8%87%B4%E6%8A%A5%E9%94%99%E2%80%9Clineno%E2%80%9D/</url>
    <content><![CDATA[<p>hexo -v出现的问题</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo -v</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</span><br><span class="line">(Use &#96;node --trace-warnings ...&#96; to show where the warning was created)</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br><span class="line">hexo: 4.2.0</span><br><span class="line">hexo-cli: 3.1.0</span><br><span class="line">os: Windows_NT 10.0.18363 win32 x64</span><br><span class="line">node: 14.0.0</span><br><span class="line">v8: 8.1.307.30-node.30</span><br><span class="line">uv: 1.37.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.7</span><br><span class="line">ares: 1.16.0</span><br><span class="line">modules: 83</span><br><span class="line">nghttp2: 1.40.0</span><br><span class="line">napi: 6</span><br><span class="line">llhttp: 2.0.4</span><br><span class="line">openssl: 1.1.1f</span><br><span class="line">cldr: 36.1</span><br><span class="line">icu: 66.1</span><br><span class="line">tz: 2019c</span><br><span class="line">unicode: 13.0</span><br></pre></td></tr></table></figure>

<p>hexo d -g 出现的问题</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo d -g</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</span><br><span class="line">(Use &#96;node --trace-warnings ...&#96; to show where the warning was created)</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#39;column&#39; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#39;filename&#39; of module exports inside circular dependency</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Files loaded in 94 ms</span><br><span class="line">INFO  0 files generated in 22 ms</span><br><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">FATAL Something&#39;s wrong. Maybe you can find the solution here: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;troubleshooting.html</span><br><span class="line">TypeError [ERR_INVALID_ARG_TYPE]: The &quot;mode&quot; argument must be integer. Received an instance of Object</span><br><span class="line">    at copyFile (fs.js:1890:10)</span><br><span class="line">    at tryCatcher (D:\Blog\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at ret (eval at makeNodePromisifiedEval (D:\Node\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\promisify.js:184:12), &lt;anonymous&gt;:13:39)</span><br><span class="line">    at D:\Blog\node_modules\hexo-fs\lib\fs.js:144:39</span><br><span class="line">    at tryCatcher (D:\Blog\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:\Blog\node_modules\bluebird\js\release\promise.js:547:31)</span><br><span class="line">    at Promise._settlePromise (D:\Blog\node_modules\bluebird\js\release\promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (D:\Blog\node_modules\bluebird\js\release\promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (D:\Blog\node_modules\bluebird\js\release\promise.js:729:18)</span><br><span class="line">    at Promise._fulfill (D:\Blog\node_modules\bluebird\js\release\promise.js:673:18)</span><br><span class="line">    at Promise._resolveCallback (D:\Blog\node_modules\bluebird\js\release\promise.js:466:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:\Blog\node_modules\bluebird\js\release\promise.js:559:17)</span><br><span class="line">    at Promise._settlePromise (D:\Blog\node_modules\bluebird\js\release\promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (D:\Blog\node_modules\bluebird\js\release\promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (D:\Blog\node_modules\bluebird\js\release\promise.js:729:18)</span><br><span class="line">    at Promise._fulfill (D:\Blog\node_modules\bluebird\js\release\promise.js:673:18)</span><br><span class="line">    at Promise._resolveCallback (D:\Blog\node_modules\bluebird\js\release\promise.js:466:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:\Blog\node_modules\bluebird\js\release\promise.js:559:17)</span><br><span class="line">    at Promise._settlePromise (D:\Blog\node_modules\bluebird\js\release\promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (D:\Blog\node_modules\bluebird\js\release\promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (D:\Blog\node_modules\bluebird\js\release\promise.js:729:18)</span><br><span class="line">    at Promise._fulfill (D:\Blog\node_modules\bluebird\js\release\promise.js:673:18)</span><br></pre></td></tr></table></figure>

<p>出现这些是因为node版本太高，切换成低版本的node来安装Hexo就可以了</p>
<p>原先安装了最新版node14.0，后来装了一个比较稳定的node12.14版本，这个问题就解决了</p>
]]></content>
      <categories>
        <category>软件配置</category>
      </categories>
      <tags>
        <tag>软件配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Centos杀死进程kill方法大全</title>
    <url>/2020/04/29/Centos%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8Bkill%E6%96%B9%E6%B3%95%E5%A4%A7%E5%85%A8/</url>
    <content><![CDATA[<p>###Centos杀死进程kill方法大全<br>杀死进程最安全的方法是单纯使用kill命令。</p>
<p>首先使用ps -ef命令确定要杀死进程的PID，然后输入以下命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kill -pid</span></span><br></pre></td></tr></table></figure>
<p>注释：标准的kill命令通常都能达到目的。终止有问题的进程，并把进程的资源释放给系统。然而，如果进程启动了子进程，只杀死父进程，子进程仍在运行，因此仍消耗资源。</p>
<p>为了防止这些所谓的“僵尸进程”，应确保在杀死父进程之前，先杀死其所有的子进程。</p>
<p><strong>确定要杀死进程的PID或PPID</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ps -ef | grep httpd</span></span><br></pre></td></tr></table></figure>
<p><strong>以优雅的方式结束进程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kill -l PID</span></span><br></pre></td></tr></table></figure>
<p>-l选项告诉kill命令用好像启动进程的用户已注销的方式结束进程。当使用该选项时，kill命令也试图杀死所留下的子进程。</p>
<p>但这个命令也不是总能成功–或许仍然需要先手工杀死子进程，然后再杀死父进程。</p>
<p><strong>TERM信号</strong></p>
<p>给父进程发送一个TERM信号，试图杀死它和它的子进程。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kill -TERM PPID</span></span><br></pre></td></tr></table></figure>
<p><strong>killall命令</strong></p>
<p>killall命令杀死同一进程组内的所有进程。其允许指定要终止的进程的名称，而非PID。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># killall httpd</span></span><br></pre></td></tr></table></figure>
<p><strong>停止和重启进程，如下：</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kill -HUP PID</span></span><br></pre></td></tr></table></figure>
<p>该命令让Linux温柔的执行进程关闭，然后立即重启。</p>
<p>在配置应用程序的时候，这个命令很方便，在对配置文件修改后需要重启时可以执行此命令(例如重启nginx经常用到这个命令)。</p>
<p><strong>必杀技 kill -9 PID</strong></p>
<p>当使用此命令时，一定要通过ps -ef确认没有剩下任何僵尸进程。只能通过终止父进程来消除僵尸进程。如果僵尸进程被init收养，问题就比较严重了。杀死init进程意味着关闭系统。</p>
<p>如果系统中有僵尸进程，并且其父进程是init，而且僵尸进程占用了大量的系统资源，那么就需要在某个时候重启机器以清除进程表了。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo部署解决报错Error: Cannot find module &#39;./db.json&#39;</title>
    <url>/2021/03/25/2021-03-5-Hexo%E9%83%A8%E7%BD%B2%E8%A7%A3%E5%86%B3%E6%8A%A5%E9%94%99Error-Cannot-find-module-.db.json/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Error: Cannot find module &#39;.&#x2F;db.json&#39;</span><br><span class="line">at Function.Module._resolveFilename (module.js:336:15)</span><br><span class="line">at Function.Module._load (module.js:286:25)</span><br><span class="line">at Module.require (module.js:365:17)</span><br><span class="line">at require (module.js:384:17)</span><br><span class="line">at Object. (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo-server&#x2F;node_modules&#x2F;compression&#x2F;node_modules&#x2F;accepts&#x2F;node_modules&#x2F;mime-types&#x2F;node_modules&#x2F;mime-db&#x2F;index.js:11:18)</span><br><span class="line">at Module._compile (module.js:434:26)</span><br><span class="line">at Object.Module._extensions..js (module.js:452:10)</span><br><span class="line">at Module.load (module.js:355:32)</span><br><span class="line">at Function.Module._load (module.js:310:12)</span><br><span class="line">at Module.require (module.js:365:17)</span><br><span class="line">at require (module.js:384:17)</span><br><span class="line">at Object. (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo-server&#x2F;node_modules&#x2F;compression&#x2F;node_modules&#x2F;accepts&#x2F;node_modules&#x2F;mime-types&#x2F;index.js:15:10)</span><br><span class="line">at Module._compile (module.js:434:26)</span><br><span class="line">at Object.Module._extensions..js (module.js:452:10)</span><br><span class="line">at Module.load (module.js:355:32)</span><br><span class="line">at Function.Module._load (module.js:310:12)</span><br><span class="line">at Module.require (module.js:365:17)</span><br><span class="line">at require (module.js:384:17)</span><br><span class="line">at Object. (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo-server&#x2F;node_modules&#x2F;compression&#x2F;node_modules&#x2F;accepts&#x2F;index.js:16:12)</span><br><span class="line">at Module._compile (module.js:434:26)</span><br><span class="line">at Object.Module._extensions..js (module.js:452:10)</span><br><span class="line">at Module.load (module.js:355:32)</span><br><span class="line">at Function.Module._load (module.js:310:12)</span><br><span class="line">at Module.require (module.js:365:17)</span><br><span class="line">at require (module.js:384:17)</span><br><span class="line">at Object. (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo-server&#x2F;node_modules&#x2F;compression&#x2F;index.js:17:15)</span><br><span class="line">at Module._compile (module.js:434:26)</span><br><span class="line">at Object.Module._extensions..js (module.js:452:10)</span><br><span class="line">at Module.load (module.js:355:32)</span><br><span class="line">at Function.Module._load (module.js:310:12)</span><br><span class="line">at Module.require (module.js:365:17)</span><br><span class="line">at require (module.js:384:17)</span><br><span class="line">at Object. (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo-server&#x2F;lib&#x2F;middlewares&#x2F;gzip.js:3:16)</span><br><span class="line">at Module._compile (module.js:434:26)</span><br><span class="line">at Object.Module._extensions..js (module.js:452:10)</span><br><span class="line">at Module.load (module.js:355:32)</span><br><span class="line">at Function.Module._load (module.js:310:12)</span><br><span class="line">at Module.require (module.js:365:17)</span><br><span class="line">at require (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;lib&#x2F;hexo&#x2F;index.js:213:21)</span><br><span class="line">at &#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo-server&#x2F;index.js:24:50</span><br><span class="line">at &#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;lib&#x2F;hexo&#x2F;index.js:229:12</span><br><span class="line">at tryCatcher (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;util.js:11:23)</span><br><span class="line">at Promise._settlePromiseFromHandler (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:489:31)</span><br><span class="line">at Promise._settlePromise (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:546:18)</span><br><span class="line">at Promise._settlePromise0 (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:591:10)</span><br><span class="line">at Promise._settlePromises (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:674:18)</span><br><span class="line">at Promise._fulfill (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:615:18)</span><br><span class="line">at Promise._resolveCallback (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:416:57)</span><br><span class="line">at Promise._settlePromiseFromHandler (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:502:17)</span><br><span class="line">at Promise._settlePromise (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:546:18)</span><br><span class="line">at Promise._settlePromise0 (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:591:10)</span><br><span class="line">at Promise._settlePromises (&#x2F;user&#x2F;XXX&#x2F;node_modules&#x2F;hexo&#x2F;node_modules&#x2F;hexo-fs&#x2F;node_modules&#x2F;bluebird&#x2F;js&#x2F;release&#x2F;promise.js:674:18)</span><br><span class="line">INFO Deleted database.</span><br><span class="line">INFO Deleted public folder.</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">发生这种情况是因为mime-db模块中缺少db.json文件</span><br><span class="line">1.可以创建db.json文件或将mime-db模块安装在其他位置，然后从那里复制db.json</span><br><span class="line">2.把node-modules 删除之后重装</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>HDFS写流程</title>
    <url>/2020/05/11/HDFS%E5%86%99%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<p><strong>HDFS写流程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 ~]$ <span class="built_in">echo</span> <span class="string">'ruozedata'</span> &gt;1.log</span><br><span class="line">[hadoop@hadoop001 ~]$ hdfs dfs -put 1.log  /</span><br><span class="line">20/05/12 09:40:38 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform...\ </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 ~]$ hdfs dfs -ls /</span><br><span class="line">20/05/12 09:40:51 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform...\ </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Found 4 items</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         10 2020-05-12 09:40 /1.log</span><br><span class="line">drwx------   - hadoop supergroup          0 2020-05-11 16:19 /tmp</span><br><span class="line">drwxr-xr-x   - hadoop supergroup          0 2020-05-11 15:35 /usr</span><br><span class="line">drwxr-xr-x   - hadoop supergroup          0 2020-05-11 16:57 /wordcount2</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/06/12/uklR3BGMaJiqV6x.png" alt="HDFS写流程图"></p>
<p>写入操作对用户操作是无感知的<br>流程：<br>1.HDFS Client（client外框是操作系统，操作机器）调用FileSystem.create(filePath)方法，去和NN进行【RPC】通信！<br>NN 会去check这个路径的文件是否已经存在，是否有权限能够创建这个文件！<br>假如都ok，就去创建一个新的文件，但是这时还没写数据，是不关联任何的block。<br>nn根据上传的文件大小，根据块大小+副本数参数，<br>计算要上传多少块和块存储在DN的位置。最终将这些信息返回给客户端，<br>作为【FSDataOutputStream】对象</p>
<p>2.Client调用【FSDataOutputStream】对象的write方法，<br>将第一个块的第一个副本数写第一个DN节点，<br>写完去第二个副本写DN2；写完去第三个副本写DN3。<br>当第三个副本写完，就返回一个ack packet确定包给DN2节点，<br>当DN2节点收到这个ack packet确定包加上自己也是写完了，就返回一个ack packet确定包给<br>第一个DN1节点，当DN1节点收到这个ack packet确定包加上自己也是写完了，<br>将ack packet确定包返回给【FSDataOutputStream】对象，就标识第一个块的三个副本写完。，<br>其他块以此类推！</p>
<p>3.当所有的块全部写完， client调用 【FSDataOutputStream】对象的close方法，<br>关闭输出流。关闭输出流之后刷缓存区的数据（可不做）<br>再次调用FileSystem.complete方法，告诉nn文件写成功！</p>
<p>伪分布式 1台dn  副本数参数必然是设置1<br>dn挂了，肯定不能写入</p>
<p>生产分布式 3台dn  副本数参数必然是设置3<br>dn挂了，肯定不能写入</p>
<p>生产分布式 &gt;3台dn  副本数参数必然是设置3<br>dn挂了，能写入</p>
<p>存活的alive dn节点数&gt;=副本数 就能写成功</p>
<p>建议副本数为3，多余数据无太大用</p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>HDFS读流程</title>
    <url>/2020/05/11/HDFS%E8%AF%BB%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<p><strong>HDFS读流程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 ~]$ hdfs dfs -cat  /1.log</span><br><span class="line">20/05/12 09:51:19 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... \</span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">ruozedata</span><br><span class="line">[hadoop@hadoop001 ~]$</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/06/11/p1KSzxMDJFPBQab.png" alt="HDFS读流程图"></p>
<p>读取流程对用户操作是无感知的 </p>
<p>1.Client调用FileSystem的open(filePath)方法,与NN进行RPC通信，<br>返回该文件的部分或者全部的block列表<br>也就是返回【FSDataInputStream】对象</p>
<p>2.Client调用【FSDataInputStream】对象的read方法<br>去与第一个块的最近的DN进行读取，读取完成后，会check，假如ok，就关闭与DN通信。<br>假如读取失败，会记录DN+block信息，下次就不会从这个节点读取。那么就从第二个节点读取。</p>
<p>然后去与第二个块的最近的DN进行读取，以此类推。</p>
<p>假如当block列表全部读取完成，文件还没读取结束，就调用FileSystem从nn获取下一批次的block列表。</p>
<p>3.Client调用【FSDataInputStream】对象close方法，关闭输入流。</p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>HDFS副本放置策略</title>
    <url>/2020/05/11/HDFS%E5%89%AF%E6%9C%AC%E6%94%BE%E7%BD%AE%E7%AD%96%E7%95%A5/</url>
    <content><![CDATA[<p><img src="https://i.loli.net/2020/06/12/dcyqj9agiGWkRHf.jpg" alt="机架"><br>机架 rack1 5   rack2 5</p>
<p>生产上读写操作 尽量选择 某个DN节点<br>第一个副本：<br>放置在上传的DN节点； (nn和dn放一个副本中，有利于提升速度)<br>假如是非DN节点，就随机挑选一个磁盘不太慢，cpu不太忙的节点；</p>
<p>第二个副本：<br>放置在第一个副本不同的机架上的某个DN节点。</p>
<p>第三个副本:<br>与第二个副本相同机架的不同节点上。</p>
<p>如果副本数设置更多，就随机放。</p>
<p>机架安装考虑用电和机架的安装能力</p>
<p>生产上一般不配置</p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>JDK部署</title>
    <url>/2020/04/26/JDK%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<h3 id="环境："><a href="#环境：" class="headerlink" title="环境："></a>环境：</h3><p>OS：CentOS7.2 （虚拟机）<br>JDK版本：jdk-8u45-linux-x64.gz （百度下载)</p>
<h3 id="1-安装准备"><a href="#1-安装准备" class="headerlink" title="1.安装准备"></a>1.安装准备</h3><p>windows下载安装包，通过rz上传到Linux系统中</p>
<h3 id="2-解压JDK程序包"><a href="#2-解压JDK程序包" class="headerlink" title="2.解压JDK程序包"></a>2.解压JDK程序包</h3><p>jdk文件建议放在/usr/java,没有则创建</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ruozedata001 ~]<span class="comment"># mkdir  /usr/java</span></span><br><span class="line">[root@ruozedata001 ~]<span class="comment"># tar -xzvf jdk-8u45-linux-x64.gz -C /usr/java/</span></span><br><span class="line"> <span class="comment"># -C 解压到那个文件夹 /usr/java</span></span><br><span class="line"> <span class="comment"># tar.gz解压储来之后建议习惯性查看一下所属用户和用户组有没有变化</span></span><br><span class="line"> <span class="comment"># 可能存在权限问题：那是解压一瞬间的用户和用户组，导致用户错误，可能会报错莫名其妙</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># ll</span></span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 8 10 143 4096 Apr 11  2015 jdk1.8.0_45</span><br><span class="line">[root@hadoop001 java]<span class="comment"># chown -R root:root jdk1.8.0_45</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># ll</span></span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 8 root root 4096 Apr 11  2015 jdk1.8.0_45</span><br><span class="line"> <span class="comment">#修改用户权限</span></span><br></pre></td></tr></table></figure>
<h3 id="3-配置环境变量"><a href="#3-配置环境变量" class="headerlink" title="3.配置环境变量"></a>3.配置环境变量</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ruozedata001 java]<span class="comment"># vi /etc/profile</span></span><br><span class="line"><span class="comment">#ruozedata env</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_45</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h3 id="4-source生效环境变量"><a href="#4-source生效环境变量" class="headerlink" title="4.source生效环境变量"></a>4.source生效环境变量</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ruozedata001 ~]<span class="comment"># source /etc/profile</span></span><br><span class="line">[root@ruozedata001 ~]<span class="comment"># which java</span></span><br><span class="line">/usr/java/jdk1.8.0_45/bin/java</span><br></pre></td></tr></table></figure>
<p>export 生效，路径必须是/usr/java<br>保存，生效</p>
<h3 id="5-测试"><a href="#5-测试" class="headerlink" title="5.测试"></a>5.测试</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># which java</span></span><br><span class="line">/usr/java/jdk1.8.0_45/bin/java</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># java -version</span></span><br><span class="line">java version <span class="string">"1.8.0_45"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_45-b14)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)</span><br></pre></td></tr></table></figure>
<p>完成JDK部署</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>JVM内存不要超过32G</title>
    <url>/2020/05/18/JVM%E5%86%85%E5%AD%98%E4%B8%8D%E8%A6%81%E8%B6%85%E8%BF%8732G/</url>
    <content><![CDATA[<p>事实上jvm在内存小于32G的时候会采用一个内存对象指针压缩技术。</p>
<p>在java中，所有的对象都分配在堆上，然后有一个指针引用它。指向这些对象的指针大小通常是CPU的字长的大小，不是32bit就是64bit，这取决于你的处理器，指针指向了你的值的精确位置。</p>
<p>对于32位系统，你的内存最大可使用4G。对于64系统可以使用更大的内存。但是64位的指针意味着更大的浪费，因为你的指针本身大了。浪费内存不算，更糟糕的是，更大的指针在主内存和缓存器（例如LLC, L1等）之间移动数据的时候，会占用更多的带宽。</p>
<p>Java 使用一个叫内存指针压缩的技术来解决这个问题。它的指针不再表示对象在内存中的精确位置，而是表示偏移量。这意味着32位的指针可以引用40亿个对象，而不是40亿个字节。最终，也就是说堆内存长到32G的物理内存，也可以用32bit的指针表示。</p>
<p>一旦你越过那个神奇的30-32G的边界，指针就会切回普通对象的指针，每个对象的指针都变长了，就会使用更多的CPU内存带宽，也就是说你实际上失去了更多的内存。事实上当内存到达40-50GB的时候，有效内存才相当于使用内存对象指针压缩技术时候的32G内存。</p>
<p><a href="https://blog.csdn.net/weixin_44641024/article/details/103248842" target="_blank" rel="noopener">原文地址</a></p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux查看信息汇总</title>
    <url>/2020/05/01/Linux%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<p>Linux查看硬件信息<br>系统</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">uname -a               <span class="comment"># 查看内核/操作系统/CPU信息</span></span><br><span class="line">head -n 1 /etc/issue   <span class="comment"># 查看操作系统版本</span></span><br><span class="line">cat /proc/cpuinfo      <span class="comment"># 查看CPU信息</span></span><br><span class="line">hostname               <span class="comment"># 查看计算机名</span></span><br><span class="line">lspci -tv              <span class="comment"># 列出所有PCI设备（yum install pciutils）</span></span><br><span class="line">lsusb -tv              <span class="comment"># 列出所有USB设备</span></span><br><span class="line">lsmod                  <span class="comment"># 列出加载的内核模块</span></span><br><span class="line">env                    <span class="comment"># 查看环境变量</span></span><br></pre></td></tr></table></figure>
<p>资源</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">free -m                <span class="comment"># 查看内存使用量和交换区使用量</span></span><br><span class="line">df -h                  <span class="comment"># 查看各分区使用情况</span></span><br><span class="line">du -sh &lt;目录名&gt;        <span class="comment"># 查看指定目录的大小</span></span><br><span class="line">grep MemTotal /proc/meminfo   <span class="comment"># 查看内存总量</span></span><br><span class="line">grep MemFree /proc/meminfo    <span class="comment"># 查看空闲内存量</span></span><br><span class="line">uptime                 <span class="comment"># 查看系统运行时间、用户数、负载</span></span><br><span class="line">cat /proc/loadavg      <span class="comment"># 查看系统负载</span></span><br></pre></td></tr></table></figure>
<p>磁盘和分区</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mount | column -t      <span class="comment"># 查看挂接的分区状态</span></span><br><span class="line">fdisk -l               <span class="comment"># 查看所有分区</span></span><br><span class="line">swapon -s              <span class="comment"># 查看所有交换分区</span></span><br><span class="line">hdparm -i /dev/hda     <span class="comment"># 查看磁盘参数(仅适用于IDE设备)</span></span><br><span class="line">dmesg | grep IDE       <span class="comment"># 查看启动时IDE设备检测状况</span></span><br></pre></td></tr></table></figure>
<p>网络</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ifconfig               <span class="comment"># 查看所有网络接口的属性</span></span><br><span class="line">iptables -L            <span class="comment"># 查看防火墙设置</span></span><br><span class="line">route -n               <span class="comment"># 查看路由表</span></span><br><span class="line">netstat -lntp          <span class="comment"># 查看所有监听端口</span></span><br><span class="line">netstat -antp          <span class="comment"># 查看所有已经建立的连接</span></span><br><span class="line">netstat -s             <span class="comment"># 查看网络统计信息</span></span><br></pre></td></tr></table></figure>
<p>进程</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -ef                 <span class="comment"># 查看所有进程</span></span><br><span class="line">top                    <span class="comment"># 实时显示进程状态</span></span><br></pre></td></tr></table></figure>
<p>用户</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">w                      <span class="comment"># 查看活动用户</span></span><br><span class="line">id &lt;用户名&gt;            <span class="comment"># 查看指定用户信息</span></span><br><span class="line">last                   <span class="comment"># 查看用户登录日志</span></span><br><span class="line">cut -d: -f1 /etc/passwd   <span class="comment"># 查看系统所有用户</span></span><br><span class="line">cut -d: -f1 /etc/group    <span class="comment"># 查看系统所有组</span></span><br><span class="line">crontab -l             <span class="comment"># 查看当前用户的计划任务</span></span><br></pre></td></tr></table></figure>
<p>服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chkconfig --list       <span class="comment"># 列出所有系统服务</span></span><br><span class="line">chkconfig --list | grep on    <span class="comment"># 列出所有启动的系统服务</span></span><br></pre></td></tr></table></figure>
<p>程序</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rpm -qa                <span class="comment"># 查看所有安装的软件包</span></span><br></pre></td></tr></table></figure>
<p>查看网卡型号</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci | grep Ethernet</span><br></pre></td></tr></table></figure>
<p>查看内存和cpu最直接最常用的命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">free</span><br><span class="line">cat /proc/cpuinfo</span><br></pre></td></tr></table></figure>
<p>查看硬盘信息（查看硬盘型号和硬盘序列号）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">df -h</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Jps命令—使用详解</title>
    <url>/2020/05/08/Jps%E5%91%BD%E4%BB%A4%E2%80%94%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<p><strong>Jps命令—使用详解</strong></p>
<p>原文：<a href="https://blog.csdn.net/wisgood/article/details/38942449" target="_blank" rel="noopener">https://blog.csdn.net/wisgood/article/details/38942449</a></p>
<p> jps是jdk提供的一个查看当前java进程的小工具， 可以看做是JavaVirtual Machine Process Status Tool的缩写。非常简单实用。</p>
<pre><code>命令格式：jps [options ] [ hostid ] 

[options]选项 ：</code></pre><p>-q：仅输出VM标识符，不包括classname,jar name,arguments in main method<br>-m：输出main method的参数<br>-l：输出完全的包名，应用主类名，jar的完全路径名<br>-v：输出jvm参数<br>-V：输出通过flag文件传递到JVM中的参数(.hotspotrc文件或-XX:Flags=所指定的文件<br>-Joption：传递参数到vm,例如:-J-Xms512m</p>
<pre><code>[hostid]：</code></pre><p>[protocol:][[//]hostname][:port][/servername]</p>
<pre><code>命令的输出格式 ：</code></pre><p>lvmid [ [ classname| JARfilename | “Unknown”] [ arg* ] [ jvmarg* ] ]</p>
<p>1）jps</p>
<p><img src="https://i.loli.net/2020/06/11/6K4XEeMA3HZLTFb.png" alt=""></p>
<p>2）jps –l:输出主类或者jar的完全路径名</p>
<p><img src="https://i.loli.net/2020/06/11/Jpd42S6BDq185EM.png" alt=""></p>
<p>3）jps –v :输出jvm参数</p>
<p><img src="https://i.loli.net/2020/06/11/YEd812H4GDmlCNS.png" alt=""></p>
<p>4）jps –q ：仅仅显示java进程号</p>
<p><img src="https://i.loli.net/2020/06/11/4UmLBtcKxyJp7ra.png" alt=""></p>
<p>5)jps -mlv10.134.68.173</p>
<p><img src="https://i.loli.net/2020/06/11/zvRTtiWUxps51S6.png" alt=""></p>
<pre><code>注意：如果需要查看其他机器上的jvm进程，需要在待查看机器上启动jstatd。</code></pre>]]></content>
      <categories>
        <category>JAVA</category>
      </categories>
      <tags>
        <tag>JAVA</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL添加comment字段</title>
    <url>/2020/04/29/MySQL%E6%B7%BB%E5%8A%A0comment%E5%AD%97%E6%AE%B5/</url>
    <content><![CDATA[<p>在MySQL数据库中， 字段或列的注释是用属性comment来添加。</p>
<p>创建新表的脚本中， 可在字段定义脚本中添加comment属性来添加注释。</p>
<p>示例代码如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">test</span>( </span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="number">0</span> <span class="keyword">comment</span> <span class="string">'用户id'</span> )</span><br></pre></td></tr></table></figure>
<p>如果是已经建好的表， 也可以用修改字段的命令，然后加上comment属性定义，就可以添加上注释了。</p>
<p>示例代码如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">test</span> </span><br><span class="line"><span class="keyword">change</span> <span class="keyword">column</span> <span class="keyword">id</span> <span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="number">0</span> <span class="keyword">comment</span> <span class="string">'测试表id'</span></span><br></pre></td></tr></table></figure>
<p>查看已有表的所有字段的注释呢？<br>可以用命令：show full columns from table 来查看， 示例如下：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">full</span> <span class="keyword">columns</span> <span class="keyword">from</span> <span class="keyword">test</span>;</span><br></pre></td></tr></table></figure>
<p>创建表的时候写注释</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1 ( </span><br><span class="line">    field_name <span class="built_in">int</span> <span class="keyword">comment</span> <span class="string">'字段的注释'</span> </span><br><span class="line">)<span class="keyword">comment</span>=<span class="string">'表的注释'</span>; <span class="comment">#写不写等号是一样的</span></span><br></pre></td></tr></table></figure>
<p>修改表的注释</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test1 <span class="keyword">comment</span> <span class="string">'修改后的表的注释'</span>;</span><br></pre></td></tr></table></figure>
<p>修改字段的注释</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> test1 <span class="keyword">modify</span> <span class="keyword">column</span> field_name <span class="built_in">int</span> <span class="keyword">comment</span> <span class="string">'修改后的字段注释'</span>;</span><br></pre></td></tr></table></figure>
<p><strong>注意：字段名和字段类型照写就行</strong></p>
<p><strong>查看表注释的方法</strong><br>-在生成的SQL语句中看 </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span>  <span class="keyword">create</span>  <span class="keyword">table</span>  test1;</span><br></pre></td></tr></table></figure>
<p>-在元数据的表里面看</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">use</span> information_schema; </span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">TABLES</span> <span class="keyword">where</span> TABLE_SCHEMA=<span class="string">'my_db'</span> <span class="keyword">and</span> TABLE_NAME=<span class="string">'test1'</span> \G</span><br></pre></td></tr></table></figure>
<p><strong>查看字段注释的方法</strong><br>-show </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span>  <span class="keyword">full</span>  <span class="keyword">columns</span>  <span class="keyword">from</span>  test1;</span><br></pre></td></tr></table></figure>
<p>-在元数据的表里面看 </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">COLUMNS</span> <span class="keyword">where</span> TABLE_SCHEMA=<span class="string">'my_db'</span> <span class="keyword">and</span> TABLE_NAME=<span class="string">'test1'</span> \G</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux系统tmp目录自动清理总结</title>
    <url>/2020/05/11/Linux%E7%B3%BB%E7%BB%9Ftmp%E7%9B%AE%E5%BD%95%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>在Centos7.2系统中/tmp文件夹下的文件是会被清理、删除的.</p>
<p>根据网上的调查，存在两种方式<br>1.主要是因为作业里面会调用tmpwatch命令删除那些一段时间没有访问的文件。<br>/etc/cron.daily/tmpwatch<br>但是在我的系统中没有找到这个文件和tmpwatch这个命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 tmpfiles.d]<span class="comment"># tmpwatch 30d /tmp/</span></span><br><span class="line">bash: tmpwatch: <span class="built_in">command</span> not found...</span><br></pre></td></tr></table></figure>
<p>2.在 /usr/lib/tmpfiles.d/tmp.conf文件进行定义</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 tmpfiles.d]<span class="comment"># vi tmp.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  This file is part of systemd.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  systemd is free software; you can redistribute it and/or modify it</span></span><br><span class="line"><span class="comment">#  under the terms of the GNU Lesser General Public License as published by</span></span><br><span class="line"><span class="comment">#  the Free Software Foundation; either version 2.1 of the License, or</span></span><br><span class="line"><span class="comment">#  (at your option) any later version.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># See tmpfiles.d(5) for details</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Clear tmp directories separately, to make them easier to override</span></span><br><span class="line">v /tmp 1777 root root 10d <span class="comment">#自动清理根目录的tmp文件夹</span></span><br><span class="line">v /var/tmp 1777 root root 30d <span class="comment">#自动清理var目录的tmp文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Exclude namespace mountpoints created with PrivateTmp=yes</span></span><br><span class="line">x /tmp/systemd-private-%b-*</span><br><span class="line">X /tmp/systemd-private-%b-*/tmp</span><br><span class="line">x /var/tmp/systemd-private-%b-*</span><br><span class="line">X /var/tmp/systemd-private-%b-*/tmp</span><br></pre></td></tr></table></figure>

<p>参数后加时间，默认是hours。也可以使用30d表示30天，但是有些版本只支持hours。 </p>
<p>如果想将强制删除30天没有访问的文件改为7天，<br>只需修改以下两处</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Clear tmp directories separately, to make them easier to override</span></span><br><span class="line">v /tmp 1777 root root 10d <span class="comment">#自动清理根目录的tmp文件夹</span></span><br><span class="line">v /var/tmp 1777 root root 30d <span class="comment">#自动清理var目录的tmp文件夹</span></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MapReduce2.x 架构设计</title>
    <url>/2020/05/17/MapReduce2.x%E7%9A%84%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<h3 id="MapReduce2-x-架构设计"><a href="#MapReduce2-x-架构设计" class="headerlink" title="MapReduce2.x 架构设计"></a>MapReduce2.x 架构设计</h3><p>又可以称为 </p>
<ul>
<li>mr on yarn提交流程 </li>
<li>yarn的架构设计  </li>
</ul>
<h4 id="1-container-容器"><a href="#1-container-容器" class="headerlink" title="1 container 容器"></a>1 container 容器</h4><p>首先明确一个container容器的概念，这是一个虚拟的概念，其实是一组memory+cpu vcore资源的组合<br>Container 是 YARN 中的资源抽象，它封装了某个节点上的多维度资源，<br>如内存、 CPU、磁盘、网络等，当 AM 向 RM 申请资源时，RM 为 AM 返回的资源便是用 Container 表示的。<br>YARN 会为每个任务分配一个 Container，且该任务只能使用该 Container 中描述的 资源。<br>容器是一个动态划分资源。</p>
<p>在内存够的情况下，适当增加cpu vcore带来计算效率的提升<br><img src="https://i.loli.net/2020/06/12/yiZfK8cUYVDCugO.png" alt=""></p>
<h4 id="2-架构"><a href="#2-架构" class="headerlink" title="2 架构"></a>2 架构</h4><p>mapreduce也是主从架构<br>Resourcemanager是主，简称 rm ，包含：</p>
<ul>
<li><p>ApplicationsManager  应用管理器 作业和程序等提交到的地方</p>
</li>
<li><p>ResourceScheduler    资源调度器  </p>
</li>
</ul>
<p>NodeManager是从，简称nm</p>
<p>工作流程<br><img src="https://i.loli.net/2020/06/12/19ecKGMCEdkL7RA.png" alt=""></p>
<p>1.client向rm提交应用程序（jar） 其中已经包含ApplicationMaster主程序和启动命令<br>2.ApplicationsManager  会为job分配第一个container，并与对应的nodemanager通信，要求他<br>在这个container中启动ApplicationMaster<br>3.Applicationmaster向 ApplicationsManager注册，用户就可以在yarn的web界面看到这个job的运行状态<br>4.Applicationmaster采取轮询的方式，通过【RPC】协议向ResourceScheduler申请和领取资源列表<br>（信息包括哪台nm 多少内存 多少cpu vcore）<br>5.一旦app master拿到资源列表，就和对应的nm进程通信，要求启动任务task 计算代码<br>6.NM为任务设置好运行环境(container容器 包含jar包等资源) ，将任务启动命令写在一个脚本里，并通过该脚本<br>启动任务task<br>7.各个任务task通过【RPC】协议向app master汇报自己的进度和状态，以此让app master随时掌握task的运行状态。<br>当task运行失败，会在另外一个container容器中重启任务。</p>
<h2 id="8-当所有task运行完成后，app-master向-apps-manager申请注销和关闭作业"><a href="#8-当所有task运行完成后，app-master向-apps-manager申请注销和关闭作业" class="headerlink" title="8.当所有task运行完成后，app master向 apps manager申请注销和关闭作业"></a>8.当所有task运行完成后，app master向 apps manager申请注销和关闭作业</h2><p>这时可以在web页面查看任务状态，包含两种状态：</p>
<ul>
<li>是不是完成的   </li>
<li>完成的是成功还是失败的</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>RAID0/RAID1/RAID5/RAID10介绍</title>
    <url>/2020/05/13/RAID%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<p>为了满足不同的数据传输效率和数据安全性需求，产生了我们熟知的RAID0、RAID1、RAID2、RAID3、RAID4、</p>
<p>RAID5、RAID6、RAID10、RAID50等不同级别的RAID，下面简要常用的RAID0/1/5/10特点及适用范围。</p>
<p>RAID0：RAID0又称为条带模式，是将多个磁盘并列起来，成为一个大磁盘。在存放数据时，其将数据按磁盘的</p>
<p>个数来进行分段，然后同时将这些数据写进这些盘中，所以在所有的级别中，RAID0的速度是最快的。但是RAID0没</p>
<p>有冗余功能，如果一个磁盘（物理）损坏，则所有的数据都会丢失。</p>
<p>RAID 0具有的特点，使其特别适用于对性能要求较高，而对数据安全不太在乎的领域，如图形工作站等。对于个人用户，RAID 0也是提高硬盘存储性能的绝佳选择。</p>
<p>RAID0逻辑结构如下所示：<br><img src="https://i.loli.net/2020/06/11/DMgLpWFs4SJzXZu.jpg" alt=""></p>
<p>RAID1：RAID1也成为镜像，其将一个磁盘上的数据完全复制到另一个磁盘上。如果一个磁盘的数据发生错误，</p>
<p>或者磁盘出现了坏道，那么另一个磁盘可以补救回磁盘故障而造成的数据损失和系统中断。另外，RAID1还可</p>
<p>以实现双工—即可以复制整个控制器，这样在磁盘故障或控制器故障发生时，数据都可以得到保护。</p>
<p>镜像和双工的缺点是需要多出一倍数量的驱动器来复制数据，但系统的读写性能并不会由此而提高。</p>
<p>Mirror虽不能提高存储性能，但由于其具有的高数据安全性，使其尤其适用于存放重要数据，如服务器和数据库存储等领域。</p>
<p>RAID逻辑结构如下所示：<br><img src="https://i.loli.net/2020/06/11/37k4rweFdu58PGy.jpg" alt=""></p>
<p>RAID5：RAID5也被叫做带分布式奇偶位的条带，每个条带上都有相当于一个“块”那么大的地方被用来存放奇偶</p>
<p>位。与其他RAID级别相比，RAID5把奇偶位信息分布在所有的磁盘上，而并非一个磁盘上，大大减轻了奇偶校</p>
<p>验盘的负担，尽管有一些容量上的损失，但RAID5却能提供较为完善的整体性能，因而也是被广泛应用的一种</p>
<p>磁盘阵列方案。</p>
<p>RAID5逻辑结构如下所示：<br><img src="https://i.loli.net/2020/06/11/HmU4gu3V6XiCjvK.jpg" alt=""></p>
<p>RAID10：RAID10可细分为RAID1+0和RAID0+1。<br>RAID1+0是先镜像再分割资料，将所有硬盘分为两组，视为RAID0的最低组合，然后将这两组各自视为RAID1运</p>
<p>作，RAID1+0有着不错的读取速度，而且拥有比RIAD0更高的资料保护性。</p>
<p>RAID0+1则是跟RAID1+0的程序相反，是先分割再将资料镜像到两组硬盘。它将所有的硬盘分为两组，变成RAID1</p>
<p>的最低组合，而将两组硬盘各自视为RAID0运作。RAID0+1比起RAID1+0有着更快的读写速度，不过也多了一些会让</p>
<p>整个硬盘组停止运转的几率，因为只要同一组的硬盘全部损毁，RAID0+1就会停止运作，而RAID1+0则可以在牺牲</p>
<p>RAID0+1的优势下正常运作。</p>
<p>RAID巧妙地利用了RAID0的速度和RAID1的保护两种特性，不过它的缺点是需要的硬盘数较多，必须拥有至少四</p>
<p>个以上的偶数硬盘才能使用。</p>
<p>RAID 0+1的特点使其特别适用于既有大量数据需要存取，同时又对数据安全性要求严格的领域，如银行、金融、商业超市、仓储库房、各种档案管理等。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL部署</title>
    <url>/2020/04/26/MySQL%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<h3 id="环境："><a href="#环境：" class="headerlink" title="环境："></a>环境：</h3><p>OS：CentOS7.2 （虚拟机）<br>MySQL安装包版本mysql-5.7.11-linux-glibc2.5-x86_64.tar.gz</p>
<h3 id="1-安装准备"><a href="#1-安装准备" class="headerlink" title="1.安装准备"></a>1.安装准备</h3><p>windows下载安装包，通过rz上传到Linux系统中<br><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">下载mysql安装包地址</a></p>
<h3 id="2-解压及创建目录"><a href="#2-解压及创建目录" class="headerlink" title="2.解压及创建目录"></a>2.解压及创建目录</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># mv mysql-5.7.11-linux-glibc2.5-x86_64.tar.gz /usr/local #移动</span></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># tar -xzvf mysql-5.7.11-linux-glibc2.5-x86_64.tar.gz#解压</span></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># mv mysql-5.7.11-linux-glibc2.5-x86_64 mysql #改名字</span></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># mkdir mysql/arch mysql/data mysql/tmp #创建目录</span></span><br></pre></td></tr></table></figure>

<h3 id="3-创建my-cnf文件"><a href="#3-创建my-cnf文件" class="headerlink" title="3.创建my.cnf文件"></a>3.创建my.cnf文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># vi /etc/my.cnf</span></span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">port            = 3306</span><br><span class="line">socket          = /usr/<span class="built_in">local</span>/mysql/data/mysql.sock</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">port            = 3306</span><br><span class="line">socket          = /usr/<span class="built_in">local</span>/mysql/data/mysql.sock</span><br><span class="line"></span><br><span class="line">skip-slave-start</span><br><span class="line"></span><br><span class="line">skip-external-locking</span><br><span class="line">key_buffer_size = 256M</span><br><span class="line">sort_buffer_size = 2M</span><br><span class="line">read_buffer_size = 2M</span><br><span class="line">read_rnd_buffer_size = 4M</span><br><span class="line">query_cache_size= 32M</span><br><span class="line">max_allowed_packet = 16M</span><br><span class="line">myisam_sort_buffer_size=128M</span><br><span class="line">tmp_table_size=32M</span><br><span class="line"></span><br><span class="line">table_open_cache = 512</span><br><span class="line">thread_cache_size = 8</span><br><span class="line">wait_timeout = 86400</span><br><span class="line">interactive_timeout = 86400</span><br><span class="line">max_connections = 600</span><br><span class="line"></span><br><span class="line"><span class="comment"># Try number of CPU's*2 for thread_concurrency</span></span><br><span class="line"><span class="comment"># thread_concurrency = 32 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># isolation level and default engine </span></span><br><span class="line">default-storage-engine = INNODB</span><br><span class="line">transaction-isolation = READ-COMMITTED</span><br><span class="line"></span><br><span class="line">server-id  = 1739</span><br><span class="line">basedir     = /usr/<span class="built_in">local</span>/mysql</span><br><span class="line">datadir     = /usr/<span class="built_in">local</span>/mysql/data</span><br><span class="line">pid-file     = /usr/<span class="built_in">local</span>/mysql/data/hostname.pid</span><br><span class="line"></span><br><span class="line"><span class="comment">#open performance schema</span></span><br><span class="line"><span class="built_in">log</span>-warnings</span><br><span class="line">sysdate-is-now</span><br><span class="line"></span><br><span class="line">binlog_format = ROW</span><br><span class="line">log_bin_trust_function_creators=1</span><br><span class="line"><span class="built_in">log</span>-error  = /usr/<span class="built_in">local</span>/mysql/data/hostname.err</span><br><span class="line"><span class="built_in">log</span>-bin = /usr/<span class="built_in">local</span>/mysql/arch/mysql-bin</span><br><span class="line">expire_logs_days = 7</span><br><span class="line"></span><br><span class="line">innodb_write_io_threads=16</span><br><span class="line"></span><br><span class="line">relay-log  = /usr/<span class="built_in">local</span>/mysql/relay_log/relay-log</span><br><span class="line">relay-log-index = /usr/<span class="built_in">local</span>/mysql/relay_log/relay-log.index</span><br><span class="line">relay_log_info_file= /usr/<span class="built_in">local</span>/mysql/relay_log/relay-log.info</span><br><span class="line"></span><br><span class="line">log_slave_updates=1</span><br><span class="line">gtid_mode=OFF</span><br><span class="line">enforce_gtid_consistency=OFF</span><br><span class="line"></span><br><span class="line"><span class="comment"># slave</span></span><br><span class="line">slave-parallel-type=LOGICAL_CLOCK</span><br><span class="line">slave-parallel-workers=4</span><br><span class="line">master_info_repository=TABLE</span><br><span class="line">relay_log_info_repository=TABLE</span><br><span class="line">relay_log_recovery=ON</span><br><span class="line"></span><br><span class="line"><span class="comment">#other logs</span></span><br><span class="line"><span class="comment">#general_log =1</span></span><br><span class="line"><span class="comment">#general_log_file  = /usr/local/mysql/data/general_log.err</span></span><br><span class="line"><span class="comment">#slow_query_log=1</span></span><br><span class="line"><span class="comment">#slow_query_log_file=/usr/local/mysql/data/slow_log.err</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#for replication slave</span></span><br><span class="line">sync_binlog = 500</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#for innodb options </span></span><br><span class="line">innodb_data_home_dir = /usr/<span class="built_in">local</span>/mysql/data/</span><br><span class="line">innodb_data_file_path = ibdata1:1G;ibdata2:1G:autoextend</span><br><span class="line"></span><br><span class="line">innodb_log_group_home_dir = /usr/<span class="built_in">local</span>/mysql/arch</span><br><span class="line">innodb_log_files_in_group = 4</span><br><span class="line">innodb_log_file_size = 1G</span><br><span class="line">innodb_log_buffer_size = 200M</span><br><span class="line"></span><br><span class="line"><span class="comment">#根据生产需要，调整pool size </span></span><br><span class="line">innodb_buffer_pool_size = 2G</span><br><span class="line"><span class="comment">#innodb_additional_mem_pool_size = 50M #deprecated in 5.6</span></span><br><span class="line">tmpdir = /usr/<span class="built_in">local</span>/mysql/tmp</span><br><span class="line"></span><br><span class="line">innodb_lock_wait_timeout = 1000</span><br><span class="line"><span class="comment">#innodb_thread_concurrency = 0</span></span><br><span class="line">innodb_flush_log_at_trx_commit = 2</span><br><span class="line"></span><br><span class="line">innodb_locks_unsafe_for_binlog=1</span><br><span class="line"></span><br><span class="line"><span class="comment">#innodb io features: add for mysql5.5.8</span></span><br><span class="line">performance_schema</span><br><span class="line">innodb_read_io_threads=4</span><br><span class="line">innodb-write-io-threads=4</span><br><span class="line">innodb-io-capacity=200</span><br><span class="line"><span class="comment">#purge threads change default(0) to 1 for purge</span></span><br><span class="line">innodb_purge_threads=1</span><br><span class="line">innodb_use_native_aio=on</span><br><span class="line"></span><br><span class="line"><span class="comment">#case-sensitive file names and separate tablespace</span></span><br><span class="line">innodb_file_per_table = 1</span><br><span class="line">lower_case_table_names=1</span><br><span class="line"></span><br><span class="line">[mysqldump]</span><br><span class="line">quick</span><br><span class="line">max_allowed_packet = 128M</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">no-auto-rehash</span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqlhotcopy]</span><br><span class="line">interactive-timeout</span><br><span class="line"></span><br><span class="line">[myisamchk]</span><br><span class="line">key_buffer_size = 256M</span><br><span class="line">sort_buffer_size = 256M</span><br><span class="line">read_buffer = 2M</span><br><span class="line">write_buffer = 2M</span><br></pre></td></tr></table></figure>
<p>根据生产需要，调整pool size<br>生产一般8G 结合实际情况设置</p>
<h3 id="4-创建用户组及用户"><a href="#4-创建用户组及用户" class="headerlink" title="4.创建用户组及用户"></a>4.创建用户组及用户</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># groupadd -g 101 dba</span></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># useradd -u 515 -g dba -G root -d /usr/local/mysql mysqladmin</span></span><br><span class="line"><span class="comment">#-u uid -g 主组 -G 次组 -d 家目录设置 </span></span><br><span class="line">[mysqladmin@hadoop001 ~]$ id</span><br><span class="line">uid=515(mysqladmin) gid=101(dba) groups=101(dba),0(root) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</span><br><span class="line"></span><br><span class="line"><span class="comment">## 一般不需要设置mysqladmin的密码，直接从root或者LDAP用户sudo切换</span></span><br><span class="line"><span class="comment">#[root@hadoop001 local]# passwd mysqladmin</span></span><br><span class="line">Changing password <span class="keyword">for</span> user mysqladmin.</span><br><span class="line">New UNIX password: </span><br><span class="line">BAD PASSWORD: it is too simplistic/systematic</span><br><span class="line">Retype new UNIX password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br><span class="line"><span class="comment">## if user mysqladmin is existing,please execute the following command of usermod.</span></span><br><span class="line"><span class="comment">#[root@hadoop001 local]# usermod -u 514 -g dba -G root -d /usr/local/mysql mysqladmin</span></span><br></pre></td></tr></table></figure>
<h3 id="5-copy-环境变量配置文件至mysqladmin用户的home目录中-为了以下步骤配置个人环境变量"><a href="#5-copy-环境变量配置文件至mysqladmin用户的home目录中-为了以下步骤配置个人环境变量" class="headerlink" title="5.copy 环境变量配置文件至mysqladmin用户的home目录中,为了以下步骤配置个人环境变量"></a>5.copy 环境变量配置文件至mysqladmin用户的home目录中,为了以下步骤配置个人环境变量</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># cp /etc/skel/.* /usr/local/mysql  ###important</span></span><br></pre></td></tr></table></figure>
<h3 id="6-配置环境变量"><a href="#6-配置环境变量" class="headerlink" title="6.配置环境变量"></a>6.配置环境变量</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 local]# vi mysql&#x2F;.bash_profile</span><br><span class="line"># .bash_profile</span><br><span class="line"># Get the aliases and functions</span><br><span class="line"></span><br><span class="line">if [ -f ~&#x2F;.bashrc ]; then</span><br><span class="line">        . ~&#x2F;.bashrc</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># User specific environment and startup programs</span><br><span class="line">export MYSQL_BASE&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql</span><br><span class="line">export PATH&#x3D;$&#123;MYSQL_BASE&#125;&#x2F;bin:$PATH</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">unset USERNAME</span><br><span class="line"></span><br><span class="line">#stty erase ^H</span><br><span class="line">set umask to 022</span><br><span class="line">umask 022</span><br><span class="line">PS1&#x3D;&#96;uname -n&#96;&quot;:&quot;&#39;$USER&#39;&quot;:&quot;&#39;$PWD&#39;&quot;:&gt;&quot;; export PS1</span><br><span class="line"></span><br><span class="line">## end</span><br></pre></td></tr></table></figure>
<p>建议修改.bashrc文件,如上内容不一致。</p>
<p>PS1后边是设置中括号内包含路径，可以省略pwd操作</p>
<h3 id="7-赋权限和用户组，切换用户mysqladmin，安装"><a href="#7-赋权限和用户组，切换用户mysqladmin，安装" class="headerlink" title="7.赋权限和用户组，切换用户mysqladmin，安装"></a>7.赋权限和用户组，切换用户mysqladmin，安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># chown  mysqladmin:dba /etc/my.cnf </span></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># chmod  640 /etc/my.cnf  </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># chown -R mysqladmin:dba /usr/local/mysql</span></span><br><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># chmod -R 755 /usr/local/mysql</span></span><br></pre></td></tr></table></figure>
<h3 id="8-配置服务及开机自启动"><a href="#8-配置服务及开机自启动" class="headerlink" title="8.配置服务及开机自启动"></a>8.配置服务及开机自启动</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">local</span>]<span class="comment"># cd /usr/local/mysql</span></span><br><span class="line"><span class="comment">#将服务文件拷贝到init.d下，并重命名为mysql</span></span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># cp support-files/mysql.server /etc/rc.d/init.d/mysql </span></span><br><span class="line"><span class="comment">#赋予可执行权限</span></span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># chmod +x /etc/rc.d/init.d/mysql</span></span><br><span class="line"><span class="comment">#删除服务</span></span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># chkconfig --del mysql</span></span><br><span class="line"><span class="comment">#添加服务</span></span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># chkconfig --add mysql</span></span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># chkconfig --level 345 mysql on</span></span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># vi /etc/rc.local</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is highly advisable to create own systemd services or udev rules</span></span><br><span class="line"><span class="comment"># to run scripts during boot instead of using this file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In contrast to previous versions due to parallel execution during boot</span></span><br><span class="line"><span class="comment"># this script will NOT be run after all other services.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure</span></span><br><span class="line"><span class="comment"># that this script will be executed during boot.</span></span><br><span class="line"></span><br><span class="line">touch /var/lock/subsys/<span class="built_in">local</span></span><br><span class="line"></span><br><span class="line">su - mysqladmin -c <span class="string">"/etc/init.d/mysql start --federated"</span></span><br></pre></td></tr></table></figure>
<h3 id="9-安装libaio及安装mysql的初始db"><a href="#9-安装libaio及安装mysql的初始db" class="headerlink" title="9.安装libaio及安装mysql的初始db"></a>9.安装libaio及安装mysql的初始db</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 mysql]<span class="comment"># yum -y install libaio</span></span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">base                                                                                                 | 3.6 kB  00:00:00     </span><br><span class="line">extras                                                                                               | 2.9 kB  00:00:00     </span><br><span class="line">updates                                                                                              | 2.9 kB  00:00:00     </span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.cn99.com</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.cn99.com</span><br><span class="line">Package libaio-0.3.109-13.el7.x86_64 already installed and latest version</span><br><span class="line">[root@hadoop001 mysql]<span class="comment"># sudo su - mysqladmin</span></span><br><span class="line"></span><br><span class="line">hadoop001:mysqladmin:/usr/<span class="built_in">local</span>/mysql:&gt;bin/mysqld \</span><br><span class="line">--defaults-file=/etc/my.cnf \</span><br><span class="line">--user=mysqladmin \</span><br><span class="line">--basedir=/usr/<span class="built_in">local</span>/mysql/ \</span><br><span class="line">--datadir=/usr/<span class="built_in">local</span>/mysql/data/ \</span><br><span class="line">--initialize</span><br><span class="line"></span><br><span class="line"><span class="comment">#在初始化时如果加上 –initial-insecure，则会创建空密码的 root@localhost 账号，否则会创建带密码的 root@localhost 账号，密码直接写在 log-error 日志文件中</span></span><br><span class="line"><span class="comment">#（在5.6版本中是放在 ~/.mysql_secret 文件里，更加隐蔽，不熟悉的话可能会无所适从）</span></span><br></pre></td></tr></table></figure>

<h3 id="10-查看临时密码"><a href="#10-查看临时密码" class="headerlink" title="10.查看临时密码"></a>10.查看临时密码</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hadoop001:mysqladmin:/usr/<span class="built_in">local</span>/mysql/data:&gt;cat hostname.err |grep password</span><br><span class="line">2020-04-27T05:06:23.348090Z 1 [Note] A temporary password is generated <span class="keyword">for</span> root@localhost: VqS1<span class="comment">#h8HgWxl</span></span><br></pre></td></tr></table></figure>
<h3 id="11-启动"><a href="#11-启动" class="headerlink" title="11.启动"></a>11.启动</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf &amp;</span><br></pre></td></tr></table></figure>
<h3 id="12-登录及修改用户密码"><a href="#12-登录及修改用户密码" class="headerlink" title="12.登录及修改用户密码"></a>12.登录及修改用户密码</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hadoop001:mysqladmin:/usr/<span class="built_in">local</span>/mysql/data:&gt;mysql -uroot -p <span class="comment"># 尽量不要将密码写在命令行中</span></span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 2</span><br><span class="line">Server version: 5.7.11-log</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; alter user root@localhost identified by <span class="string">'hadoop001'</span> <span class="comment"># 记住以分号;结束命令，修改密码</span></span><br><span class="line">    -&gt; ;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO <span class="string">'root'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'hadoop001'</span> ;<span class="comment"># 一般是公司DBA进行操作</span></span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges; <span class="comment"># 刷新权限</span></span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="built_in">exit</span></span><br><span class="line">Bye</span><br></pre></td></tr></table></figure>
<h3 id="13-重启"><a href="#13-重启" class="headerlink" title="13.重启"></a>13.重启</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hadoop001:mysqladmin:/usr/<span class="built_in">local</span>/mysql:&gt;service mysql restart</span><br><span class="line">Shutting down MySQL..2020-04-27T05:16:16.947024Z mysqld_safe mysqld from pid file /usr/<span class="built_in">local</span>/mysql/data/hostname.pid ended</span><br><span class="line"> SUCCESS! </span><br><span class="line">Starting MySQL.. SUCCESS! </span><br><span class="line">[1]+  Done                    /usr/<span class="built_in">local</span>/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf  (wd: ~/bin)</span><br><span class="line">(wd now: ~)</span><br><span class="line">hadoop001:mysqladmin:/usr/<span class="built_in">local</span>/mysql:&gt;mysql -uroot -p</span><br><span class="line">Enter password:</span><br></pre></td></tr></table></figure>
<p>标准登录写法<br>mysql -u用户 -p密码 -h 机器 -P端口号 指定db（默认不加）</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>SLA服务可用性4个9是什么意思？怎么达到？</title>
    <url>/2020/05/18/SLA%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<p>SLA服务可用性4个9是什么意思？怎么达到？</p>
<p>SLA：服务等级协议（简称：SLA，全称：service level agreement）。是在一定开销下为保障服务的性能和可用性，服务提供商与用户间定义的一种双方认可的协定。通常这个开销是驱动提供服务质量的主要因素。</p>
<p>SLA的定义来源百度，这到底是什么意思呢？</p>
<p>我们平常经常看到互联网公司喊口号，我们今年一定要做到3个9、4个9，即99.9%、99.99%，甚至还有5个9，即99.999%。</p>
<p>这么多9代表什么意思呢？</p>
<p>首先，SLA的概念，对互联网公司来说就是网站服务可用性的一个保证。9越多代表全年服务可用时间越长服务更可靠，停机时间越短，反之亦然。</p>
<p>这么多9是怎么计算的呢？</p>
<p>全年拿365天做计算吧，看看几个9要停机多久时间做能才能达到！</p>
<p>1年 = 365天 = 8760小时</p>
<p>99.9 = 8760 * 0.1% = 8760 * 0.001 = 8.76小时</p>
<p>99.99 = 8760 * 0.0001 = 0.876小时 = 0.876 * 60 = 52.6分钟</p>
<p>99.999 = 8760 * 0.00001 = 0.0876小时 = 0.0876 * 60 = 5.26分钟</p>
<p>从以上看来，全年停机5.26分钟才能做到99.999%，即5个9。依此类推，要达到6个9及更多9，可说是非常难了吧。</p>
<p>怎么做到更多的9</p>
<p>每个公司对几个9的定义都不一样，互联网公司至少都是99.99吧。像一些政府网站，如社保公积金等，经常故障服务不可用，能做到99.9就不错了。</p>
<p>如果我们提供的服务可用性越低，意味着造成的损失也越大，别的不说，如果是特别重要的时刻，或许就在某一分钟，你可能就会因服务不可用而丢掉一笔大的订单，这都是始料未及的。所以，只要尽可能的提升SLA可用性才能最大化的提高企业生产力。</p>
<p>要做到更多的9，就要不断的监控自己的服务，服务挂掉能及时恢复服务。就像开车出远门，首先得检查轮胎，同时还得准备一个备胎一样的道理。</p>
<p><a href="https://blog.csdn.net/youanyyou/article/details/79406515" target="_blank" rel="noopener">https://blog.csdn.net/youanyyou/article/details/79406515</a></p>
]]></content>
      <categories>
        <category>拓展</category>
      </categories>
      <tags>
        <tag>拓展</tag>
      </tags>
  </entry>
  <entry>
    <title>SNN流程</title>
    <url>/2020/05/13/SNN%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<p><strong>SNN流程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#SNN</span></span><br><span class="line">[hadoop@hadoop001 current]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/tmp/dfs/namesecondary/current</span><br><span class="line">[hadoop@hadoop001 current]$ ll</span><br><span class="line">total 197948</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 13 08:09 edits_0000000000001114471-0000000000001114472</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 13 09:09 edits_0000000000001114473-0000000000001114474</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 13 10:09 edits_0000000000001114475-0000000000001114476</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2364 May 13 09:09 fsimage_0000000000001114474</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 13 09:09 fsimage_0000000000001114474.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2364 May 13 10:09 fsimage_0000000000001114476</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 13 10:09 fsimage_0000000000001114476.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop       205 May 13 10:09 VERSION</span><br><span class="line">[hadoop@hadoop001 current]$ </span><br><span class="line"><span class="comment">#NN</span></span><br><span class="line">[hadoop@hadoop001 current]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/tmp/dfs/name/current</span><br><span class="line">[hadoop@hadoop001 current]$ ll</span><br><span class="line">total 198980</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 13 08:09 edits_0000000000001114471-0000000000001114472</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 13 09:09 edits_0000000000001114473-0000000000001114474</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 13 10:09 edits_0000000000001114475-0000000000001114476</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop   1048576 May 13 10:09 edits_inprogress_0000000000001114477</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2364 May 13 09:09 fsimage_0000000000001114474</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 13 09:09 fsimage_0000000000001114474.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2364 May 13 10:09 fsimage_0000000000001114476</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 13 10:09 fsimage_0000000000001114476.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop         8 May 13 10:09 seen_txid</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop       205 May 11 15:32 VERSION</span><br><span class="line">[hadoop@hadoop001 current]$</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/06/12/Ig9TzY4vrbwXSUQ.png" alt=""></p>
<p>1.SNN将NN的日志文件edits475-476（图中487-488） 和镜像文件fsimage474（图中486） 接收</p>
<p>2.SNN将接收文件进行合并为镜像文件fsimage476（图中488）</p>
<p>3.SNN返回镜像文件fsimage476给NN<br>NN自身进行edit操作，写入edit477 inprogress （图中489）</p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>解决bash:hexo:command not found</title>
    <url>/2020/04/29/bug1_hexo_command%20not%20found/</url>
    <content><![CDATA[<p>介绍：电脑注销未关闭git正在运行的本地Hexo博客，再次打开想更新的时候输入 hexo，报错 bash: hexo: command not found。</p>
<p>解决思路：</p>
<p>1.本着能解决问题就不重装的原则，首先检查 nodejs 和 npm 是否正常，依次输入命令 node -v 和 npm -v 看看是否有相关版本信息</p>
<p><img src="https://i.loli.net/2020/06/11/XdtAwjygFB6JHD8.png" alt=""></p>
<p>出现了版本信息就证明 nodejs 和 npm 是没有问题的，那么就应该是环境变量的配置问题了，在【此电脑】右键【属性】，依次选择【高级系统设置】-【环境变量】，选择系统变量 Path，将 node_modules 下的 .bin 文件路径添加到 Path 里面</p>
<p>注意要添加到 Path 里面的是与 _config.yml 在同一个目录的 node_modules 文件夹！<br>环境变量添加好了之后重新打开 git 即可运行 hexo 命令.</p>
<p>2.如果此时仍然无法执行 hexo 命令，那就只能运行命令 npm install hexo-cli -g 重新安装 hexo ！</p>
]]></content>
      <categories>
        <category>hexo</category>
        <category>BUG</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>BUG</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS6.5配置静态IP和可访问外网</title>
    <url>/2020/04/21/centos6.5%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81IP%E5%92%8C%E5%8F%AF%E8%AE%BF%E9%97%AE%E5%A4%96%E7%BD%91/</url>
    <content><![CDATA[<p><strong>CentOS6.5</strong>配置静态<strong>IP</strong>和可访问外网</p>
<p><strong>1.</strong>关闭<strong>Windos7</strong>防火墙</p>
<p>路径：控制面板\系统和安全\Windows Defender防火墙，选择启用或关闭防火墙，将防火墙关闭。</p>
<p><img src="https://i.loli.net/2020/06/11/NoRIlr9a1HLWyAi.jpg" alt=""></p>
<p><strong>2.</strong>关闭<strong>CentOS6.5</strong>防火墙</p>
<p>在centos系统中关闭防火墙，terminal输入以下命令回车</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service iptables stop</span><br><span class="line">chkconfig iptables off</span><br></pre></td></tr></table></figure>

<p><strong>3.</strong>开启两个服务</p>
<p>Windows系统打开以下两个服务，默认是开启的。路径windows键+x，选择计算机管理，选择服务，将以下两个服务开启并设置为自动启动。</p>
<p>VMware DHCP Service</p>
<p>VMware NAT Service</p>
<p><img src="https://i.loli.net/2020/06/11/Nedu7oDgtPEqAFV.png" alt=""></p>
<p><strong>4.</strong>无线网卡的网络(或者插网线的网络)上设置网络共享，选择VM8。</p>
<p>路径：设置网络-更改适配器配置-选中网络-属性-高级属性-共享-将VM8加入共享。</p>
<p><img src="https://i.loli.net/2020/06/11/tYo1n6ebjFKGDPa.png" alt=""></p>
<p><strong>5.</strong>使用<strong>ipconfig -all</strong>命令查看<strong>DNS</strong>、<strong>IPv4</strong>等信息</p>
<p>Windows键+R-cmd</p>
<p><img src="https://i.loli.net/2020/06/11/EyQgeUz7FZbAfjN.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/11/n3K4tJArBXEDHPF.png" alt=""></p>
<p>记住现在所连网络的DNS，以及VMnet8的Ipv4地址和子网掩码</p>
<p><strong>6.</strong>配置<strong>VM8</strong>的选择 使用配置<strong>ip</strong></p>
<p>路径：设置网络-更改适配器配置-选中VMnet8-属性-选中Internet协议Ipv4（TCP/Ipv4）-修改IP地址和子网掩码</p>
<p><img src="https://i.loli.net/2020/06/11/iDhbZSIMdLoKgGs.png" alt=""></p>
<p><strong>7.</strong>进入vm,单击菜单栏的编辑–&gt;虚拟网络编辑器</p>
<p><img src="https://i.loli.net/2020/06/11/SA8LQtOmKyMUYNw.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/11/1fCBs6XIZdLbAqu.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/11/21WKeadNR9MV6CI.png" alt=""></p>
<p><strong>子网IP最后一个为0</strong><br><strong>NAT设置中网关IP最后一位2</strong><br><strong>DHCP设置中范围128-254</strong></p>
<p>Centos7.2安装之后可以不需要设置静态IP，在安装时直接选择开启网络即可（安装配置可参照<a href="https://wangqi1994.github.io/2020/04/21/centos7.2/" target="_blank" rel="noopener">https://wangqi1994.github.io/2020/04/21/centos7.2/</a>）</p>
<p><strong>8.</strong>hadoop001配置<strong>NAT</strong>网络<br>在虚拟机设置中，确认网络适配器是选择的NAT模式</p>
<p><img src="https://i.loli.net/2020/06/11/MU9DhYSCGj4tbKz.png" alt=""></p>
<p><strong>9.</strong>进入hadoop001,编辑ifcfg-eth0</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/06/11/FOScUk6CY4TJfGu.jpg" alt=""><br>IPADDR即IP地址，最后一位在设置范围内即可128-254<br>NETMASK即子网掩码</p>
<p>GATEWAY即网关IP<br>DNS即外部网络DNS<br>注意不要打错单词，否则无法设置成功</p>
<p><strong>10.</strong> 进入hadoop001,重启网络<br>执行命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service network restart</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/06/11/H8tPbAyMwG4I9Ns.jpg" alt=""><br><strong>11.</strong> 进入hadoop001,检查网络</p>
<p><img src="https://i.loli.net/2020/06/11/arKObktAYL6ychd.png" alt=""></p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>系统配置</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>系统配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Centos7.2安装部署（图文教程）</title>
    <url>/2020/04/21/centos7.2/</url>
    <content><![CDATA[<p>Centos7.2安装部署（图文教程）</p>
<p>描述：记录VMware中centos安装部署步骤，包括安装流程和参数配置</p>
<h3 id="一、下载CentOSer6-5镜像文件。"><a href="#一、下载CentOSer6-5镜像文件。" class="headerlink" title="一、下载CentOSer6.5镜像文件。"></a>一、下载CentOSer6.5镜像文件。</h3><p>=============================</p>
<p><a href="http://vault.centos.org/7.2.1511/isos/x86_64/" target="_blank" rel="noopener">http://vault.centos.org/7.2.1511/isos/x86_64/</a></p>
<h3 id="二．虚拟机创建流程-（本次安装使用的VMware版本是15-5）"><a href="#二．虚拟机创建流程-（本次安装使用的VMware版本是15-5）" class="headerlink" title="二．虚拟机创建流程:（本次安装使用的VMware版本是15.5）"></a>二．虚拟机创建流程:（本次安装使用的VMware版本是15.5）</h3><p>=====================================================</p>
<p><img src="https://i.loli.net/2020/06/11/uZ9XJpS6r4vwAMI.png" alt=""></p>
<p>点击新建虚拟机，弹出如下窗口，选择自定义，点击下一步</p>
<p><img src="https://i.loli.net/2020/06/11/OKgeS4n1ycDlCm3.png" alt=""></p>
<p>选择workstations 10.x，点击下一步</p>
<p><img src="https://i.loli.net/2020/06/11/C69zR8mHrp7xBDs.png" alt=""></p>
<p>选择稍后安装操作系统，下一步</p>
<p><img src="https://i.loli.net/2020/06/11/6YEDstWnmOVvx31.png" alt=""></p>
<p>选择Linux之后，选择安装版本，此次选择Centos7 64位，点击下一步</p>
<p><img src="https://i.loli.net/2020/06/11/4ZXrEqLOpQseuoy.png" alt=""></p>
<p>设置虚拟机的名称以及安装位置，（名称根据个人喜好设置），点击下一步</p>
<p><img src="https://i.loli.net/2020/06/11/SdiwrIVGJzxn2yP.png" alt=""></p>
<p>处理器配置，在不影响电脑流畅度条件下，随意设置</p>
<p><img src="https://i.loli.net/2020/06/11/Va5dg9DlXYCy7zt.png" alt=""></p>
<p>配置内存，建议2G以上</p>
<p><img src="https://i.loli.net/2020/06/11/5QSTY7MFqp8LwE6.png" alt=""></p>
<p>网络类型选择默认使用网络地址转换（NAT）</p>
<p><img src="https://i.loli.net/2020/06/11/9t1I2XHKdrbMAQi.png" alt=""></p>
<p>I/O控制器类型默认选择LSI Logic（L）</p>
<p><img src="https://i.loli.net/2020/06/11/UaELSvOze5xuqX1.png" alt=""></p>
<p>磁盘类型默认选择SCIS</p>
<p><img src="https://i.loli.net/2020/06/11/ZQikyJDp8q7sMf9.png" alt=""></p>
<p>选择磁盘使用，默认选择创建新虚拟磁盘</p>
<p><img src="https://i.loli.net/2020/06/11/QdiBONYKrm9h13U.png" alt=""></p>
<p>指定磁盘容量，在不影响电脑使用情况下，合理分配内存，建议40G以上</p>
<p><img src="https://i.loli.net/2020/06/11/xUdcXn4azQjoGiS.png" alt=""></p>
<p>磁盘文件命名，默认即可，点击下一步</p>
<p><img src="https://i.loli.net/2020/06/11/eBVv16rcTxy9onX.png" alt=""></p>
<p>点击完成，完成创建，或者选择自定义硬件，编辑相关属性。</p>
<p><img src="https://i.loli.net/2020/06/11/io8HZ9T16cY5fye.png" alt=""></p>
<p>选中新创建的虚拟机，点击编辑虚拟机设置</p>
<p><img src="https://i.loli.net/2020/06/11/d2pJltWKPmMX16u.png" alt=""></p>
<p>选择CD/DVD（IDE）后选择使用镜像文件安装，选中提前下载好的镜像文件，点击确定</p>
<p><img src="https://i.loli.net/2020/06/11/OiqweyvNFPM9suJ.png" alt=""></p>
<h3 id="三、系统安装配置"><a href="#三、系统安装配置" class="headerlink" title="三、系统安装配置"></a>三、系统安装配置</h3><p>================</p>
<p>点击开启此虚拟机进行系统安装，选择Install Centos 7,直接回车，开始安装</p>
<p><img src="https://i.loli.net/2020/06/11/qfs3FOugXCkWZK7.png" alt=""></p>
<p>进入配置参数界面，建议选择英文系统，当然选择中文系统也可，看个人喜好。</p>
<p><img src="https://i.loli.net/2020/06/11/wySMI5LmaJrXxTg.png" alt=""></p>
<p>点击继续，进入具体设置配置界面</p>
<p><img src="https://i.loli.net/2020/06/11/TlkNRtEPDM1jUah.png" alt=""></p>
<p>设置系统时间和时区，选择Asia/Shanghai，注意具体时间可能会差9小时，可以自己进行手动设置。</p>
<p><img src="https://i.loli.net/2020/06/11/NC9mr3AencalF2q.png" alt=""></p>
<p>至于键盘和辅助语言选择根据个人喜好设置，个人建议英文</p>
<p>选择设置安装software软件，选中software<br>selection进行自己的定制安装，默认选中最小化安装。</p>
<p><img src="https://i.loli.net/2020/06/11/4XKmdb91NVWfwoE.png" alt=""></p>
<p>此次选择安装桌面版GNOME桌面，右侧可以选择想要安装的软件包。</p>
<p><img src="https://i.loli.net/2020/06/11/v2AcPLE1COihm5y.png" alt=""></p>
<p>接下来，最重要的是设置installation destination，选中配置的磁盘（两次点击）</p>
<p><img src="https://i.loli.net/2020/06/11/auF7Jt2HNEYxTf5.png" alt=""></p>
<p>选择自定义，进行磁盘分配。然后选择Done确定进入磁盘分配</p>
<p><img src="https://i.loli.net/2020/06/11/EG6ngOSKJvulH8w.png" alt=""></p>
<p>选择标准分区后，选择添加按钮进行磁盘分配</p>
<p><img src="https://i.loli.net/2020/06/11/mS5FqJxOa9V13Wp.png" alt=""></p>
<p>记得文件系统选择ex4，swap分区最好设置2G往上，设置好boot和swap分区之后，剩余所有磁盘分配给根目录/。点击确认退出磁盘分配</p>
<p><img src="https://i.loli.net/2020/06/11/shiamTeWKDRMb4A.png" alt=""></p>
<p>关于KDUMP，建议关闭，报错文件看不懂，可以勾选</p>
<p>关于网络和主机名，建议选择打开网络并根据需要自行修改主机名。</p>
<p>配置完成之后点击开始安装。</p>
<p>安装过程中，可以设置root用户和普通用户账号和密码，设置完成之后，等待安装完成。</p>
<p><img src="https://i.loli.net/2020/06/11/cuk8XrjGs1p2K5h.png" alt=""></p>
<p>安装完成后，点击reboot重启</p>
<p><img src="https://i.loli.net/2020/06/11/JFzbrXdSLuIwYxq.png" alt=""></p>
<p>会弹出用户协议选择界面，依此输入1-2-c-c即为同意协议</p>
<p>完成安装</p>
<p>输入密码之后，进入欢迎界面，可选择设置系统语言和键盘分布，还有google等用户可选择登录，可以选择跳过。</p>
<p><img src="https://i.loli.net/2020/06/11/2XnILJ3FDp7izfv.png" alt=""></p>
<p>最后，进入Centos 7 桌面。</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>系统配置</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>系统配置</tag>
      </tags>
  </entry>
  <entry>
    <title>解决bash: hdfs: command not found</title>
    <url>/2020/05/10/hdfs%20command%20not%20found/</url>
    <content><![CDATA[<p>在/home/hadoop/app/hadoop文件夹下<br>执行 hdfs dfs -mkdir /usr/input/hot时<br>命令需要<br>bin/hdfs dfs -mkdir /usr/input/hot</p>
<p>如在其他文件夹下运行hdfs dfs -mkdir /usr/input/hot<br>遇到问题</p>
<p>bash: hdfs: command not found</p>
<p>解决方案：</p>
<p>在/etc/profile下添加hadoop的文件路径</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ vi /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JVA_HOME=/usr/java/jdk1.8.0_181</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># hadoop </span></span><br><span class="line"> <span class="built_in">export</span> HADOOP_HOME=/home/hadoop/app/hadoop/bin <span class="comment"># hadoop安装文件</span></span><br><span class="line"> <span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HADOOP_HOME</span></span><br><span class="line"></span><br><span class="line"> [hadoop@hadoop001 etc]$ <span class="built_in">source</span> profile</span><br><span class="line"> [hadoop@hadoop001 etc]$ <span class="built_in">which</span> hdfs</span><br><span class="line">~/app/hadoop/bin/hdfs</span><br></pre></td></tr></table></figure>
<p>然后source 生效环境变量<br>which 查看一下是否生效</p>
<p>之后执行bin/hdfs dfs -mkdir /usr/input/hot 即可</p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
        <category>BUG</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
        <tag>BUG</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/04/19/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>CentOS修改主机名</title>
    <url>/2020/04/22/centos%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D/</url>
    <content><![CDATA[<p><strong>CentOS6.5</strong>修改主机名</p>
<p><strong>1.</strong>编辑<strong>/etc/sysconfig/network</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root\@localhost \~]\<span class="comment"># vi /etc/sysconfig/network</span></span><br><span class="line">NETWORKING=yes</span><br><span class="line">HOSTNAME=hadoop001</span><br></pre></td></tr></table></figure>
<p><strong>2.hostname</strong>直接命名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root\@localhost \~]\<span class="comment">#hostname hadoop-01</span></span><br></pre></td></tr></table></figure>
<p><strong>3.</strong>编辑<strong>/etc/hosts</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root\@localhost \~]\<span class="comment"># vi /etc/hosts</span></span><br><span class="line"></span><br><span class="line">127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line"></span><br><span class="line">::1 localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line"></span><br><span class="line">192.168.137.130 hadoop001</span><br></pre></td></tr></table></figure>
<p>主机名修改之后需要重新打开终端，才能显示。</p>
]]></content>
      <categories>
        <category>系统配置</category>
      </categories>
      <tags>
        <tag>系统配置</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql报错收集</title>
    <url>/2020/05/09/mysql%E6%8A%A5%E9%94%991/</url>
    <content><![CDATA[<h3 id="mysql报错"><a href="#mysql报错" class="headerlink" title="mysql报错"></a>mysql报错</h3><h4 id="1-Can’t-connect-to-local-MySQL-server-through-socket-‘-usr-local-mysql-mysql-mysql-sock’-2"><a href="#1-Can’t-connect-to-local-MySQL-server-through-socket-‘-usr-local-mysql-mysql-mysql-sock’-2" class="headerlink" title="1.Can’t connect to local MySQL server through socket ‘/usr/local/mysql/mysql/mysql.sock’ (2)"></a>1.Can’t connect to local MySQL server through socket ‘/usr/local/mysql/mysql/mysql.sock’ (2)</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#查看3306端口是否被占用</span></span><br><span class="line">lsof -i:3306 <span class="comment"># lsof -i:port</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># lsof -i:3306</span></span><br><span class="line">COMMAND   PID       USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">mysqld  60782 mysqladmin   35u  IPv6 673904      0t0  TCP *:mysql (LISTEN)</span><br><span class="line">[root@hadoop001 java]<span class="comment"># netstat -nlp |grep 3306</span></span><br><span class="line">tcp6       0      0 :::3306                 :::*                    LISTEN      60782/mysqld        </span><br><span class="line">[root@hadoop001 java]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#启动mysql</span></span><br><span class="line">service mysql start</span><br></pre></td></tr></table></figure>
<h4 id="2-Starting-MySQL-ERROR-The-server-quit-without-updating-PID-file-usr-local-mysql-data-hostname-pid"><a href="#2-Starting-MySQL-ERROR-The-server-quit-without-updating-PID-file-usr-local-mysql-data-hostname-pid" class="headerlink" title="2.Starting MySQL.. ERROR! The server quit without updating PID file (/usr/local/mysql/data/hostname.pid)."></a>2.Starting MySQL.. ERROR! The server quit without updating PID file (/usr/local/mysql/data/hostname.pid).</h4><p>在root用户下，可以停止数据库，但是利用service mysql start命令启动mysql数据库时出现报错<br>需要切换到对应用户下，才可以启动数据库</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">su - xxx</span><br><span class="line">service mysql start</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>MySQL</category>
        <category>BUG</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>BUG</tag>
      </tags>
  </entry>
  <entry>
    <title>yarn调优-container</title>
    <url>/2020/05/18/yarn%E8%B0%83%E4%BC%98-container/</url>
    <content><![CDATA[<p>关于Yarn的调优 就是调container<br>首先明确一个container容器的概念，这是一个虚拟的概念，其实是一组memory+cpu vcore资源的组合,是用来运行task任务的 </p>
<p>生产如何调优container参数？</p>
<p>假设128G  16物理core</p>
<h4 id="1-1-系统装完之后，-内存消耗1G"><a href="#1-1-系统装完之后，-内存消耗1G" class="headerlink" title="1.1 系统装完之后， 内存消耗1G"></a>1.1 系统装完之后， 内存消耗1G</h4><h4 id="1-2-系统预留20-内存（包含1G）"><a href="#1-2-系统预留20-内存（包含1G）" class="headerlink" title="1.2 系统预留20%内存（包含1G）"></a>1.2 系统预留20%内存（包含1G）</h4><p>128G*20%=25.6G==26G</p>
<p>为什么预留内存？<br>oom-kill机制<br>Linux系统防止夯住<br>给未来部署组件预留空间</p>
<h4 id="1-3-假设只有DN-NM节点"><a href="#1-3-假设只有DN-NM节点" class="headerlink" title="1.3 假设只有DN NM节点"></a>1.3 假设只有DN NM节点</h4><p>生产上部署一般遵循存储技术一体，90%以上都是dn和nn放一起，<br>就是计算时发现本节点有数据不需要去其他节点拉取，节省网络io，这种一般叫做 数据本地化 </p>
<p>DN=2G 在生产上一般设置2G即可<br>在实际中业务高峰时用了900M，<br>（由于是分布式存储，且存在多个dn节点，每秒一般没有1G的流量，况且还有一定的缓存在发挥作用）<br>当然在资源要求不是很严格且内存充足，不需要扣扣搜搜的时候，可以设置3G/4G</p>
<p>NM=4G 生产上一般4G<br>一般资源比较紧缺时，就是在NM这里抠资源</p>
<p>去除掉系统预留、dn和nm之外，剩余资源全部给真正干活的小弟container用</p>
<p>128-26=102-2-4=96G </p>
<h4 id="1-4-container内存设置，基于内存考虑"><a href="#1-4-container内存设置，基于内存考虑" class="headerlink" title="1.4 container内存设置，基于内存考虑"></a>1.4 container内存设置，基于内存考虑</h4><p>设置yarn-site.xml文件中的参数</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ pwd</span><br><span class="line">/home/hadoop/app/hadoop/etc/hadoop</span><br><span class="line">[hadoop@hadoop001 hadoop]$ vi yarn-site.xml </span><br><span class="line"></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;96&lt;/value&gt; # 该参数控制所有container内存之和,生产上需要调整，默认只有8G</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt; #container容器内存最小值，默认1G </span><br><span class="line">    &lt;/property&gt; #在极限情况下，会存在96个container，每个内存1G</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;96&lt;/value&gt; #container容器内存最大值，官方默认8G，应该改为上面参数的最大值 </span><br><span class="line">    &lt;/property&gt; #在极限情况下，会存在1个container，内存96G，这种情况少</span><br></pre></td></tr></table></figure>

<p>container容器的内存会根据实际情况自动增加，默认1G递增<br>cdh中yarn配置的 但是一般不调整</p>
<h4 id="1-5-container-vcore-基于cpu考虑"><a href="#1-5-container-vcore-基于cpu考虑" class="headerlink" title="1.5 container vcore 基于cpu考虑"></a>1.5 container vcore 基于cpu考虑</h4><p>目前的CPU被划分成虚拟CPU（CPU virtual Core），这里的虚拟CPU是YARN自己引入的概念，<br>初衷是，考虑到不同节点的CPU性能可能不同，每个CPU具有的计算能力也是不一样的，<br>比如某个物理CPU的计算能力可能是另外一个物理CPU的2倍，<br>这时候，你可以通过为第一个物理CPU多配置几个虚拟CPU弥补这种差异。<br>用户提交作业时，可以指定每个任务需要的虚拟CPU个数。在YARN中，CPU相关配置参数如下：<br>（1）yarn.nodemanager.resource.cpu-vcores<br>表示该节点上YARN可使用的虚拟CPU个数，默认是8，<br>注意，目前推荐将该值设值为与物理CPU核数数目相同。<br>如果你的节点CPU核数不够8个，则需要调减小这个值，而YARN不会智能的探测节点的物理CPU总数。<br>（2）yarn.scheduler.minimum-allocation-vcores<br>单个任务可申请的最小虚拟CPU个数，默认是1，如果一个任务申请的CPU个数少于该数，则该对应的值改为这个数。<br>（3）yarn.scheduler.maximum-allocation-vcores<br>单个任务可申请的最多虚拟CPU个数，默认是32。<br>默认情况下，YARN是不会对CPU资源进行调度的，你需要配置相应的资源调度器。</p>
<p><strong>举例说明</strong>：<br>第一台机器 强悍     pcore:vcore=1:2  16core:32vcore<br>第二台机器 不强悍   pcore:vcore=1:1  16core:16core</p>
<p>现在生产上基本上不考虑设置强悍程度<br>统一 设置 pcore:vcore=1:2</p>
<p>为什么要设置 vcore 1:2呢？<br>container需要vcore<br>并发任务是靠vcore</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.resource.pcores-vcores-multiplier&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;2&lt;/value&gt;  # pcore:vcore=1:2</span><br><span class="line">&lt;/property&gt; </span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;32&lt;/value&gt; # 可用虚拟vcore数</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;1&lt;/value&gt; #可用虚拟vcore最小数，极限情况下 是32个</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;32&lt;/value&gt; #可用虚拟vcore最大数，极限情况下 是1个</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-6-生产如何设置-基于生产经验"><a href="#1-6-生产如何设置-基于生产经验" class="headerlink" title="1.6 生产如何设置 基于生产经验"></a>1.6 生产如何设置 基于生产经验</h4><p>cloudera公司推荐，一个container的vcore最好不要超过5个，那么设置4</p>
<p>yarn.scheduler.maximum-allocation-vcores 4 极限情况下，只有8个container </p>
<h4 id="1-7-整合memory-cpu"><a href="#1-7-整合memory-cpu" class="headerlink" title="1.7 整合memory cpu"></a>1.7 整合memory cpu</h4><p>确定 4 vcore  8个container</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;96&lt;/value&gt; # 该参数控制所有container内存之和,生产上需要调整，默认只有8G</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;1&lt;/value&gt; #container容器内存最小值，默认1G </span><br><span class="line">&lt;/property&gt; #在极限情况下，会存在96个container，每个内存1G</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;12&lt;/value&gt; #container容器内存最大值，官方默认8G，应该改为上面参数的最大值 </span><br><span class="line">&lt;/property&gt; # 极限情况container 8个,所以设置为12G</span><br></pre></td></tr></table></figure>
<p>但是spark计算时内存有些指标比较大，那么这个参数必然调大，<br>那么这种理想化，完美化的设置必然被打破，到时以memory为主，可以提升内存的量</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.resource.pcores-vcores-multiplier&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;2&lt;/value&gt;  # pcore:vcore=1:2</span><br><span class="line">&lt;/property&gt; </span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;32&lt;/value&gt; # 可用虚拟vcore数</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;1&lt;/value&gt; #可用虚拟vcore最小数，极限情况下 是32个</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;4&lt;/value&gt; #可用虚拟vcore最大数，极限情况下 是1个</span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>
<p><strong>生产上机器内存大小最好不要超过32G,调优参数不是越大越好</strong><br>30-32g比较神奇<br><a href="https://blog.csdn.net/weixin_44641024/article/details/103248842" target="_blank" rel="noopener">https://blog.csdn.net/weixin_44641024/article/details/103248842</a></p>
<p>补充设置：<br>yarn.nodemanager.pmem-check-enabled  false #是否将对容器实施物理内存限制 一般关闭<br>yarn.nodemanager.vmem-check-enabled  false<br>yarn.nodemanager.vmem-pmem-ratio      2.1  就是有个虚拟内存的概念 一般不要 不要调整这个参数</p>
<h4 id="1-7-笔试题"><a href="#1-7-笔试题" class="headerlink" title="1.7 笔试题"></a>1.7 笔试题</h4><p>假如该节点还有其他组件，比如HBase RS节点<br>256G内存<br>cpu物理core 32核</p>
<p>DN<br>NM<br>HBase RS=30G </p>
<p>请问以上6个参数如何设置？<br>预留256*20%=51.8G<br>暂定52G<br>dn=2G<br>nm=4G<br>HBase RS=30G<br>container 总内存256-52-2-4-30=168G<br>物理core32，设置pcore：vcore=1：2<br>vcore =64<br>一般设置vcore最大4，那么container有16个<br>所以每个内存最大是10G</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cpu参数</span></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.pcores-vcores-multiplier&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;2&lt;/value&gt;  # pcore:vcore=1:2</span><br><span class="line">    &lt;/property&gt; </span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;64&lt;/value&gt; # 可用虚拟vcore数</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt; #可用虚拟vcore最小数，极限情况下 是32个</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;4&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt; </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">内存参数</span></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;168&lt;/value&gt; # 该参数控制所有container内存之和,生产上需要调整，默认只有8G</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt; #container容器内存最小值，默认1G </span><br><span class="line">    &lt;/property&gt; #在极限情况下，会存在96个container，每个内存1G</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;10&lt;/value&gt; #container容器内存最大值，官方默认8G，应该改为上面参数的最大值 </span><br><span class="line">    &lt;/property&gt; # 极限情况container 16个,所以设置为10G</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo部署博客备忘</title>
    <url>/2020/05/01/%E5%8D%9A%E5%AE%A2%E5%A4%87%E5%BF%98%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<h3 id="1-node-js部署"><a href="#1-node-js部署" class="headerlink" title="1.node.js部署"></a>1.node.js部署</h3><p>下载安装包，安装<br>完成后，打开cmd窗口  输入:<br>node -v<br>npm -v<br>出现标识 成功安装node.js</p>
<p>永久设置淘宝源<br>npm config set registry <a href="http://registry.npm.taobao.org/" target="_blank" rel="noopener">http://registry.npm.taobao.org/</a></p>
<h3 id="2-git部署"><a href="#2-git部署" class="headerlink" title="2.git部署"></a>2.git部署</h3><p>下载Git  官方地址为：<a href="https://git-scm.com/download/win" target="_blank" rel="noopener">https://git-scm.com/download/win</a><br><img src="https://i.loli.net/2020/06/11/aBHkWJP2QnfisDw.png" alt=""><br>选择组件<br><img src="https://i.loli.net/2020/06/11/vfuXLnN291Fbij7.png" alt=""><br>选择使用命令行环境<br><img src="https://i.loli.net/2020/06/11/EmYgBPnfqQ3JOV8.png" alt=""><br>以下三步默认，直接点击下一步<br><img src="https://i.loli.net/2020/06/11/Z4NPR8JcBvbpfX9.png" alt="">   <img src="https://i.loli.net/2020/06/11/3aHw8Qusbg54Dnm.png" alt="">   <img src="https://i.loli.net/2020/06/11/cYoKQzDA2ftM9p5.png" alt=""></p>
<p>安装完成后检验是否成功</p>
<p>回到电脑桌面，鼠标右击如果看到有两个git单词则安装成功<br><img src="https://i.loli.net/2020/06/11/GYkia9wdSJjmzTN.png" alt=""></p>
<h3 id="3-hexo部署"><a href="#3-hexo部署" class="headerlink" title="3.hexo部署"></a>3.hexo部署</h3><p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官方文档</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>先创建 E:\hexo #<br>进入cd<br>初始化博客目录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init ruozedatablog</span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">hexo clean <span class="comment">#清理缓存</span></span><br><span class="line"></span><br><span class="line">hexo g <span class="comment">#生成静态文件</span></span><br><span class="line"></span><br><span class="line">hexo s <span class="comment">#启动服务器</span></span><br><span class="line"></span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>
<p><a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p>
<h3 id="4-github"><a href="#4-github" class="headerlink" title="4.github"></a>4.github</h3><p>注册 英文名称简约 好记 高大尚<br><a href="https://github.com/join?source=header-home">https://github.com/join?source=header-home</a>  注册 </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">"zxcwangqi@163.com"</span></span><br><span class="line"><span class="comment">#settings进入ssh 点击generate ssh ，选generate new ssh </span></span><br><span class="line"><span class="built_in">cd</span> /c/Users/Administrator/.ssh/id_rsa.pub <span class="comment">#注意Administrator是本地电脑名称</span></span><br><span class="line"><span class="comment"># 在github上设置新的ssh，将上述文件拷入ssh的key中建立连接</span></span><br><span class="line">ssh -T git@github.com  <span class="comment"># 第一次执行 是需要输入yes</span></span><br><span class="line"></span><br><span class="line">git config --global user.name <span class="string">"wangqi1994"</span></span><br><span class="line">git config --global user.email <span class="string">"zxcwangqi@163.com"</span></span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/wangqi1994/wangqi1994.github.io">https://github.com/wangqi1994/wangqi1994.github.io</a><br>名字需要一致</p>
<h3 id="5-hexo部署github"><a href="#5-hexo部署github" class="headerlink" title="5.hexo部署github"></a>5.hexo部署github</h3><p>window—&gt;github</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:wangqi1994/wangqi1994.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hexo clean &amp;&amp; hexo deploy  <span class="comment"># 应该会出现 github的登录窗口 输入账号密码登录</span></span><br></pre></td></tr></table></figure>

<h3 id="6-换个高大尚的主题"><a href="#6-换个高大尚的主题" class="headerlink" title="6.换个高大尚的主题"></a>6.换个高大尚的主题</h3><p><a href="https://github.com/JoeyBling/hexo-theme-yilia-plus">https://github.com/JoeyBling/hexo-theme-yilia-plus</a></p>
<p>cd ./themes/<br>git clone –depth=1 <a href="https://github.com/JoeyBling/hexo-theme-yilia-plus.git">https://github.com/JoeyBling/hexo-theme-yilia-plus.git</a> ./yilia-plus</p>
<p>修改hexo根目录下的 _config.yml<br>theme: yilia-plus</p>
<p>部署推<br>hexo clean &amp;&amp; hexo deploy</p>
<p>_config.yml修改你直接的地址</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:wangqi1994/wangqi1994.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Push hexo blog html to <span class="built_in">local</span> :</span><br><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo server</span><br><span class="line">open web: http://localhost:4000</span><br><span class="line"></span><br><span class="line">Push hexo blog html to github :</span><br><span class="line">hexo clean &amp;&amp; hexo deploy</span><br><span class="line">open web: https://wangqi1994.github.io</span><br></pre></td></tr></table></figure>

<p>Markdown语法学习<br><a href="http://markdown.xiaoshujiang.com/" target="_blank" rel="noopener">http://markdown.xiaoshujiang.com/</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>作业-04.29+修改</title>
    <url>/2020/04/30/%E4%BD%9C%E4%B8%9A-04.29/</url>
    <content><![CDATA[<h3 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> devoir;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> devoir.* <span class="keyword">to</span> root@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'123456'</span>;</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> devoir;</span><br><span class="line"></span><br><span class="line"><span class="comment">#--部门表</span></span><br><span class="line"><span class="comment">#dept部门表(deptno部门编号/dname部门名称/loc地点)</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept (</span><br><span class="line">    deptno <span class="built_in">numeric</span>(<span class="number">2</span>),</span><br><span class="line">    dname <span class="built_in">varchar</span>(<span class="number">14</span>),</span><br><span class="line">    loc <span class="built_in">varchar</span>(<span class="number">13</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span> (<span class="number">10</span>, <span class="string">'ACCOUNTING'</span>, <span class="string">'NEW YORK'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span> (<span class="number">20</span>, <span class="string">'RESEARCH'</span>, <span class="string">'DALLAS'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span> (<span class="number">30</span>, <span class="string">'SALES'</span>, <span class="string">'CHICAGO'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span> (<span class="number">40</span>, <span class="string">'OPERATIONS'</span>, <span class="string">'BOSTON'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#--工资等级表</span></span><br><span class="line"><span class="comment">#salgrade工资等级表(grade 等级/losal此等级的最低/hisal此等级的最高)</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> salgrade (</span><br><span class="line">    grade <span class="built_in">numeric</span>,</span><br><span class="line">    losal <span class="built_in">numeric</span>,</span><br><span class="line">    hisal <span class="built_in">numeric</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">1</span>, <span class="number">700</span>, <span class="number">1200</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">2</span>, <span class="number">1201</span>, <span class="number">1400</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">3</span>, <span class="number">1401</span>, <span class="number">2000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">4</span>, <span class="number">2001</span>, <span class="number">3000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">5</span>, <span class="number">3001</span>, <span class="number">9999</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#--员工表</span></span><br><span class="line"><span class="comment">#emp员工表(empno员工号/ename员工姓名/job工作/mgr上级编号/hiredate受雇日期/sal薪金/comm佣金/deptno部门编号)</span></span><br><span class="line"><span class="comment">#工资 ＝ 薪金 ＋ 佣金</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp (</span><br><span class="line">    empno <span class="built_in">numeric</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    ename <span class="built_in">varchar</span>(<span class="number">10</span>),</span><br><span class="line">    job <span class="built_in">varchar</span>(<span class="number">9</span>),</span><br><span class="line">    mgr <span class="built_in">numeric</span>(<span class="number">4</span>),</span><br><span class="line">    hiredate datetime,</span><br><span class="line">    sal <span class="built_in">numeric</span>(<span class="number">7</span>, <span class="number">2</span>),</span><br><span class="line">    comm <span class="built_in">numeric</span>(<span class="number">7</span>, <span class="number">2</span>),</span><br><span class="line">    deptno <span class="built_in">numeric</span>(<span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7369</span>, <span class="string">'SMITH'</span>, <span class="string">'CLERK'</span>, <span class="number">7902</span>, <span class="string">'1980-12-17'</span>, <span class="number">800</span>, <span class="literal">null</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7499</span>, <span class="string">'ALLEN'</span>, <span class="string">'SALESMAN'</span>, <span class="number">7698</span>, <span class="string">'1981-02-20'</span>, <span class="number">1600</span>, <span class="number">300</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7521</span>, <span class="string">'WARD'</span>, <span class="string">'SALESMAN'</span>, <span class="number">7698</span>, <span class="string">'1981-02-22'</span>, <span class="number">1250</span>, <span class="number">500</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7566</span>, <span class="string">'JONES'</span>, <span class="string">'MANAGER'</span>, <span class="number">7839</span>, <span class="string">'1981-04-02'</span>, <span class="number">2975</span>, <span class="literal">null</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7654</span>, <span class="string">'MARTIN'</span>, <span class="string">'SALESMAN'</span>, <span class="number">7698</span>, <span class="string">'1981-09-28'</span>, <span class="number">1250</span>, <span class="number">1400</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7698</span>, <span class="string">'BLAKE'</span>, <span class="string">'MANAGER'</span>, <span class="number">7839</span>, <span class="string">'1981-05-01'</span>, <span class="number">2850</span>, <span class="literal">null</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7782</span>, <span class="string">'CLARK'</span>, <span class="string">'MANAGER'</span>, <span class="number">7839</span>, <span class="string">'1981-06-09'</span>, <span class="number">2450</span>, <span class="literal">null</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7788</span>, <span class="string">'SCOTT'</span>, <span class="string">'ANALYST'</span>, <span class="number">7566</span>, <span class="string">'1982-12-09'</span>, <span class="number">3000</span>, <span class="literal">null</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7839</span>, <span class="string">'KING'</span>, <span class="string">'PRESIDENT'</span>, <span class="literal">null</span>, <span class="string">'1981-11-17'</span>, <span class="number">5000</span>, <span class="literal">null</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7844</span>, <span class="string">'TURNER'</span>, <span class="string">'SALESMAN'</span>, <span class="number">7698</span>, <span class="string">'1981-09-08'</span>, <span class="number">1500</span>, <span class="number">0</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7876</span>, <span class="string">'ADAMS'</span>, <span class="string">'CLERK'</span>, <span class="number">7788</span>, <span class="string">'1983-01-12'</span>, <span class="number">1100</span>, <span class="literal">null</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7900</span>, <span class="string">'JAMES'</span>, <span class="string">'CLERK'</span>, <span class="number">7698</span>, <span class="string">'1981-12-03'</span>, <span class="number">950</span>, <span class="literal">null</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7902</span>, <span class="string">'FORD'</span>, <span class="string">'ANALYST'</span>, <span class="number">7566</span>, <span class="string">'1981-12-03'</span>, <span class="number">3000</span>, <span class="literal">null</span>, <span class="number">20</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span> (<span class="number">7934</span>, <span class="string">'MILLER'</span>, <span class="string">'CLERK'</span>, <span class="number">7782</span>, <span class="string">'1982-01-23'</span>, <span class="number">1300</span>, <span class="literal">null</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h3 id="作业"><a href="#作业" class="headerlink" title="作业:"></a>作业:</h3><h4 id="1-查询出部门编号为30的所有员工的编号和姓名"><a href="#1-查询出部门编号为30的所有员工的编号和姓名" class="headerlink" title="1.查询出部门编号为30的所有员工的编号和姓名"></a>1.查询出部门编号为30的所有员工的编号和姓名</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">empno,</span><br><span class="line">ename</span><br><span class="line"><span class="keyword">from</span> devoir.emp <span class="keyword">where</span> deptno=<span class="number">30</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-找出部门编号为10中所有经理，和部门编号为30中所有销售员的详细资料。"><a href="#2-找出部门编号为10中所有经理，和部门编号为30中所有销售员的详细资料。" class="headerlink" title="2.找出部门编号为10中所有经理，和部门编号为30中所有销售员的详细资料。"></a>2.找出部门编号为10中所有经理，和部门编号为30中所有销售员的详细资料。</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">*</span><br><span class="line"><span class="keyword">from</span> devoir.emp <span class="keyword">where</span>(deptno=<span class="number">10</span> <span class="keyword">and</span> job = <span class="string">'MANAGER'</span>) </span><br><span class="line"><span class="keyword">or</span> (deptno=<span class="number">30</span> <span class="keyword">and</span> job =<span class="string">'SALESMAN'</span>)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> deptno;</span><br></pre></td></tr></table></figure>

<h4 id="3-查询所有员工详细信息，用工资降序排序，如果工资相同使用入职日期升序排序"><a href="#3-查询所有员工详细信息，用工资降序排序，如果工资相同使用入职日期升序排序" class="headerlink" title="3.查询所有员工详细信息，用工资降序排序，如果工资相同使用入职日期升序排序"></a>3.查询所有员工详细信息，用工资降序排序，如果工资相同使用入职日期升序排序</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">*,</span><br><span class="line">sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>) <span class="keyword">as</span> money </span><br><span class="line"><span class="keyword">from</span> devoir.emp </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> money <span class="keyword">desc</span>, hiredate <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>
<p>修改：工资只有sal</p>
<h4 id="4-列出薪金大于1500的各种工作及从事此工作的员工人数。"><a href="#4-列出薪金大于1500的各种工作及从事此工作的员工人数。" class="headerlink" title="4.列出薪金大于1500的各种工作及从事此工作的员工人数。"></a>4.列出薪金大于1500的各种工作及从事此工作的员工人数。</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">job,</span><br><span class="line"><span class="keyword">count</span>(job)</span><br><span class="line"><span class="keyword">from</span> devoir.emp e <span class="keyword">where</span> (sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>)) &gt;<span class="number">1500</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job ;</span><br></pre></td></tr></table></figure>
<p>修改：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> e.job,<span class="keyword">count</span>(*) <span class="keyword">as</span> 员工人数     <span class="comment"># count(*)和count(1)基本作用一致count(job)</span></span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job <span class="keyword">having</span> <span class="keyword">min</span>(sal)&gt;<span class="number">1500</span>;</span><br></pre></td></tr></table></figure>
<p>聚合:  多行–&gt;多行或低于多行<br>各种工作及从事此工作的员工人数</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> e.job,<span class="keyword">count</span>(*) <span class="keyword">as</span> 员工人数,<span class="keyword">avg</span>(*) <span class="keyword">as</span> 平均数</span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job</span><br><span class="line"></span><br><span class="line"> <span class="keyword">select</span> e.job,<span class="keyword">count</span>(*) <span class="keyword">as</span> 员工人数 <span class="keyword">from</span> emp e  <span class="keyword">group</span> <span class="keyword">by</span> job <span class="keyword">having</span> <span class="keyword">count</span>(*)&gt;<span class="number">3</span>;</span><br><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> (<span class="keyword">select</span> e.job,<span class="keyword">count</span>(*) <span class="keyword">as</span> 员工人数 <span class="keyword">from</span> emp e  <span class="keyword">group</span> <span class="keyword">by</span> job) a <span class="keyword">where</span> a.员工人数&gt;<span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<h4 id="5-列出在销售部工作的员工的姓名，假定不知道销售部的部门编号。"><a href="#5-列出在销售部工作的员工的姓名，假定不知道销售部的部门编号。" class="headerlink" title="5.列出在销售部工作的员工的姓名，假定不知道销售部的部门编号。"></a>5.列出在销售部工作的员工的姓名，假定不知道销售部的部门编号。</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">devoir.emp.ename,</span><br><span class="line">devoir.dept.dname</span><br><span class="line"><span class="keyword">from</span> devoir.emp</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> devoir.dept <span class="keyword">on</span> devoir.emp.deptno=devoir.dept.deptno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> emp.ename,dept.dname </span><br><span class="line"><span class="keyword">having</span> dname=<span class="string">'SALES'</span>;</span><br></pre></td></tr></table></figure>
<p>修改：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename <span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">where</span> e.deptno =(<span class="keyword">select</span> deptno <span class="keyword">from</span> dept <span class="keyword">where</span> dname=<span class="string">'SALES'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="6-查询姓名以S开头的-以S结尾-包含S字符-第二个字母为L"><a href="#6-查询姓名以S开头的-以S结尾-包含S字符-第二个字母为L" class="headerlink" title="6.查询姓名以S开头的\以S结尾\包含S字符\第二个字母为L  __"></a>6.查询姓名以S开头的\以S结尾\包含S字符\第二个字母为L  __</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">#S开头</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">*</span><br><span class="line"><span class="keyword">from</span> devoir.emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'S%'</span>;</span><br><span class="line"><span class="comment">#S结尾</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">*</span><br><span class="line"><span class="keyword">from</span> devoir.emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'%S'</span>;</span><br><span class="line"><span class="comment"># 包含S</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">*</span><br><span class="line"><span class="keyword">from</span> devoir.emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'%S%'</span>;</span><br><span class="line"><span class="comment">#第二个字母L</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">*</span><br><span class="line"><span class="keyword">from</span> devoir.emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'_L%'</span>;</span><br></pre></td></tr></table></figure>

<h4 id="7-查询每种工作的最高工资、最低工资、人数"><a href="#7-查询每种工作的最高工资、最低工资、人数" class="headerlink" title="7.查询每种工作的最高工资、最低工资、人数"></a>7.查询每种工作的最高工资、最低工资、人数</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">job,</span><br><span class="line"><span class="keyword">max</span>(sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>)),</span><br><span class="line"><span class="keyword">min</span>(sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>)),</span><br><span class="line"><span class="keyword">count</span>(job)</span><br><span class="line"><span class="keyword">from</span> devoir.emp </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job;</span><br></pre></td></tr></table></figure>

<h4 id="8-列出薪金-高于-公司平均薪金的所有员工号，员工姓名，所在部门名称，上级领导，工资，工资等级"><a href="#8-列出薪金-高于-公司平均薪金的所有员工号，员工姓名，所在部门名称，上级领导，工资，工资等级" class="headerlink" title="8.列出薪金 高于 公司平均薪金的所有员工号，员工姓名，所在部门名称，上级领导，工资，工资等级"></a>8.列出薪金 高于 公司平均薪金的所有员工号，员工姓名，所在部门名称，上级领导，工资，工资等级</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> gr</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">emp.empno,</span><br><span class="line">emp.ename,</span><br><span class="line">dept.dname,</span><br><span class="line">emp.mgr,</span><br><span class="line">emp.sal+<span class="keyword">ifnull</span>(emp.comm,<span class="number">0</span>) <span class="keyword">as</span> money</span><br><span class="line"><span class="comment">#salgrade.grade #where money between losal and hisal</span></span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.deptno=dept.deptno</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> emp.empno,</span><br><span class="line">emp.ename,</span><br><span class="line">dept.dname,</span><br><span class="line">emp.mgr,</span><br><span class="line">emp.sal+<span class="keyword">ifnull</span>(emp.comm,<span class="number">0</span>);</span><br><span class="line"><span class="comment">#salgrade.grade;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">gr.empno,</span><br><span class="line">gr.ename,</span><br><span class="line">gr.dname,</span><br><span class="line">gr.mgr,</span><br><span class="line">gr.money,</span><br><span class="line">salgrade.grade <span class="comment">#where money between losal and hisal</span></span><br><span class="line"><span class="keyword">from</span> gr </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> salgrade <span class="keyword">on</span> gr.money <span class="keyword">between</span> losal <span class="keyword">and</span> hisal </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="comment"># group by 只要选择前面一个字段</span></span><br><span class="line">gr.empno,</span><br><span class="line">gr.ename,</span><br><span class="line">gr.dname,</span><br><span class="line">gr.mgr,</span><br><span class="line">gr.money,</span><br><span class="line">salgrade.grade</span><br><span class="line"><span class="keyword">having</span> gr.money&gt;(<span class="keyword">select</span> </span><br><span class="line"><span class="keyword">avg</span>(gr.money)</span><br><span class="line"><span class="keyword">from</span> gr) ;</span><br></pre></td></tr></table></figure>
<p>修改：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> e.empno <span class="keyword">as</span> 工号,e.ename <span class="keyword">as</span> 姓名,</span><br><span class="line">d.dname <span class="keyword">as</span> 部门,</span><br><span class="line">m.ename <span class="keyword">as</span> 上级领导,</span><br><span class="line">(e.sal+<span class="keyword">ifnull</span>(e.comm,<span class="number">0</span>)) <span class="keyword">as</span> 工资,</span><br><span class="line">s.grade <span class="keyword">as</span> 薪水等级</span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line">  <span class="keyword">left</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno=d.deptno <span class="comment">#连续join</span></span><br><span class="line">  <span class="keyword">left</span> <span class="keyword">join</span> emp m <span class="keyword">on</span>  e.mgr=m.empno</span><br><span class="line">  <span class="keyword">left</span> <span class="keyword">join</span> salgrade s <span class="keyword">on</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal</span><br><span class="line"><span class="keyword">where</span> (e.sal+<span class="keyword">ifnull</span>(e.comm,<span class="number">0</span>)) &gt; (<span class="keyword">select</span> <span class="keyword">avg</span>(sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>)) <span class="keyword">from</span> emp);</span><br></pre></td></tr></table></figure>
<h4 id="9-列出薪金-高于-在部门30工作的-所有-任何一个员工的薪金的员工姓名和薪金、部门名称。"><a href="#9-列出薪金-高于-在部门30工作的-所有-任何一个员工的薪金的员工姓名和薪金、部门名称。" class="headerlink" title="9.列出薪金  高于  在部门30工作的  所有/任何一个员工的薪金的员工姓名和薪金、部门名称。"></a>9.列出薪金  高于  在部门30工作的  所有/任何一个员工的薪金的员工姓名和薪金、部门名称。</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">gr.ename,</span><br><span class="line">gr.money,</span><br><span class="line">gr.dname </span><br><span class="line"><span class="keyword">from</span> gr <span class="keyword">where</span> gr.money &gt;</span><br><span class="line">(<span class="keyword">select</span> </span><br><span class="line"><span class="keyword">max</span>(sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>))</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> emp.deptno =<span class="number">30</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>修改：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename, e.sal, d.dname</span><br><span class="line"><span class="keyword">from</span> emp e, dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno=d.deptno <span class="keyword">and</span> sal &gt; <span class="keyword">all</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno=<span class="number">30</span>)</span><br><span class="line"><span class="comment"># all 是括号内所有的</span></span><br><span class="line"><span class="keyword">any</span>: <span class="comment"># any 是括号内任一个</span></span><br><span class="line"><span class="keyword">select</span> e.ename, e.sal, d.dname</span><br><span class="line"><span class="keyword">from</span> emp e, dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno=d.deptno <span class="keyword">and</span> sal &gt; <span class="keyword">any</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno=<span class="number">30</span>);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ruozedata</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>LInux系统需要牢牢记住的两个机制</title>
    <url>/2020/05/17/%E7%89%A2%E8%AE%B0%E4%B8%A4%E4%B8%AA%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<p>基于Linux系统进行作业时，需要牢记两个Linux的自身机制，否则容易出现各种花式问题</p>
<p>1.tmp目录自动清理</p>
<p><a href="https://wangqi1994.github.io/2020/05/11/Linux系统tmp目录自动清理总结/" target="_blank" rel="noopener">tmp自动清理总结</a></p>
<p>所以一些重要的文件和不能被删除的文件，千万不要放在tmp目录，<br>所以在安装组件和运行组件前，一定要确定文件不要默认放在tmp目录</p>
<p>2.oom-kill机制</p>
<p>当Linux服务器某个进程使用内存超标 Linux机器为了保护自己，<br>主动杀死你的进程，释放内存。</p>
<p>所以系统一定要确定保留部分内存，不要内存全部占用<br>一般系统预留10-20%</p>
<p>一定要注意这两个机制！！！！！</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第一天</title>
    <url>/2020/04/22/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B01/</url>
    <content><![CDATA[<p>数仓培训第一天</p>
<h3 id="一、系统安装部署"><a href="#一、系统安装部署" class="headerlink" title="一、系统安装部署"></a>一、系统安装部署</h3><p>具体流程参考：<br><strong>Centos7.2</strong>安装部署（图文教程）<a href="https://wangqi1994.github.io/2020/04/21/centos7.2/" target="_blank" rel="noopener">ici</a><br><strong>CentOS6.5</strong>配置静态<strong>IP</strong>和可访问外网<a href="https://wangqi1994.github.io/2020/04/21/centos6.5配置静态IP和可访问外网/" target="_blank" rel="noopener">ici</a><br><strong>CentOS6.5</strong>修改主机名<a href="https://wangqi1994.github.io/2020/04/22/centos修改主机名/" target="_blank" rel="noopener">ici</a></p>
<h3 id="二、Linux部分认知和命令"><a href="#二、Linux部分认知和命令" class="headerlink" title="二、Linux部分认知和命令"></a>二、Linux部分认知和命令</h3><h3 id="1-root-hadoop001"><a href="#1-root-hadoop001" class="headerlink" title="1.  [root@hadoop001 ~]#"></a>1.  [root@hadoop001 ~]#</h3><p>root默认管理员，拥有最大权限</p>
<p>hadoop001是机器名称，可以自行修改<br>~表示当前用户家目录 root用户家目录/root , hadoop001用户家目录/home/hadoop001</p>
<h3 id="2-pwd查看当前光标所在目录-路径"><a href="#2-pwd查看当前光标所在目录-路径" class="headerlink" title="2.  pwd查看当前光标所在目录 路径"></a>2.  pwd查看当前光标所在目录 路径</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ hadoop001 ~]<span class="comment"># pwd</span></span><br><span class="line">root</span><br></pre></td></tr></table></figure>
<h3 id="3-ls-查看"><a href="#3-ls-查看" class="headerlink" title="3.  ls 查看"></a>3.  ls 查看</h3><p>[root@ hadoop001 ~]# ls<br>ls 显示文件夹 文件名称<br>ls -l 显示额外信息 权限 用户用户组 更新时间 大小<br>ls -l -a 显示隐藏文件夹和文件 = ls -al</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ hadoop001 ~]<span class="comment"># ls -l -a</span></span><br><span class="line">total 4</span><br><span class="line">dr-xr-x---. 6 root root 4096 Apr 15 21:51 .</span><br><span class="line">dr-xr-xr-x. 17 root root 4096 Aug 8 2018 ..</span><br><span class="line">-rw-------. 1 root root 3814 Apr 15 21:49 .bash_history</span><br><span class="line">-rw-r--r--. 1 root root 18 Dec 29 2013 .bash_logout</span><br></pre></td></tr></table></figure>
<p>隐藏文件夹 文件是以.开头</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ls -l -h <span class="comment">#仅仅查看文件的大小</span></span><br><span class="line"></span><br><span class="line">ls -l -r -t <span class="comment">#按时间排序 （解决如何快速找到最新更新文件的问题）</span></span><br><span class="line"></span><br><span class="line">ll -a   <span class="comment">#ls -l ==》ll #等价</span></span><br><span class="line">ll -rt</span><br><span class="line">ll -h</span><br></pre></td></tr></table></figure>
<h3 id="4-mkdir-创建文件夹"><a href="#4-mkdir-创建文件夹" class="headerlink" title="4.  mkdir 创建文件夹"></a>4.  mkdir 创建文件夹</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ hadoop001 ~]<span class="comment"># mkdir ruozedata</span></span><br><span class="line">[root@ hadoop001 ~]<span class="comment"># ls</span></span><br><span class="line">ruozedata</span><br><span class="line">mkdir dir1 dir2 dir3 <span class="comment">#并联创建，可以同时创建三个文件夹</span></span><br><span class="line">mkdir -p dir4/dir5/dir6 <span class="comment">#串级创建，可以直接创建三层文件夹</span></span><br></pre></td></tr></table></figure>
<h3 id="5-cd-切换目录-路径"><a href="#5-cd-切换目录-路径" class="headerlink" title="5.  cd 切换目录 路径"></a>5.  cd 切换目录 路径</h3><p>Linux系统 从根目录的标识 /</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ hadoop001 ~]<span class="comment"># cd /</span></span><br><span class="line"><span class="built_in">cd</span> dir1 <span class="comment">#进入dir1文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ../ <span class="comment">#退到上一层目录 注意：不是上一次的目录</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ../../ <span class="comment">#退到上面2层</span></span><br></pre></td></tr></table></figure>
<p>root用户 家目录 /root<br>普通xx用户 家目录 /home/xx<br>家目录 是 ~ 表示<br>如何进当前用户的家目录:<br>cd /root #当前用户的家目录的完整路径</p>
<p>cd 直接回车<br>cd ~</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> - <span class="comment">#回退到上一次的目录</span></span><br><span class="line">[root@ hadoop001 ~]<span class="comment"># cd dir4</span></span><br><span class="line">[root@ hadoop001 dir4]<span class="comment"># cd dir5/dir6</span></span><br><span class="line">[root@ hadoop001 dir6]<span class="comment">#</span></span><br><span class="line">[root@ hadoop001 dir6]<span class="comment"># cd -</span></span><br><span class="line">[root@ hadoop001 dir4]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h3 id="6-帮助命令-–help"><a href="#6-帮助命令-–help" class="headerlink" title="6.  帮助命令 –help"></a>6.  帮助命令 –help</h3><h1 id="标识的参数可选-…-多个参数"><a href="#标识的参数可选-…-多个参数" class="headerlink" title="[]标识的参数可选      … 多个参数"></a>[]标识的参数可选      … 多个参数</h1><p>Usage: ls [OPTIONS]<br>Usage: ls XXX [OPTIONS]</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ hadoop001 ~]<span class="comment"># ls --help</span></span><br><span class="line">Usage: ls [OPTION]... [FILE]...</span><br><span class="line">List information about the FILEs (the current directory by default).</span><br><span class="line">Sort entries alphabetically <span class="keyword">if</span> none of -cftuvSUX nor --sort is specified.</span><br><span class="line">Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line">-a, --all <span class="keyword">do</span> not ignore entries starting with .</span><br><span class="line">-A, --almost-all <span class="keyword">do</span> not list implied . and ..--author with -l, <span class="built_in">print</span> the author of each file</span><br><span class="line">-b, --escape <span class="built_in">print</span> C-style escapes <span class="keyword">for</span> nongraphic characters--block-size=SIZE scale sizes by SIZE before printing them; e.g.,<span class="string">'--block-size=M'</span> prints sizes <span class="keyword">in</span> units of1,048,576 bytes; see SIZE format below</span><br></pre></td></tr></table></figure>
<p>man 命令 比–help更加详细</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>常用sql语句之从入门到删库</title>
    <url>/2020/05/09/%E5%B8%B8%E7%94%A8sql%E8%AF%AD%E5%8F%A5%E4%B9%8B%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%88%A0%E5%BA%93/</url>
    <content><![CDATA[<h3 id="启动与停止"><a href="#启动与停止" class="headerlink" title="启动与停止"></a>启动与停止</h3><ul>
<li>启动mysql服务<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo /usr/<span class="built_in">local</span>/mysql/support-files/mysql.server start</span><br></pre></td></tr></table></figure></li>
<li>停止mysql服务<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo /usr/<span class="built_in">local</span>/mysql/support-files/mysql.server stop</span><br></pre></td></tr></table></figure></li>
<li>重启mysql服务<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo /usr/<span class="built_in">local</span>/mysql/support-files/mysql.server restart</span><br></pre></td></tr></table></figure></li>
<li>进入mysql目录文件<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mysql/support-files</span><br></pre></td></tr></table></figure></li>
<li>进入mysql命令行<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/MySQL/bin/mysql -uroot -p12345678</span><br></pre></td></tr></table></figure></li>
<li>退出数据库<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">exit;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数据库相关操作"><a href="#数据库相关操作" class="headerlink" title="数据库相关操作"></a>数据库相关操作</h3><ul>
<li>查询所有数据库<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br></pre></td></tr></table></figure></li>
<li>选择(使用)数据库<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">use</span> mybatis;</span><br></pre></td></tr></table></figure></li>
<li>查询当前正在使用的数据库名称<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br></pre></td></tr></table></figure></li>
<li>创建数据库<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> 数据库名称;</span><br><span class="line"><span class="comment">#创建数据库,判断不存在,再创建: create database if not exists 数据库名;</span></span><br></pre></td></tr></table></figure></li>
<li>删除数据库<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> 数据库名称;</span><br><span class="line"><span class="comment">#判断数据库存在，存在再删除:drop database if exists 数据库名称;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数据库表相关操作"><a href="#数据库表相关操作" class="headerlink" title="数据库表相关操作"></a>数据库表相关操作</h3><ul>
<li>创建数据库表<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">	列名<span class="number">1</span> 数据类型<span class="number">1</span>,</span><br><span class="line">	列名<span class="number">2</span> 数据类型<span class="number">2</span>,</span><br><span class="line">	....</span><br><span class="line">	列名n 数据类型n</span><br><span class="line">	);</span><br></pre></td></tr></table></figure></li>
<li>复制表<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名 <span class="keyword">like</span> 被复制的表名;</span><br></pre></td></tr></table></figure></li>
<li>查看某个数据库中的所有的数据表<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br></pre></td></tr></table></figure></li>
<li>查看数据表的结构<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">desc pet;或<span class="keyword">describe</span> pet;</span><br></pre></td></tr></table></figure></li>
<li>修改表名<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">rename</span> <span class="keyword">to</span> 新的表名;</span><br></pre></td></tr></table></figure></li>
<li>修改表的字符集<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="built_in">character</span> <span class="keyword">set</span> 字符集名称;</span><br></pre></td></tr></table></figure></li>
<li>添加一列<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 列名 数据类型;</span><br></pre></td></tr></table></figure></li>
<li>删除列<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 列名;</span><br></pre></td></tr></table></figure></li>
<li>删除表<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;或<span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> 表名 ;</span><br></pre></td></tr></table></figure></li>
<li>添加数据<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(列名<span class="number">1</span>,列名<span class="number">2</span>,...列名n) <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>,...值n);</span><br><span class="line"><span class="comment">#列名和值要一一对应。如果表名后，不定义列名，则默认给所有列添加值,如:insert into 表名 values(值1,值2,...值n);除了数字类型，其他类型需要使用引号(单双都可以)引起来.</span></span><br></pre></td></tr></table></figure></li>
<li>删除数据<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件</span><br><span class="line"><span class="comment">#如果不加条件，则删除表中所有记录。如果要删除所有记录, 使用delete from 表名;一般不推荐使用。这种操作有多少条记录就会执行多少次删除操作.</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> 表名; <span class="comment">#推荐使用，效率更高 先删除表，然后再创建一张一样的表.</span></span><br></pre></td></tr></table></figure></li>
<li>修改数据<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名<span class="number">1</span> = 值<span class="number">1</span>, 列名<span class="number">2</span> = 值<span class="number">2</span>,... <span class="keyword">where</span> 条件; <span class="comment"># 如果不加任何条件，则会将表中所有记录全部修改.</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> user2 <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'李四'</span>,<span class="string">'123'</span>); <span class="comment">#增</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> pet <span class="keyword">where</span> ower = <span class="string">'disn'</span>; <span class="comment">#删</span></span><br><span class="line"><span class="keyword">update</span> pet <span class="keyword">set</span> <span class="keyword">name</span> = <span class="string">'后裔'</span> <span class="keyword">where</span> ower = <span class="string">'dfn'</span>; <span class="comment">#改</span></span><br></pre></td></tr></table></figure></li>
<li>查询数据<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">&gt; 、&lt; 、&lt;= 、&gt;= 、= 、&lt;&gt;	</span><br><span class="line">BETWEEN...AND <span class="comment"># 范围</span></span><br><span class="line">IN( 集合)	</span><br><span class="line">LIKE 模糊查询	</span><br><span class="line">_单个任意字符</span><br><span class="line">%多个任意字符</span><br><span class="line">IS NULL  </span><br><span class="line">and  或 &amp;&amp;</span><br><span class="line">or  或 || </span><br><span class="line">not  或 !</span><br><span class="line">查询条件应用举例:</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age &gt;= <span class="number">18</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age &gt;= <span class="number">18</span> <span class="keyword">AND</span>  age &lt;=<span class="number">36</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age <span class="keyword">BETWEEN</span> <span class="number">40</span> <span class="keyword">AND</span> <span class="number">70</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age <span class="keyword">IN</span> (<span class="number">6</span>,<span class="number">18</span>,<span class="number">37</span>);</span><br><span class="line"><span class="comment">#关于NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> height = <span class="literal">NULL</span>; 错误,因为null值不能使用=或（!=) 判断</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> height <span class="keyword">IS</span> <span class="literal">NULL</span>;(正确)</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> height  <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>;(正确)</span><br><span class="line"><span class="comment">#查询姓陈的有哪些？&lt; like&gt;</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> <span class="keyword">NAME</span> <span class="keyword">LIKE</span> <span class="string">'陈%'</span>;</span><br><span class="line"><span class="comment">#查询姓名第二个字是新的人</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> <span class="keyword">NAME</span> <span class="keyword">LIKE</span> <span class="string">"_新%"</span>;</span><br><span class="line"><span class="comment">#查询姓名是三个字的人</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> <span class="keyword">NAME</span> <span class="keyword">LIKE</span> <span class="string">'___'</span>;</span><br><span class="line"><span class="comment">#查询姓名中包含狗的人</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> <span class="keyword">NAME</span> <span class="keyword">LIKE</span> <span class="string">'%狗%'</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="约束相关"><a href="#约束相关" class="headerlink" title="约束相关"></a>约束相关</h3><ul>
<li>主键约束 (primary key)<br>能够唯一确定一张表中的的一条记录,我们通过给某个字段添加约束, 可以使得这个字段不重复且不为空.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span> (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment, <span class="comment">#在创建表时，添加主键约束，并且完成主键自增	</span></span><br><span class="line">	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line"> );</span><br><span class="line"><span class="comment">-- 联合主键: 由多个字段联合组成的主键, 只要联合的主键加起来不重复就可以.联合主键中的任何一个字段都不能为空.</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user2 (</span><br><span class="line"> 	<span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line"> 	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line"> 	<span class="keyword">password</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line"> 	primary <span class="keyword">key</span>(<span class="keyword">id</span>, <span class="keyword">name</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
表创建完成后:<br>添加主键.如:<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> <span class="keyword">add</span> primary <span class="keyword">key</span>(<span class="keyword">id</span>);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>;</span><br></pre></td></tr></table></figure>
删除主键:<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">user</span> <span class="keyword">drop</span> primary <span class="keyword">key</span>;</span><br></pre></td></tr></table></figure></li>
<li>唯一约束：unique 约束修饰的字段的值不可以重复.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user1 (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line"> 	phone_num <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span></span><br><span class="line"> 	 );</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user2 (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line"> 	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line"> 	<span class="keyword">unique</span>(<span class="keyword">id</span>, <span class="keyword">name</span>) // 表示两个字段在一起不重复就可以</span><br><span class="line"> 	 );</span><br></pre></td></tr></table></figure>
也可以在表创建完成后, 通过<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3 <span class="keyword">add</span> <span class="keyword">unique</span>(phone_num);</span><br></pre></td></tr></table></figure>
或<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3 <span class="keyword">modify</span> phone_num <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span>;</span><br></pre></td></tr></table></figure>
来添加unique约束.</li>
</ul>
<p>删除unique约束:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3 <span class="keyword">drop</span> <span class="keyword">index</span> phone_num;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>非空约束：not null 修饰的字段不能为空NULL</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user3 (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">	);</span><br></pre></td></tr></table></figure>
<p>删除非空约束:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3 <span class="keyword">modify</span> <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>默认约束<br>当我们插入字段值时候,如果对应的字段没有插入值,则会使用默认值.如果传入了值,则不会使用默认值.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user4(</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">	age <span class="built_in">int</span> <span class="keyword">default</span> <span class="number">18</span>,</span><br><span class="line">	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">	);</span><br></pre></td></tr></table></figure>
</li>
<li><p>外键约束：foreign key</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">....</span><br><span class="line">外键列</span><br><span class="line"><span class="keyword">constraint</span> 外键名称 <span class="keyword">foreign</span> <span class="keyword">key</span> (外键列名称) <span class="keyword">references</span> 主表名称(主表列名称)</span><br><span class="line">);</span><br><span class="line"><span class="comment"># 班级</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> classes(</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">	);	</span><br><span class="line"><span class="comment"># 学生表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student (</span><br><span class="line">		<span class="keyword">id</span>	<span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">		<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">		class_id <span class="built_in">int</span>,</span><br><span class="line">		<span class="keyword">foreign</span> <span class="keyword">key</span>(class_id) <span class="keyword">references</span> classes(<span class="keyword">id</span>)</span><br><span class="line">		);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数据库查询进阶"><a href="#数据库查询进阶" class="headerlink" title="数据库查询进阶"></a>数据库查询进阶</h3><ul>
<li>查询所有记录<br>例如:查询student表中的所有记录.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure></li>
<li>查询指定字段<br>例如:查询student中的sname,ssex,class.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname,ssex,<span class="keyword">class</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure></li>
<li>查询教师表中所有的单位即不重复的depart列. &lt;排除重复distinct&gt;<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> depart <span class="keyword">from</span> teacher;</span><br></pre></td></tr></table></figure></li>
<li>查询score表中成绩在60到80之间的所有记录 &lt;查询区间 between…and…&gt;<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> degree <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">80</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> degree &gt; <span class="number">60</span> <span class="keyword">and</span> degree &lt; <span class="number">80</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询score表中成绩为85,86或88的记录<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> degree <span class="keyword">in</span>(<span class="number">85</span>, <span class="number">86</span>, <span class="number">88</span>);</span><br></pre></td></tr></table></figure></li>
<li>查询student表中’95031’班或性别为’女’的同学记录. &lt;or 表示或者&gt;<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> *<span class="keyword">from</span> student <span class="keyword">where</span> <span class="keyword">class</span> = <span class="string">'95031'</span> <span class="keyword">or</span> sex = <span class="string">'女'</span>;</span><br></pre></td></tr></table></figure></li>
<li>以class降序查询student表的所有记录 &lt;降序:desc, 升序asc,默认升序(省略)&gt;.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">class</span> <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure></li>
<li>以cno升序,degree降序查询score表的所有记录<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">order</span> <span class="keyword">by</span> cno <span class="keyword">asc</span>,degree <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询”95031’班的学生人数 &lt;统计 count&gt;<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> student <span class="keyword">where</span> <span class="keyword">class</span> = <span class="string">'95031'</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询score表中最高分的学生学号和课程号(子查询)</li>
</ul>
<p>select sno, cno from score where degree = (select max(degree) from score );<br>#其中:select max(degree) from score 先查出最高分.<br>select sno,cno degree from score order by degree desc limit 0,1;<br>#其中:limit第一个数字表示从多少开始,第二个表示多少条.当有多个相同最高分时,容易出bug,不推荐使用这种方式查询.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">* 查询每门课的平均成绩</span><br><span class="line">&#96;&#96;&#96;sql</span><br><span class="line">select cno, avg(degree) from score group by cno;</span><br></pre></td></tr></table></figure>
<ul>
<li>查询score表中至少有2名学生选修的并以3开头的课程的平均分数.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cno, <span class="keyword">avg</span>(degree) <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> cno <span class="keyword">having</span> <span class="keyword">count</span>(cno) &gt;= <span class="number">2</span> <span class="keyword">and</span> cno <span class="keyword">like</span> <span class="string">'3%'</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询分数大于70, 小于90的sno列.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno, degree <span class="keyword">from</span> score <span class="keyword">where</span> degree <span class="keyword">between</span> <span class="number">70</span> <span class="keyword">and</span> <span class="number">90</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询所有学生的sname, cno和degree列.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname, cno, degree <span class="keyword">from</span> student, score <span class="keyword">where</span> student.sno = score.sno;</span><br></pre></td></tr></table></figure></li>
<li>查询所有学生的sno,cname和degree列<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sno,cname,degree <span class="keyword">from</span> course ,score <span class="keyword">where</span> course.cno = score.cno;</span><br></pre></td></tr></table></figure></li>
<li>查询”95031”班学生每门课的平均分.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cno, <span class="keyword">avg</span>(degree) <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> sno <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> sno <span class="keyword">from</span> student <span class="keyword">where</span> <span class="keyword">class</span> = <span class="string">'95031'</span>) </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cno;</span><br></pre></td></tr></table></figure></li>
<li>查询选修”3-105”课程的成绩高于”109”号同学”3-105”成绩的所有同学的记录.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> cno = <span class="string">'3-105'</span> <span class="keyword">and</span> degree &gt; </span><br><span class="line">(<span class="keyword">select</span> degree <span class="keyword">from</span> score <span class="keyword">where</span> sno = <span class="string">'109'</span> <span class="keyword">and</span> cno = <span class="string">'3-105'</span>);</span><br></pre></td></tr></table></figure></li>
<li>查询成绩高于学号为”109”, 课程号为”3-105”的成绩的所有记录<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> degree &gt; (<span class="keyword">select</span> degree <span class="keyword">from</span> score <span class="keyword">where</span> sno = <span class="string">'109'</span> <span class="keyword">and</span> cno = <span class="string">'3-105'</span>);</span><br></pre></td></tr></table></figure></li>
<li>查询和学号为108,101的同学同年出生的所有的sno, sname, sbirthday<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> *<span class="keyword">from</span> student </span><br><span class="line"><span class="keyword">where</span> <span class="keyword">year</span>(sbirthday) <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">year</span>(sbirthday) <span class="keyword">from</span> student <span class="keyword">where</span> sno <span class="keyword">in</span>(<span class="number">108</span>, <span class="number">101</span>));</span><br></pre></td></tr></table></figure></li>
<li>查询”张旭”教师任课的学生成绩<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> cno = ( <span class="keyword">select</span> cno <span class="keyword">from</span> course <span class="keyword">where</span> tno = (<span class="keyword">select</span> tno <span class="keyword">from</span> teacher <span class="keyword">where</span> tname = <span class="string">"张旭"</span>));</span><br></pre></td></tr></table></figure></li>
<li>查询选修某课程的同学人数多于5人的教师姓名.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> tname <span class="keyword">from</span> teacher </span><br><span class="line"><span class="keyword">where</span> tno =</span><br><span class="line">(<span class="keyword">select</span> tno <span class="keyword">from</span> course <span class="keyword">where</span> cno = (<span class="keyword">select</span> cno <span class="keyword">from</span> score <span class="keyword">group</span> <span class="keyword">by</span> cno <span class="keyword">having</span> <span class="keyword">count</span>(*) &gt; <span class="number">5</span>));</span><br></pre></td></tr></table></figure></li>
<li>查询存在有85分以上的成绩的课程的cno<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> cno, degree <span class="keyword">from</span> score <span class="keyword">where</span> degree &gt; <span class="number">85</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询出”计算机系”教师所教课程的成绩表<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> cno <span class="keyword">in</span> </span><br><span class="line">(<span class="keyword">select</span> cno <span class="keyword">from</span> course <span class="keyword">where</span> tno <span class="keyword">in</span> (<span class="keyword">select</span> tno <span class="keyword">from</span> teacher <span class="keyword">where</span> depart = <span class="string">"计算机系"</span>));</span><br></pre></td></tr></table></figure></li>
<li>查询选修编号为”3-105”课程且成绩至少高于选休息编号为”3-245”的同学的cno,sno和degree,<br>并按degree从高到低次序排序.</li>
<li><em>any 至少一个*</em>.<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> cno = <span class="string">'3-105'</span> <span class="keyword">and</span> degree &gt; </span><br><span class="line"><span class="keyword">any</span>(<span class="keyword">select</span> degree <span class="keyword">from</span> score <span class="keyword">where</span> cno = <span class="string">'3-245'</span>) <span class="keyword">order</span> <span class="keyword">by</span> degree <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询选修编号为”3-105”课程且成绩高于选休息编号为”3-245”的同学的cno,sno和degree,并按degree从高到低次序排序.</li>
<li><em>all 表示所有*</em><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> cno = <span class="string">'3-105'</span> <span class="keyword">and</span> degree &gt; </span><br><span class="line"><span class="keyword">all</span>(<span class="keyword">select</span> degree <span class="keyword">from</span> score <span class="keyword">where</span> cno = <span class="string">'3-245'</span>) <span class="keyword">order</span> <span class="keyword">by</span> degree <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询所有教师和同学的name, sex和birthday<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> tname <span class="keyword">as</span> <span class="keyword">name</span>, tsex <span class="keyword">as</span> sex, tbirthday <span class="keyword">as</span> birthday </span><br><span class="line"><span class="keyword">from</span> teacher <span class="keyword">union</span> <span class="keyword">select</span> sname, ssex, sbirthday <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure></li>
<li>查询所有”女”教师和”女”同学的name,sex和birthday<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> tname <span class="keyword">as</span> <span class="keyword">name</span>, tsex <span class="keyword">as</span> sex, tbirthday <span class="keyword">as</span> birthday </span><br><span class="line"><span class="keyword">from</span> teacher <span class="keyword">where</span> tsex = <span class="string">'女'</span> <span class="keyword">union</span> <span class="keyword">select</span> sname, ssex, sbirthday <span class="keyword">from</span> student <span class="keyword">where</span> ssex = <span class="string">'女'</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询成绩比该课程成绩低的同学的成绩表</li>
</ul>
<p>思路: 从a表查出对应的分数跟b表筛选出来的平均分作比较.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score a <span class="keyword">where</span> degree &lt; (<span class="keyword">select</span> <span class="keyword">avg</span>(degree) <span class="keyword">from</span> score b <span class="keyword">where</span> a.cno = b.cno);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表a</span></span><br><span class="line">+<span class="comment">-----+-------+--------+</span></span><br><span class="line">| sno | cno   | degree |</span><br><span class="line">+<span class="comment">-----+-------+--------+</span></span><br><span class="line">| 101 | 3-105 |     91 |</span><br><span class="line">| 102 | 3-105 |     92 |</span><br><span class="line">| 103 | 3-105 |     92 |</span><br><span class="line">| 103 | 3-245 |     86 |</span><br><span class="line">| 103 | 6-166 |     85 |</span><br><span class="line">| 104 | 3-105 |     81 |</span><br><span class="line">| 105 | 3-105 |     88 |</span><br><span class="line">| 105 | 3-245 |     75 |</span><br><span class="line">| 105 | 6-166 |     79 |</span><br><span class="line">| 109 | 3-105 |     76 |</span><br><span class="line">| 109 | 3-245 |     68 |</span><br><span class="line">| 109 | 6-166 |     81 |</span><br><span class="line">+<span class="comment">-----+-------+--------+</span></span><br><span class="line">12 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)   </span><br><span class="line"></span><br><span class="line"><span class="comment">#表b</span></span><br><span class="line">| sno | cno   | degree |</span><br><span class="line">+<span class="comment">-----+-------+--------+</span></span><br><span class="line">| <span class="number">101</span> | <span class="number">3</span><span class="number">-105</span> |     <span class="number">91</span> |</span><br><span class="line">| <span class="number">102</span> | <span class="number">3</span><span class="number">-105</span> |     <span class="number">92</span> |</span><br><span class="line">| <span class="number">103</span> | <span class="number">3</span><span class="number">-105</span> |     <span class="number">92</span> |</span><br><span class="line">| <span class="number">103</span> | <span class="number">3</span><span class="number">-245</span> |     <span class="number">86</span> |</span><br><span class="line">| <span class="number">103</span> | <span class="number">6</span><span class="number">-166</span> |     <span class="number">85</span> |</span><br><span class="line">| <span class="number">104</span> | <span class="number">3</span><span class="number">-105</span> |     <span class="number">81</span> |</span><br><span class="line">| <span class="number">105</span> | <span class="number">3</span><span class="number">-105</span> |     <span class="number">88</span> |</span><br><span class="line">| <span class="number">105</span> | <span class="number">3</span><span class="number">-245</span> |     <span class="number">75</span> |</span><br><span class="line">| <span class="number">105</span> | <span class="number">6</span><span class="number">-166</span> |     <span class="number">79</span> |</span><br><span class="line">| <span class="number">109</span> | <span class="number">3</span><span class="number">-105</span> |     <span class="number">76</span> |</span><br><span class="line">| <span class="number">109</span> | <span class="number">3</span><span class="number">-245</span> |     <span class="number">68</span> |</span><br><span class="line">| <span class="number">109</span> | <span class="number">6</span><span class="number">-166</span> |     <span class="number">81</span> |</span><br><span class="line">+<span class="comment">-----+-------+--------+</span></span><br><span class="line"><span class="number">12</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<ul>
<li>查询所有任课教师的tname和depart<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> tname, depart <span class="keyword">from</span> teacher <span class="keyword">where</span> tno <span class="keyword">in</span> (<span class="keyword">select</span> tno <span class="keyword">from</span> course);</span><br></pre></td></tr></table></figure></li>
<li>查询至少有两名男生的班号<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">class</span> <span class="keyword">from</span> student <span class="keyword">where</span> ssex= <span class="string">'男'</span> <span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">class</span> <span class="keyword">having</span> <span class="keyword">count</span>(*) &gt; <span class="number">1</span></span><br></pre></td></tr></table></figure></li>
<li>查询student表中不姓”王”的同学记录<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> sname <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">'王%'</span>;</span><br></pre></td></tr></table></figure></li>
<li>查询student表中每个学生的姓名和年龄<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname, <span class="keyword">year</span>(<span class="keyword">now</span>()) - <span class="keyword">year</span>(sbirthday)  <span class="keyword">as</span> <span class="string">'年龄'</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure></li>
<li>查询student表中最大和最小的sbirthday日期值<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(sbirthday) <span class="keyword">as</span> <span class="string">'最大'</span>, <span class="keyword">min</span>(sbirthday) <span class="keyword">as</span> <span class="string">'最小'</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure></li>
<li>以班号和年龄从大到小的顺序查询student表中的全部记录<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">class</span> <span class="keyword">desc</span>, sbirthday;</span><br></pre></td></tr></table></figure></li>
<li>查询”男”教师及其所上的课程<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> course <span class="keyword">where</span> tno <span class="keyword">in</span> (<span class="keyword">select</span> tno <span class="keyword">from</span> teacher <span class="keyword">where</span> tsex = <span class="string">'男'</span>);</span><br></pre></td></tr></table></figure></li>
<li>查询最高分同学的sno, cno和degree列<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score <span class="keyword">where</span> degree = (<span class="keyword">select</span> <span class="keyword">max</span>(degree) <span class="keyword">from</span> score);</span><br></pre></td></tr></table></figure></li>
<li>查询和李军同性别的所有同学的sname<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> student <span class="keyword">where</span> ssex = (<span class="keyword">select</span> ssex <span class="keyword">from</span> student <span class="keyword">where</span> sname = <span class="string">'李军'</span>);</span><br></pre></td></tr></table></figure></li>
<li>查询和李军同性别并同班 同学sname<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> student </span><br><span class="line"><span class="keyword">where</span> ssex = </span><br><span class="line">(<span class="keyword">select</span> ssex <span class="keyword">from</span> student <span class="keyword">where</span> sname = <span class="string">"李军"</span>) </span><br><span class="line"><span class="keyword">and</span> <span class="keyword">class</span> = (<span class="keyword">select</span> <span class="keyword">class</span> <span class="keyword">from</span> student <span class="keyword">where</span> sname = <span class="string">'李军'</span>);</span><br></pre></td></tr></table></figure></li>
<li>查询所有选修”计算机导论”课程的”男”的成绩表<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> score </span><br><span class="line"><span class="keyword">where</span> cno = (<span class="keyword">select</span> cno <span class="keyword">from</span> course <span class="keyword">where</span> cname = <span class="string">'计算机导论'</span>) </span><br><span class="line"><span class="keyword">and</span> sno <span class="keyword">in</span>(<span class="keyword">select</span> sno <span class="keyword">from</span> student <span class="keyword">where</span> ssex = <span class="string">'男'</span>);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="SQL的四种连接查询"><a href="#SQL的四种连接查询" class="headerlink" title="SQL的四种连接查询"></a>SQL的四种连接查询</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 分析用例的数据准备:</span></span><br><span class="line">mysql&gt; select * from person;</span><br><span class="line">+<span class="comment">----+--------+--------+</span></span><br><span class="line">| id | name   | cardId |</span><br><span class="line">+<span class="comment">----+--------+--------+</span></span><br><span class="line">|  1 | 张三   |      1 |</span><br><span class="line">|  2 | 李四   |      3 |</span><br><span class="line">|  3 | 王五   |      6 |</span><br><span class="line">+<span class="comment">----+--------+--------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> card;</span><br><span class="line">+<span class="comment">------+-----------+</span></span><br><span class="line">| id   | name      |</span><br><span class="line">+<span class="comment">------+-----------+</span></span><br><span class="line">|    1 | 饭卡      |</span><br><span class="line">|    2 | 建行卡    |</span><br><span class="line">|    3 | 农行卡    |</span><br><span class="line">|    4 | 工商卡    |</span><br><span class="line">|    5 | 邮政卡    |</span><br><span class="line">+<span class="comment">------+-----------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<ul>
<li>内连接<br>inner join 或者 join, 后面通常跟对一个on表示条件</li>
</ul>
<p>—- 内联查询: 就是两张表中的数据, 通过某个字段相等,查询出相关记录数据.<br>&lt;当前表中的cardid与id相同.&gt;</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> person <span class="keyword">inner</span> <span class="keyword">join</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line">+<span class="comment">----+--------+--------+------+-----------+</span></span><br><span class="line">| id | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">----+--------+--------+------+-----------+</span></span><br><span class="line">|  1 | 张三   |      1 |    1 | 饭卡      |</span><br><span class="line">|  2 | 李四   |      3 |    3 | 农行卡    |</span><br><span class="line">+<span class="comment">----+--------+--------+------+-----------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<ul>
<li>外连接<br>左外连接:左连接 left join 或者 left outer join</li>
</ul>
<p>—- 左外连接, 会把左边表里面的所有数据取出来, 而右边表中的数据,如果有相等的,就显示出来, 如果没有, 则会补NULL.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> person <span class="keyword">left</span> <span class="keyword">join</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line"></span><br><span class="line">+<span class="comment">----+--------+--------+------+-----------+</span></span><br><span class="line">| id | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">----+--------+--------+------+-----------+</span></span><br><span class="line">|  1 | 张三   |      1 |    1 | 饭卡      |</span><br><span class="line">|  2 | 李四   |      3 |    3 | 农行卡    |</span><br><span class="line">|  3 | 王五   |      6 | NULL | NULL      |</span><br><span class="line">+<span class="comment">----+--------+--------+------+-----------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>右外连接:右连接 right join 或者right outer join<br>—-右外连接, 会把右边表里面的所有数据取出来, 而左边表中的数据,如果有相等的,就显示出来, 如果没有, 则会补NULL.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> person <span class="keyword">right</span> <span class="keyword">join</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line"></span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">| id   | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">|    1 | 张三   |      1 |    1 | 饭卡      |</span><br><span class="line">|    2 | 李四   |      3 |    3 | 农行卡    |</span><br><span class="line">| NULL | NULL   |   NULL |    2 | 建行卡    |</span><br><span class="line">| NULL | NULL   |   NULL |    4 | 工商卡    |</span><br><span class="line">| NULL | NULL   |   NULL |    5 | 邮政卡    |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<p>全外连接:完全外连接 full join 或者full outer join&lt;mysql不支持full join&gt;</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt; select * from person full join card on person.cardId= card.id;</span><br><span class="line">ERROR 1054 (42S22): Unknown column 'person.cardId' in 'on clause'</span><br><span class="line">**** 解决mysql不支持full join的方法****</span><br><span class="line"> &lt;左连接 + 右链接&gt; , 即通过union来连接左右连接. &lt;左连接 union 右链接&gt;.</span><br><span class="line">eg:</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> person <span class="keyword">left</span> <span class="keyword">join</span> card <span class="keyword">on</span> person.cardId = card.id </span><br><span class="line"><span class="keyword">union</span> </span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> person <span class="keyword">right</span> <span class="keyword">join</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line"></span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">| id   | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">|    1 | 张三   |      1 |    1 | 饭卡      |</span><br><span class="line">|    2 | 李四   |      3 |    3 | 农行卡    |</span><br><span class="line">|    3 | 王五   |      6 | NULL | NULL      |</span><br><span class="line">| NULL | NULL   |   NULL |    2 | 建行卡    |</span><br><span class="line">| NULL | NULL   |   NULL |    4 | 工商卡    |</span><br><span class="line">| NULL | NULL   |   NULL |    5 | 邮政卡    |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">6 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<p><strong><em>要点梳理</em></strong></p>
<ul>
<li>where 和 having 的区别？<br>(1) having通常用在聚合函数前面，对聚合函数进行过滤,（MAX、MIN、COUNT、SUM).<br>having通常和group by 一起连用，因为where不能加在group by的后面.<br>(2) where 在分组之前进行限定，如果不满足条件，则不参与分组。<br>having在分组之后进行限定，如果不满足结果，则不会被查询出来.<br>where 后不可以跟聚合函数，having可以进行聚合函数的判断。<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">#MYSQL执行语句顺序，严格遵循次顺序，不能改变</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line"><span class="keyword">where</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line"><span class="keyword">having</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br></pre></td></tr></table></figure>
<h3 id="mysql的事务"><a href="#mysql的事务" class="headerlink" title="mysql的事务"></a>mysql的事务</h3></li>
<li>关于事务<br>mysql中, 事务其实是一个最小的不可分割的工作单元. 事务能够保证一个业务的完整性.<br>分析:<br>例如:<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">a <span class="comment">--&gt; -100</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line">b <span class="comment">--&gt; +100</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br><span class="line"><span class="comment">-- 实际程序中, 如果只有一条sql语句执行成功了,而另外一条没有执行成功?则会出现前后数据不一致的情况.</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br><span class="line"><span class="comment">#在多条sql语句,可能会有同时成功的要求,要么就同时失败.</span></span><br></pre></td></tr></table></figure></li>
<li>事务控制<br>(1)事务主要包含自动提交<strong>@@autocommit=1</strong>;,手动提交<strong>commit</strong>;和事务回滚<strong>rollback</strong>;.<br>(2) mysql默认是开启事务的(自动提交).</li>
</ul>
<p>—-当我们去执行一个sql语句的时候,效果会立即提现出来,且不能回滚.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> autocommit = <span class="number">0</span>;<span class="comment">#设置mysql是否自动提交,&lt;0为否, 1为是.&gt;</span></span><br><span class="line"><span class="keyword">select</span> @@autocommit;查看mysql的自动提交方式.</span><br><span class="line"><span class="keyword">commit</span>; 手动提交.</span><br></pre></td></tr></table></figure>
<p>具体事务控制相关参照下面代码分析:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt; select @@autocommit;</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| @@autocommit |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">|            1 |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="comment">#建表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> bank;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span> (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    money <span class="built_in">int</span></span><br><span class="line">    );</span><br><span class="line"><span class="comment">#首先在表中插入一条用户数据a.</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'a'</span>,<span class="number">1000</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"><span class="comment">#进行回滚操作.</span></span><br><span class="line">mysql&gt; rollback;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"><span class="comment">#执行回滚后,查看数据表信息,发现即使调用了rollback,但插入的数据依然存在.说明当前不能回滚.</span></span><br><span class="line">mysql&gt; select * from user;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="comment">#可以通过设置msql的回滚自动提交为false.</span></span><br><span class="line"><span class="keyword">set</span> autocommit = <span class="number">0</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">mysql&gt; select @@autocommit;</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| @@autocommit |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">|            0 |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="comment">#也就说, 通过上面的set autocommit = 0;操作关闭了mysql的自动提交(commit).</span></span><br><span class="line">*******再次插入数据:*******</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span> <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'b'</span>,<span class="number">1000</span>);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"><span class="comment">#插入数据后查看表,用户2数据添加成功.</span></span><br><span class="line">mysql&gt; select * from user;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">|  2 | b    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="comment">#执行回滚操作.</span></span><br><span class="line">mysql&gt; <span class="keyword">rollback</span>;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"><span class="comment">#回滚后再次查看表,发现刚才插入的数据已经被干掉了.</span></span><br><span class="line">mysql&gt; select * from user;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line">**** 对于这种场景,如果想让用户b数据成功提交, 可以通过<span class="keyword">commit</span>;命令执行手动提交操作.手动提交后,如果想再次通过<span class="keyword">rollback</span>来撤销,则是不可以的.也就是说,事务一旦提交,执行的<span class="keyword">sql</span>语句就不可以再撤销,也就是说事务一旦提交数据就会持久的产生效果.</span><br></pre></td></tr></table></figure>
<p>(3)手动开启事务<br>begin和start transaction都可以手动开启一个事务. 也就是说,当我们当前的mysql如果默认的是自动提交模式,则执行rollback进行事务回滚则是无效的. 但是可以通过begin和start transaction手动开启事务.</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">即:</span><br><span class="line">  当前默认为自动提交模式,此时执行<span class="keyword">rollback</span>无效.执行下面<span class="keyword">sql</span>语句:</span><br><span class="line">  <span class="keyword">start</span> <span class="keyword">transaction</span>;(或者<span class="keyword">begin</span>;)</span><br><span class="line">  <span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line">  <span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br><span class="line">  执行完插入a,b用户数据后,再执行<span class="keyword">rollback</span>,发现可以成功回滚事务.可以成功切换成手动开启事务的模式.若想使得插入的数据生效,也需要手动执行<span class="keyword">commit</span>进行提交操作.</span><br><span class="line">  事务开启之后,一旦<span class="keyword">commit</span>提交,就不可以回滚,也就说,当前的这个事务在提交的时候就已经结束了.</span><br></pre></td></tr></table></figure>
<ul>
<li>事务的四大特征<br>A 原子性: 事务是最小的单元, 不可以在分割.<br>C 一致性: 事务要求, 同一事务中的sql语句必须保证同时成功,同时失败.<br>I 隔离性: 事务1 和事务2之间shi具有隔离性的.<br>D 持久性: 事务一旦结束(commit,rollback),就不可以返回.</li>
<li>事务的隔离性<br>多个事务之间隔离的，相互独立的。但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这些问题.<br>存在问题：<br>(1) 脏读：一个事务，读取到另一个事务中没有提交的数据.<br>(2)不可重复读(虚读)：在同一个事务中，两次读取到的数据不一样.<br>(3)幻读：一个事务操作(DML)数据表中所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改.<br>read uncommitted; 读未提交的–&gt;产生的问题：脏读、不可重复读、幻读.<br>read committed; 读已经提交的–&gt;产生的问题：不可重复读、幻读repeatable read; 可以重复读–&gt;产生的问题：幻读<br>serializable; 串行化&lt;性能特差&gt;<br>通常是隔离级别越高,性能越差.<br>(1)查看数据库的隔离级别<br>mysql默认的隔离级别: REPEATABLE-READ</li>
<li><em>mysql8.0*</em>:<br>系统级别的:<br>select @@global.transaction_isolation;<br>会话级别的:<br>select @@transaction_isolation;</li>
<li><em>mysql5.x*</em>:<br>系统级别的:<br>select @@global.tx_isolation;<br>会话级别的:<br>select @@tx_isolation;<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt; select @@global.transaction_isolation;</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| @@global.transaction_isolation |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| REPEATABLE-READ                |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
(2)修改隔离级别<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> tansaction <span class="keyword">isolation</span> <span class="keyword">level</span> <span class="keyword">read</span> uncomitted;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数据库的三大范式"><a href="#数据库的三大范式" class="headerlink" title="数据库的三大范式"></a>数据库的三大范式</h3><ul>
<li>第一范式</li>
<li>数据表中的所有字段都是不可分割的原子项.初步可以理解为:字段值还可以继续拆分的,就不满足第一范式.<br>比如某表中有一个address的字段,插入值为”中国陕西省西安市碑林区柏树林11号”.该字段值是可以继续拆分的,原则上就不满足第一范式.可以依次拆分为:国家/省/市/区/街道等等.<br>当然,范式设计的越详细,对某些实际操作可能会更好.但不一定都是好处.&lt;比如对address字段来说,可能拆分开来永远都用不到这么详细的信息,可能就没有拆分的必要.&gt;</li>
<li>第二范式<br>必须是满足第一范式的前提下,第二范式要求,除主键外的每一列都必须完全依赖主键.如果要出现不完全依赖,只可能发生在联合主键的情况下.<br>例如:<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> myorder(</span><br><span class="line">		product_id <span class="built_in">int</span>,</span><br><span class="line">		customer_id <span class="built_in">int</span>,</span><br><span class="line">		product_name <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">		customer_name <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">		primary <span class="keyword">key</span>(product_id, customer_id)</span><br><span class="line">	);</span><br><span class="line">	<span class="comment">#当前表中, 除主键以外的其他列, 只依赖于主键的部分字段.则不满足第二范式,通常需要拆表.</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> myorder(</span><br><span class="line">		order_id <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">		product_id <span class="built_in">int</span>,</span><br><span class="line">		customer_id <span class="built_in">int</span></span><br><span class="line">	);</span><br><span class="line"><span class="keyword">create</span>  <span class="keyword">table</span> product (</span><br><span class="line">		<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">		<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">	);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> customer(</span><br><span class="line">		<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>,</span><br><span class="line">		<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">		);</span><br><span class="line"><span class="comment">#拆分成三个表后,满足第二范式.</span></span><br></pre></td></tr></table></figure></li>
<li>第三范式<br>必须先满足第二范式.除开主键列的其他列之间不能有传递依赖关系.</li>
</ul>
<h3 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h3><p>查询语句所涉及的sql语句</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">	sno <span class="built_in">varchar</span>(<span class="number">20</span>) primary <span class="keyword">key</span>,</span><br><span class="line">	sname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	ssex <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	sbrithday datetime,</span><br><span class="line">	<span class="keyword">class</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">	sno <span class="built_in">varchar</span>(<span class="number">20</span>) primary <span class="keyword">key</span>,</span><br><span class="line">	sname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	ssex <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	sbirthday datetime,</span><br><span class="line">	<span class="keyword">class</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher(</span><br><span class="line">	tno <span class="built_in">varchar</span>(<span class="number">20</span>) primary <span class="keyword">key</span>,</span><br><span class="line">	tname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	tsex <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	tbirthday datetime,</span><br><span class="line">	prof <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	depart <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(</span><br><span class="line">	cno <span class="built_in">varchar</span>(<span class="number">20</span>) primary <span class="keyword">key</span>,</span><br><span class="line">	cname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	tno <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	<span class="keyword">foreign</span> <span class="keyword">key</span>(tno) <span class="keyword">references</span> teacher(tno)</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> score(</span><br><span class="line">	sno <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">	degree <span class="built_in">decimal</span>,</span><br><span class="line">	primary <span class="keyword">key</span> (sno, cno),</span><br><span class="line">	<span class="keyword">foreign</span> <span class="keyword">key</span> (sno) <span class="keyword">references</span> student(sno),</span><br><span class="line">	<span class="keyword">foreign</span> <span class="keyword">key</span> (cno) <span class="keyword">references</span> course(cno)</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'101'</span>,<span class="string">'曾华'</span>,<span class="string">'男'</span>,<span class="string">'1977-09-01'</span>,<span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'102'</span>,<span class="string">'匡明'</span>,<span class="string">'男'</span>,<span class="string">'1975-10-02'</span>,<span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'103'</span>,<span class="string">'王丽'</span>,<span class="string">'女'</span>,<span class="string">'1976-01-23'</span>,<span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'104'</span>,<span class="string">'李军'</span>,<span class="string">'男'</span>,<span class="string">'1976-02-20'</span>,<span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'105'</span>,<span class="string">'王芳'</span>,<span class="string">'女'</span>,<span class="string">'1975-02-10'</span>,<span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'106'</span>,<span class="string">'陆君'</span>,<span class="string">'男'</span>,<span class="string">'1974-06-03'</span>,<span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'107'</span>,<span class="string">'王尼玛'</span>,<span class="string">'男'</span>,<span class="string">'1976-02-20'</span>,<span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'108'</span>,<span class="string">'张全蛋'</span>,<span class="string">'男'</span>,<span class="string">'1975-02-10'</span>,<span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="string">'109'</span>,<span class="string">'赵铁柱'</span>,<span class="string">'男'</span>,<span class="string">'1974-06-03'</span>,<span class="string">'95031'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span> (<span class="string">'804'</span>,<span class="string">'李成'</span>,<span class="string">'男'</span>,<span class="string">'1958-12-02'</span>,<span class="string">'副教授'</span>,<span class="string">'计算机系'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span> (<span class="string">'856'</span>,<span class="string">'张旭'</span>,<span class="string">'男'</span>,<span class="string">'1969-03-12'</span>,<span class="string">'讲师'</span>,<span class="string">'电子工程系'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span> (<span class="string">'825'</span>,<span class="string">'王萍'</span>,<span class="string">'女'</span>,<span class="string">'1972-05-05'</span>,<span class="string">'助教'</span>,<span class="string">'计算机系'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher <span class="keyword">values</span> (<span class="string">'831'</span>,<span class="string">'刘冰'</span>,<span class="string">'女'</span>,<span class="string">'1977-08-14'</span>,<span class="string">'助教'</span>,<span class="string">'电子工程系'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span> (<span class="string">'3-105'</span>,<span class="string">'计算机导论'</span>, <span class="string">'825'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span> (<span class="string">'3-245'</span>,<span class="string">'操作系统'</span>, <span class="string">'804'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span> (<span class="string">'6-166'</span>,<span class="string">'数字电路'</span>, <span class="string">'856'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span> (<span class="string">'9-888'</span>,<span class="string">'高等数学'</span>, <span class="string">'831'</span>);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'103'</span>,<span class="string">'3-245'</span>,<span class="string">'86'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'105'</span>,<span class="string">'3-245'</span>,<span class="string">'75'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'109'</span>,<span class="string">'3-245'</span>,<span class="string">'68'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'103'</span>,<span class="string">'3-105'</span>,<span class="string">'92'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'105'</span>,<span class="string">'3-105'</span>,<span class="string">'88'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'109'</span>,<span class="string">'3-105'</span>,<span class="string">'76'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'103'</span>,<span class="string">'3-105'</span>,<span class="string">'64'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'105'</span>,<span class="string">'6-166'</span>,<span class="string">'79'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score <span class="keyword">values</span>(<span class="string">'109'</span>,<span class="string">'6-166'</span>,<span class="string">'81'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> person(</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	cardId <span class="built_in">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> card (</span><br><span class="line">	<span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">	<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'饭卡'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'建行卡'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card <span class="keyword">values</span> (<span class="number">3</span>,<span class="string">'农行卡'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card <span class="keyword">values</span> (<span class="number">4</span>,<span class="string">'工商卡'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> card <span class="keyword">values</span> (<span class="number">5</span>,<span class="string">'邮政卡'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> person <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'张三'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> person <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'李四'</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> person <span class="keyword">values</span> (<span class="number">3</span>,<span class="string">'王五'</span>,<span class="number">6</span>);</span><br></pre></td></tr></table></figure>
<p>————————————————<br>版权声明：本文为CSDN博主「智障二百五」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/weixin_45108087/article/details/102766281" target="_blank" rel="noopener">https://blog.csdn.net/weixin_45108087/article/details/102766281</a></p>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第十天</title>
    <url>/2020/05/11/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B010/</url>
    <content><![CDATA[<h3 id="1-HDFS主从架构"><a href="#1-HDFS主从架构" class="headerlink" title="1.HDFS主从架构"></a>1.HDFS主从架构</h3><p>80%以上的大数据是主从结构-主管理从干活<br><img src="https://i.loli.net/2020/06/11/eZF2Uk9OIQgfPER.png" alt="HDFS主从架构官网图"><br>角色:</p>
<h4 id="namenode-名称节点-nn"><a href="#namenode-名称节点-nn" class="headerlink" title="namenode  名称节点 nn"></a>namenode  名称节点 nn</h4><p>a.文件名称<br>b.文件的目录结构<br>c.文件的属性 权限 创建时间 副本数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ hdfs dfs -ls /wordcount2/input</span><br><span class="line">20/05/12 08:56:23 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Found 2 items</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         29 2020-05-11 16:14 /wordcount2/input/1.log</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         47 2020-05-11 16:14 /wordcount2/input/2.log</span><br><span class="line">[hadoop@hadoop001 hadoop]$</span><br></pre></td></tr></table></figure>
<p>d.一个文件被对应切割哪些数据块、副本数的块、数据块对应分布在哪些节点上<br>blockmap 块映射，nn节点不会持久化存储这种映射关系<br>是通过集群的启动和运行时，dn定期发送blockreport给nn，然后nn就在内存中动态维护这种映射关系</p>
<p>作用:<br>管理文件系统的命名空间  其实就是维护文件系统树的文件和文件夹<br>这些形式是以两种文件来永久的保存在本地磁盘的<br>镜像文件 fsimage<br>编辑日志文件 editlogs</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 current]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/tmp/dfs/name/current</span><br><span class="line">[hadoop@hadoop001 current]$ ll</span><br><span class="line">total 198880</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop 191753254 May 11 16:08 edits_0000000000000000003-0000000000001047334</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop  10755011 May 11 17:09 edits_0000000000001047335-0000000000001114386</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop       158 May 11 18:09 edits_0000000000001114387-0000000000001114390</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 19:09 edits_0000000000001114391-0000000000001114392</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 20:09 edits_0000000000001114393-0000000000001114394</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 21:09 edits_0000000000001114395-0000000000001114396</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 22:09 edits_0000000000001114397-0000000000001114398</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 23:09 edits_0000000000001114399-0000000000001114400</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 00:09 edits_0000000000001114401-0000000000001114402</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 01:09 edits_0000000000001114403-0000000000001114404</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 02:09 edits_0000000000001114405-0000000000001114406</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 03:09 edits_0000000000001114407-0000000000001114408</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 04:09 edits_0000000000001114409-0000000000001114410</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 05:09 edits_0000000000001114411-0000000000001114412</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 06:09 edits_0000000000001114413-0000000000001114414</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 07:09 edits_0000000000001114415-0000000000001114416</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 08:09 edits_0000000000001114417-0000000000001114418</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 09:09 edits_0000000000001114419-0000000000001114420</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop   1048576 May 12 09:09 edits_inprogress_0000000000001114421</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2299 May 12 08:09 fsimage_0000000000001114418</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 12 08:09 fsimage_0000000000001114418.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2299 May 12 09:09 fsimage_0000000000001114420</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 12 09:09 fsimage_0000000000001114420.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop         8 May 12 09:09 seen_txid</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop       205 May 11 15:32 VERSION</span><br></pre></td></tr></table></figure>

<h4 id="secondary-namenode-第二名称节点-snn"><a href="#secondary-namenode-第二名称节点-snn" class="headerlink" title="secondary namenode  第二名称节点  snn"></a>secondary namenode  第二名称节点  snn</h4><p>a.将fsimage editlog定期拿过来合并 备份 推送</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 current]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/tmp/dfs/namesecondary/current</span><br><span class="line">[hadoop@hadoop001 current]$ ll</span><br><span class="line">total 197848</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop 191753254 May 11 16:08 edits_0000000000000000003-0000000000001047334</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop  10755011 May 11 17:09 edits_0000000000001047335-0000000000001114386</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop       158 May 11 18:09 edits_0000000000001114387-0000000000001114390</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 19:09 edits_0000000000001114391-0000000000001114392</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 20:09 edits_0000000000001114393-0000000000001114394</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 21:09 edits_0000000000001114395-0000000000001114396</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 22:09 edits_0000000000001114397-0000000000001114398</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 11 23:09 edits_0000000000001114399-0000000000001114400</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 00:09 edits_0000000000001114401-0000000000001114402</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 01:09 edits_0000000000001114403-0000000000001114404</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 02:09 edits_0000000000001114405-0000000000001114406</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 03:09 edits_0000000000001114407-0000000000001114408</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 04:09 edits_0000000000001114409-0000000000001114410</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 05:09 edits_0000000000001114411-0000000000001114412</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 06:09 edits_0000000000001114413-0000000000001114414</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 07:09 edits_0000000000001114415-0000000000001114416</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 08:09 edits_0000000000001114417-0000000000001114418</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        42 May 12 09:09 edits_0000000000001114419-0000000000001114420</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2299 May 12 08:09 fsimage_0000000000001114418</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 12 08:09 fsimage_0000000000001114418.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop      2299 May 12 09:09 fsimage_0000000000001114420</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop        62 May 12 09:09 fsimage_0000000000001114420.md5</span><br><span class="line">-rw-rw-r--. 1 hadoop hadoop       205 May 12 09:09 VERSION</span><br></pre></td></tr></table></figure>
<p>snn将老大的  edits_0000000000001114419-0000000000001114420进行合并操作（检查点操作，checkpoint），合并为fsimage_0000000000001114420<br> 将这个文件推送给老大，那么新的数据写读的记录就存放在edits_inprogress_0000000000001114421日志文件<br>文件是变化的内容不断追加</p>
<p>dfs.namenode.checkpoint.period  3600s 按时间备份<br>dfs.namenode.checkpoint.txns    1000000 如果数据读写量大，超过限制，会立即备份</p>
<p>为了解决单点故障，nn只有一个对外的，后来新增一个snn，1小时的备份<br>虽然能够减轻单点故障带来的丢失风险，但是在生产上还是不允许使用snn<br>例如<br>11:00  snn 备份<br>11:30  数据一直写到这  突然nn节点 磁盘故障 无法恢复<br>拿snn的最新的一个fsimage文件恢复，那么只能恢复 11点的数据</p>
<p><strong>在生产上是 不用snn，是启动另外一个NN进程(实时备份，实时准备替换nn，变为活动的nn)叫做HDFS HA</strong></p>
<h4 id="datanode-数据节点-dn"><a href="#datanode-数据节点-dn" class="headerlink" title="datanode  数据节点  dn"></a>datanode  数据节点  dn</h4><p>a.存储数据块和数据块的校验和</p>
<p>作用:<br>a.每隔3s发送心跳给nn,告诉nn说明dn还活着<br>dfs.heartbeat.interval  3s</p>
<p>b.每隔一定的时间发生一次blockreport<br>dfs.blockreport.intervalMsec   21600000ms=6小时<br>dfs.datanode.directoryscan.interval  21600s=6小时</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 subdir99]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/tmp/dfs/data/current/BP-512886540-192.168.111.131-1589182330952/current/finalized/subdir0/subdir99</span><br></pre></td></tr></table></figure>
<p>补充:<br><a href="https://ruozedata.github.io/2019/06/06/%E7%94%9F%E4%BA%A7HDFS%20Block%E6%8D%9F%E5%9D%8F%E6%81%A2%E5%A4%8D%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5(%E5%90%AB%E6%80%9D%E8%80%83%E9%A2%98)/" target="_blank" rel="noopener">HDFS Block损坏恢复方法</a><br>如果生产上检测到块损坏,集群会自己修复<br>手动修复不一定成功，看人品<br>手动回复需要集群上有3个副本</p>
<p><strong>注意：hdfs不要以为时间的参数单位是一样的，需要查看命令帮助确认</strong></p>
<h3 id="2-HDFS写流程"><a href="#2-HDFS写流程" class="headerlink" title="2.HDFS写流程"></a>2.HDFS写流程</h3><p><a href="https://wangqi1994.github.io/2020/05/11/HDFS写流程/" target="_blank" rel="noopener">HDFS写流程</a></p>
<h3 id="3-HDFS读流程"><a href="#3-HDFS读流程" class="headerlink" title="3.HDFS读流程"></a>3.HDFS读流程</h3><p><a href="https://wangqi1994.github.io/2020/05/11/HDFS读流程/" target="_blank" rel="noopener">HDFS读流程</a></p>
<h3 id="4-HDFS副本放置策略"><a href="#4-HDFS副本放置策略" class="headerlink" title="4.HDFS副本放置策略"></a>4.HDFS副本放置策略</h3><p><a href="https://wangqi1994.github.io/2020/05/11/HDFS副本放置策略/" target="_blank" rel="noopener">HDFS副本放置策略</a></p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第十一天</title>
    <url>/2020/05/13/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B011/</url>
    <content><![CDATA[<h3 id="1-SNN的流程"><a href="#1-SNN的流程" class="headerlink" title="1.SNN的流程"></a>1.SNN的流程</h3><p><a href="https://wangqi1994.github.io/2020/05/13/SNN流程/" target="_blank" rel="noopener">SNN流程</a></p>
<h3 id="2-HDFS命令"><a href="#2-HDFS命令" class="headerlink" title="2.HDFS命令"></a>2.HDFS命令</h3><p>大数据中配置文件一般为<br>/etc<br>/conf<br>/config</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ ll</span><br><span class="line">total 164</span><br><span class="line">drwxr-xr-x.  2 hadoop hadoop  4096 Jun  3  2019 bin    <span class="comment">#可执行脚本  命令</span></span><br><span class="line">drwxr-xr-x.  2 hadoop hadoop  4096 Jun  3  2019 bin-mapreduce1</span><br><span class="line">drwxr-xr-x.  3 hadoop hadoop  4096 Jun  3  2019 cloudera</span><br><span class="line">drwxr-xr-x.  6 hadoop hadoop  4096 Jun  3  2019 etc     <span class="comment">#配置文件夹 conf/config</span></span><br><span class="line">drwxr-xr-x.  5 hadoop hadoop  4096 Jun  3  2019 examples  <span class="comment">#例子</span></span><br><span class="line">drwxr-xr-x.  3 hadoop hadoop  4096 Jun  3  2019 examples-mapreduce1</span><br><span class="line">drwxr-xr-x.  2 hadoop hadoop  4096 Jun  3  2019 include</span><br><span class="line">drwxr-xr-x.  3 hadoop hadoop  4096 Jun  3  2019 lib  <span class="comment">#lib目录 jar包</span></span><br><span class="line">drwxr-xr-x.  3 hadoop hadoop  4096 Jun  3  2019 libexec</span><br><span class="line">-rw-r--r--.  1 hadoop hadoop 85063 Jun  3  2019 LICENSE.txt</span><br><span class="line">drwxrwxr-x.  3 hadoop hadoop  4096 May 11 15:33 logs  <span class="comment">#日志文件</span></span><br><span class="line">-rw-r--r--.  1 hadoop hadoop 14978 Jun  3  2019 NOTICE.txt</span><br><span class="line">drwxrwxr-x.  2 hadoop hadoop  4096 May 11 16:53 output </span><br><span class="line">-rw-r--r--.  1 hadoop hadoop    43 May 11 17:00 part-r-00000</span><br><span class="line">-rw-r--r--.  1 hadoop hadoop  1366 Jun  3  2019 README.txt</span><br><span class="line">drwxr-xr-x.  3 hadoop hadoop  4096 Jun  3  2019 sbin    <span class="comment">#启动 停止 重启脚本</span></span><br><span class="line">drwxr-xr-x.  4 hadoop hadoop  4096 Jun  3  2019 share  <span class="comment">#共享的</span></span><br><span class="line">drwxr-xr-x. 18 hadoop hadoop  4096 Jun  3  2019 src   <span class="comment">#源代码</span></span><br><span class="line">-rw-r--r--.  1 hadoop hadoop     0 May 11 17:00 _SUCCESS</span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">cd</span> bin</span><br><span class="line">[hadoop@hadoop001 bin]$ ll</span><br><span class="line">total 92</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop  5701 Jun  3  2019 hadoop</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop  8443 Jun  3  2019 hadoop.cmd</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop 12356 Jun  3  2019 hdfs</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop  6915 Jun  3  2019 hdfs.cmd</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop  5463 Jun  3  2019 mapred</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop  5949 Jun  3  2019 mapred.cmd</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop  1776 Jun  3  2019 rcc</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop 12476 Jun  3  2019 yarn</span><br><span class="line">-rwxr-xr-x. 1 hadoop hadoop 10895 Jun  3  2019 yarn.cmd</span><br><span class="line">[hadoop@hadoop001 bin]$ </span><br><span class="line"><span class="comment"># cmd是windows的脚本</span></span><br></pre></td></tr></table></figure>
<p>生产上主要看三个目录<br>lib<br>bin<br>etc<br>生产上用的最多的命令是a,c,d,e</p>
<h4 id="a-查看ls"><a href="#a-查看ls" class="headerlink" title="a.查看ls"></a>a.查看ls</h4><p>从shell文件查看可知 hadoop fs -ls=  hdfs dfs -ls</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hadoop fs -ls /</span><br><span class="line"> if [ "$COMMAND" = "fs" ] ; then</span><br><span class="line">      CLASS=org.apache.hadoop.fs.FsShell</span><br><span class="line"></span><br><span class="line">hdfs dfs -ls /</span><br><span class="line"> elif [ "$COMMAND" = "dfs" ] ; then</span><br><span class="line">      CLASS=org.apache.hadoop.fs.FsShell</span><br></pre></td></tr></table></figure>
<h4 id="b-上传下载"><a href="#b-上传下载" class="headerlink" title="b.上传下载:"></a>b.上传下载:</h4><p>-get上传 -put 下载<br>-copyToLocal 上传  -copyFromLocal 下载</p>
<h4 id="c-创建文件夹"><a href="#c-创建文件夹" class="headerlink" title="c.创建文件夹"></a>c.创建文件夹</h4><p>hdfs dfs -mkdir 目录名</p>
<h4 id="d-移动-拷贝"><a href="#d-移动-拷贝" class="headerlink" title="d.移动 拷贝"></a>d.移动 拷贝</h4><p>hdfs dfs -mv 原位置 目标位置<br>hdfs dfs -cp 源文件 目标文件位置、</p>
<p><strong>生产上保险起见用拷贝，不咋用移动</strong><br>拷贝之后校验，如果不出问题，则返回删除原来的文件</p>
<h4 id="e-删除"><a href="#e-删除" class="headerlink" title="e.删除"></a>e.删除</h4><p>-rm [-f] [-r|-R] [-skipTrash] <src> …]</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">回收站设置 core-site.xml</span></span><br><span class="line">  &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.trash.interval&lt;/name&gt; #设置回收站保留有效期</span><br><span class="line">        &lt;value&gt;10080&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br></pre></td></tr></table></figure>
<p>在core-site.xml文件设置回收站保留时间，生产上设置10080=7天<br><strong>设置完之后，重启hdfs</strong></p>
<p><strong>1.生产上一定开启回收站！+回收站的有效期至少7天！！</strong><br><strong>2.-skipTrash 是删除不经过回收站，慎用-skipTrash 不要加！！！</strong></p>
<p>使用CDH/HDP 要去检查是否开启 开启周期</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ hdfs dfs -rm /1.log</span><br><span class="line">20/05/13 11:46:49 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">20/05/13 11:46:51 INFO fs.TrashPolicyDefault: Moved: <span class="string">'hdfs://hadoop001:9000/1.log'</span> to trash at: </span><br><span class="line">hdfs://hadoop001:9000/user/hadoop/.Trash/Current/1.log   <span class="comment">#进入回收站</span></span><br><span class="line">[hadoop@hadoop001 ~]$ hdfs dfs -ls /user/hadoop/.Trash/Current</span><br><span class="line">20/05/13 11:50:18 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Found 1 items</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         10 2020-05-12 09:40 /user/hadoop/.Trash/Current/1.log</span><br><span class="line">[hadoop@hadoop001 ~]$  hdfs dfs -rm -skipTrash /1.log</span><br><span class="line">20/05/13 13:48:24 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Deleted /1.log  <span class="comment">#直接删除</span></span><br><span class="line">[hadoop@hadoop001 ~]$</span><br></pre></td></tr></table></figure>

<h4 id="f-权限"><a href="#f-权限" class="headerlink" title="f.权限"></a>f.权限</h4><p>-chmod<br>-chown </p>
<h4 id="g-checknative"><a href="#g-checknative" class="headerlink" title="g.checknative"></a>g.checknative</h4><p>hadoop checknative 列出来不支持的压缩方式<br>需要的话，只能自己编译，编译一般在国外环境下进行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 ~]$ hadoop checknative</span><br><span class="line">20/05/13 13:53:11 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Native library checking:</span><br><span class="line">hadoop:  <span class="literal">false</span> </span><br><span class="line">zlib:    <span class="literal">false</span> </span><br><span class="line">snappy:  <span class="literal">false</span> </span><br><span class="line">lz4:     <span class="literal">false</span> </span><br><span class="line">bzip2:   <span class="literal">false</span> </span><br><span class="line">openssl: <span class="literal">false</span> </span><br><span class="line">20/05/13 13:53:11 INFO util.ExitUtil: Exiting with status 1</span><br><span class="line">[hadoop@hadoop001 ~]$</span><br></pre></td></tr></table></figure>

<h4 id="h-safemode安全模式"><a href="#h-safemode安全模式" class="headerlink" title="h.safemode安全模式"></a>h.safemode安全模式</h4><p>利用dfsadmin 管理员的权限 进行设置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hdfs dfsadmin -report <span class="comment">#查看报告，可以设置进行监控+</span></span><br><span class="line"></span><br><span class="line">[-safemode &lt;enter | leave | get | <span class="built_in">wait</span>&gt;]</span><br><span class="line"><span class="comment">#安全模式-自我保护-不能写只能读</span></span><br><span class="line">hdfs dfsadmin -safemode enter <span class="comment">#进入</span></span><br><span class="line">hdfs dfsadmin -safemode leave <span class="comment">#离开</span></span><br></pre></td></tr></table></figure>

<p>错误： Name node is in safe mode.</p>
<p>什么时候会安全模式：<br>1.hdfs故障  nn 查看log日志<br>根据错误去看看尝试能不能解决，和尝试先手动让他离开安全模式<br>2.业务场景<br><img src="https://i.loli.net/2020/06/11/6iOS9HWYD1kzbU5.png" alt=""><br>离线抽取sqoop  datax kettle<br>实时抽取 flume canal/maxwell<br>进入安全模式之后要发邮件说明窗口期多长<br>生产上要最小化的窗口维护<br>注意：生产上不要频繁启动关闭hdfs，可能会出现起不来的情况</p>
<h3 id="3-数据平衡"><a href="#3-数据平衡" class="headerlink" title="3.数据平衡"></a>3.数据平衡</h3><h4 id="各个DN节点的数据平衡"><a href="#各个DN节点的数据平衡" class="headerlink" title="各个DN节点的数据平衡"></a>各个DN节点的数据平衡</h4><p>sbin/start-balancer.sh的sh文件如下，使用这个sh文件调用bin”/hdfs start balancer命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Start balancer daemon.</span></span><br><span class="line"></span><br><span class="line"><span class="string">"<span class="variable">$HADOOP_PREFIX</span>"</span>/sbin/hadoop-daemon.sh --config <span class="variable">$HADOOP_CONF_DIR</span> --script <span class="string">"<span class="variable">$bin</span>"</span>/hdfs start balancer <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line">[hadoop@hadoop001 hadoop]$ sbin/start-balancer.sh </span><br><span class="line">starting balancer, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/hadoop-hadoop-balancer-hadoop001.out</span><br><span class="line">Time Stamp               Iteration<span class="comment">#  Bytes Already Moved  Bytes Left To Move  Bytes Being Moved</span></span><br><span class="line">[hadoop@hadoop001 hadoop]$ sbin/start-balancer.sh -threshold 10.0   <span class="comment"># 默认是10  threshold = 10.0</span></span><br><span class="line">starting balancer, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/hadoop-hadoop-balancer-hadoop001.out</span><br><span class="line">Time Stamp               Iteration<span class="comment">#  Bytes Already Moved  Bytes Left To Move  Bytes Being Moved</span></span><br><span class="line">[hadoop@hadoop001 hadoop]$</span><br></pre></td></tr></table></figure>

<p>每个节点的磁盘使用率-平均的磁盘使用率&lt; 10%</p>
<p><strong>建议</strong>：<br>生产上 从现在开始，每天进行./start-balancer.sh -threshold 10.0 操作，并且要放到业务低谷比如凌晨，<br>每天定时的去做平衡操作，做平衡操作时，需要算一下能不能承载</p>
<p>如果传输量太大，可以调节平衡操作的网络带宽设置参数<br>在hdfs-site.xml文件中添加</p>
<pre><code>&lt;property&gt;
    &lt;name&gt;dfs.datanode.balance.bandwidthPerSec&lt;/name&gt;
    &lt;value&gt;50&lt;/value&gt;
&lt;/property&gt;</code></pre><p>dfs.datanode.balance.bandwidthPerSec<br>默认是10m/s<br>10m/s–&gt;50m/s</p>
<h4 id="单个DN的多块磁盘的数据均衡"><a href="#单个DN的多块磁盘的数据均衡" class="headerlink" title="单个DN的多块磁盘的数据均衡"></a>单个DN的多块磁盘的数据均衡</h4><p>a.在投产前规划  (这个DN机器上 10块磁盘  2T 不做raid==》20T  大数据不用raid)<br>配置多个磁盘<br>在hdfs-site.xml文件中添加</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">      &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">      &lt;value&gt;/data01,/data02,/data03&lt;/value&gt;<span class="comment">#配置多块磁盘，中间以逗号分割</span></span><br><span class="line">&lt;/property&gt;</span><br></pre></td></tr></table></figure>
<p> <strong>为什么要用多块物理磁盘 ？</strong><br> 多个磁盘的 IO是叠加的 </p>
<p><strong>建议</strong>：<br>规划时，和领导说明，磁盘不值钱，要规划两年的存储空间</p>
<p>服务器上面的硬盘不是越大越好</p>
<p>生产上2.5英寸 一万转 2T的性价比最高 </p>
<p> b.在投产后<br> 第一个月 1个磁盘 500G 已经使用480G<br> 第二个月 新增一个磁盘：<br> 如果第二个比第一个大的多的话就直接移动，然后做软连接回连<br> 如果一样大就做磁盘均衡数据操作</p>
<p><strong>如何多个磁盘 均衡数据？</strong></p>
<p>hadoop-2.6.0-cdh5.16.2  dfs.disk.balancer.enabled #cdh包大了很多补丁，版本相当于打补丁=高版本<br>apache hadoop 3.x  dfs.disk.balancer.enabled<br>apache hadoop 2.10 找不到 </p>
<p>生产上Apache环境 只有3.x版本才支持，但是大部分公司是2.x<br>所以这个特性用不了！！！</p>
<p>在hdfs-site.xml文件中添加</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">      &lt;name&gt;dfs.disk.balancer.enabled&lt;&#x2F;name&gt;</span><br><span class="line">      &lt;value&gt;true&lt;&#x2F;value&gt;</span><br><span class="line">&lt;&#x2F;property&gt;</span><br></pre></td></tr></table></figure>
<h5 id="a-生成计划"><a href="#a-生成计划" class="headerlink" title="a.生成计划"></a>a.生成计划</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ hdfs diskbalancer  -plan hadoop001</span><br><span class="line">20/05/13 16:23:03 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">20/05/13 16:23:06 INFO planner.GreedyPlanner: Starting plan <span class="keyword">for</span> Node : hadoop001:50020</span><br><span class="line">20/05/13 16:23:06 INFO planner.GreedyPlanner: Compute Plan <span class="keyword">for</span> Node : hadoop001:50020 took 7 ms </span><br><span class="line">20/05/13 16:23:08 INFO command.Command: No plan generated. DiskBalancing not needed <span class="keyword">for</span> node: hadoop001 threshold used: 10.0</span><br><span class="line">[hadoop@hadoop001 hadoop]$ </span><br><span class="line"><span class="comment">#生成 hadoop001.plan.json 文件</span></span><br></pre></td></tr></table></figure>
<h5 id="b-执行计划"><a href="#b-执行计划" class="headerlink" title="b.执行计划"></a>b.执行计划</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ hdfs diskbalancer -execute hadoop001.plan.json</span><br><span class="line">20/05/13 16:26:14 INFO command.Command: Executing <span class="string">"execute plan"</span> <span class="built_in">command</span></span><br><span class="line">20/05/13 16:26:14 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">20/05/13 16:26:15 ERROR tools.DiskBalancerCLI: java.io.FileNotFoundException: File does not exist: /user/hadoop/hadoop001.plan.json</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.INodeFile.valueOf(INodeFile.java:66)</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.INodeFile.valueOf(INodeFile.java:56)</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocationsInt(FSNamesystem.java:2157)</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:2127)</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:2040)</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:583)</span><br><span class="line">	at org.apache.hadoop.hdfs.server.namenode.AuthorizationProviderProxyClientProtocol.getBlockLocations(AuthorizationProviderProxyClientProtocol.java:94)</span><br><span class="line">	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:377)</span><br><span class="line">	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos<span class="variable">$ClientNamenodeProtocol</span><span class="variable">$2</span>.callBlockingMethod(ClientNamenodeProtocolProtos.java)</span><br><span class="line">	at org.apache.hadoop.ipc.ProtobufRpcEngine<span class="variable">$Server</span><span class="variable">$ProtoBufRpcInvoker</span>.call(ProtobufRpcEngine.java:617)</span><br><span class="line">	at org.apache.hadoop.ipc.RPC<span class="variable">$Server</span>.call(RPC.java:1073)</span><br><span class="line">	at org.apache.hadoop.ipc.Server<span class="variable">$Handler</span><span class="variable">$1</span>.run(Server.java:2278)</span><br><span class="line">	at org.apache.hadoop.ipc.Server<span class="variable">$Handler</span><span class="variable">$1</span>.run(Server.java:2274)</span><br><span class="line">	at java.security.AccessController.doPrivileged(Native Method)</span><br><span class="line">	at javax.security.auth.Subject.doAs(Subject.java:422)</span><br><span class="line">	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1924)</span><br><span class="line">	at org.apache.hadoop.ipc.Server<span class="variable">$Handler</span>.run(Server.java:2272)</span><br><span class="line"></span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="comment">#没有json计划文件</span></span><br></pre></td></tr></table></figure>
<h5 id="c-查看状态"><a href="#c-查看状态" class="headerlink" title="c.查看状态"></a>c.查看状态</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ hdfs diskbalancer  -query hadoop001 </span><br><span class="line">20/05/13 16:24:26 INFO command.Command: Executing <span class="string">"query plan"</span> <span class="built_in">command</span>.</span><br><span class="line">20/05/13 16:24:26 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Plan File: </span><br><span class="line">Plan ID: </span><br><span class="line">Result: NO_PLAN</span><br></pre></td></tr></table></figure>

<p>生产上发现磁盘不均衡时，不需要每天做磁盘均衡，半个月一次即可</p>
<p><a href="http://archive.cloudera.com/cdh5/cdh/5/hadoop-2.6.0-cdh5.16.2/" target="_blank" rel="noopener">官方参考文档</a></p>
<p>基础扩展：</p>
<p>合并小文件可以使用<br>spark coalesce<br>hdfs</p>
<p>hbase没有小文件，会自动合并</p>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第十二天</title>
    <url>/2020/05/17/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B012/</url>
    <content><![CDATA[<h3 id="1-MapReduce"><a href="#1-MapReduce" class="headerlink" title="1.MapReduce"></a>1.MapReduce</h3><p>分布式计算框架 ，<br>生产开发复杂累赘 基本不用<br>一般都用Hivesql Spark Flink</p>
<p>map 映射<br>    将一组数据按照规则 映射为一组<br>    数据条数不会发生变化</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">id name</span><br><span class="line">1   a</span><br><span class="line">2   b</span><br><span class="line">3   c</span><br><span class="line">4   a</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>+<span class="string">'1'</span> <span class="keyword">from</span> t;</span><br><span class="line">1  a1</span><br><span class="line">2  b1</span><br><span class="line">3  c1</span><br><span class="line">4  a1</span><br></pre></td></tr></table></figure>

<p>reduce  归约 汇总,相同项进行归纳<br>    数据条数会发生变化    </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line"><span class="keyword">name</span>,<span class="keyword">count</span>(<span class="keyword">name</span>) </span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>+<span class="string">'1'</span> <span class="keyword">as</span> <span class="keyword">name</span> <span class="keyword">from</span> <span class="keyword">table</span>)  t</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">name</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a1 2</span><br><span class="line">b1 1</span><br><span class="line">c1 1</span><br></pre></td></tr></table></figure>

<p>shuffle  洗牌<br>数据根据key进行网络传输??? 规整到一起，按规则计算</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a机器 1  a 一百万条   #key就是名称，计算是根据名称计算的  a</span><br><span class="line">      2  b 10万条</span><br><span class="line"></span><br><span class="line">b机器 1  a  1万条</span><br><span class="line">      3  c  10万条</span><br></pre></td></tr></table></figure>
<p>过程详解：<br><a href="https://blog.csdn.net/zpf336/article/details/80931629" target="_blank" rel="noopener">大神分析</a><br><strong>业界有句话，能不shuffle的就不要shuffle，shuffle会拉长计算的时间</strong></p>
<p>作业 job 应用 任务 工作流 基本就认为是一个东西<br>生产上：<br>存储 HDFS hive/hbase cassandra kudu #前三个用的多<br>计算 mapreduce –》hive sql/spark/flink<br>资源和作业调度  yarn </p>
<h3 id="2-MapReduce2-x-架构设计"><a href="#2-MapReduce2-x-架构设计" class="headerlink" title="2.MapReduce2.x 架构设计"></a>2.MapReduce2.x 架构设计</h3><p><a href="https://wangqi1994.github.io/2020/05/17/MapReduce2.x的架构设计/" target="_blank" rel="noopener">MapReduce2.x的架构设计</a></p>
<h3 id="3-wordcount"><a href="#3-wordcount" class="headerlink" title="3.wordcount"></a>3.wordcount</h3><p><img src="https://i.loli.net/2020/06/11/DO3dHCX7EhzPv6u.png" alt=""><br><img src="https://i.loli.net/2020/06/11/rzbpKwkgxDFNJV5.png" alt=""></p>
<p>首先将文件进行splitting分块操作（split个数==map task个数），生成三个块<br>然后根据一定的规则进行mapping映射操作（将每一行的数据 进行按空格 拆分）<br>然后进行shuffling洗牌操作，这部分用户无感知<br>然会进行reducing操作，进行归纳汇总<br>最后输出结果</p>
<p>大神分析<br><a href="http://blog.itpub.net/30089851/viewspace-2095837/" target="_blank" rel="noopener">MapReduce工作原理图文详解</a></p>
<p>#好好理解<br>在进行map计算之前，<br>mapreduce会根据输入文件计算输入分片（input split），<br>每个输入分片（input split）针对一个map任务，<br>输入分片（input split）存储的并非数据本身，<br>而是一个分片长度和一个记录数据的位置的数组，<br>输入分片（input split）往往和hdfs的block（块）关系很密切，<strong>一般</strong>是一对一关系</p>
<p>假如我们设定hdfs的块的大小是64mb，<br>如果我们输入有三个文件，大小分别是3mb、65mb和127mb，<br>那么mapreduce会把3mb文件分为一个输入分片（input split），<br>65mb则是两个输入分片（input split）而127mb也是两个输入分片<br>（input split），</p>
<p>5个分片  5个maptask</p>
<p><strong>分片跟块大小有关 还和文件个数有关</strong></p>
<p>换句话说我们需要在map计算前做输入分片调整，<br>例如不合并小文件，那么就会有5个map任务将执行，<br>而且每个map执行的数据大小不均，<br>这个也是mapreduce优化计算的一个关键点。</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第十三天</title>
    <url>/2020/05/18/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B013/</url>
    <content><![CDATA[<h3 id="1-Container"><a href="#1-Container" class="headerlink" title="1.Container"></a>1.Container</h3><p>关于Yarn的调优 就是调container<br>首先明确一个container容器的概念，这是一个虚拟的概念，其实是一组memory+cpu vcore资源的组合,<br>是用来运行task任务的</p>
<p><a href="https://wangqi1994.github.io/2020/05/18/yarn调优-container/" target="_blank" rel="noopener"></a></p>
<h3 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h3><p>bin/hadoop jar <br>share/hadoop/mapreduce/hadoop-mapreduce-examples-2.6.0-cdh5.16.2.jar <br>grep /wordcount/input /wordcount/output2 ‘dfs[a-z.]+’</p>
<p>日志通过web界面查看<br><img src="https://i.loli.net/2020/06/11/EPDhqN1S3yI5K2c.png" alt=""><br>点击对应任务，查看logs<br><img src="https://i.loli.net/2020/06/11/4XRGaZBDYvINlUj.png" alt=""><br>一般看stderr<br><img src="https://i.loli.net/2020/06/11/PgTKVSdNv8syxG7.png" alt=""><br><img src="https://i.loli.net/2020/06/11/hbG4eZgNmtvi5Pa.png" alt=""></p>
<p>生产上应该快速解决问题，着重于快速让生产恢复<br>而不是揪着不放，研究透彻</p>
<h3 id="3-调度器"><a href="#3-调度器" class="headerlink" title="3.调度器"></a>3.调度器</h3><p>FIFO Scheduler  先进先出<br>Capacity Scheduler 计算<br>FairScheduler   公平   生产一般用这个</p>
<p><a href="https://wangqi1994.github.io/2020/05/18/调度器/" target="_blank" rel="noopener">三种调度器</a></p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第二天</title>
    <url>/2020/04/23/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B02/</url>
    <content><![CDATA[<h3 id="大数据之Linux生产常用命令一-二"><a href="#大数据之Linux生产常用命令一-二" class="headerlink" title="大数据之Linux生产常用命令一+二"></a>大数据之Linux生产常用命令一+二</h3><h4 id="1-清楚屏幕-clear"><a href="#1-清楚屏幕-clear" class="headerlink" title="1.清楚屏幕 clear"></a>1.清楚屏幕 clear</h4><h4 id="2-mv移动-cp复制"><a href="#2-mv移动-cp复制" class="headerlink" title="2.mv移动  cp复制"></a>2.mv移动  cp复制</h4><p>mv是文件始终一份  速度快<br>cp是存在两份文件  速度慢<br>不标准写法:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv dir1  ruozedata</span><br><span class="line">cp -r dir2 ruozedata</span><br></pre></td></tr></table></figure>
<p>标准写法:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv dir1  ruozedata/dir1</span><br><span class="line">cp -r dir2 ruozedata/dir2</span><br></pre></td></tr></table></figure>
<p>也支持修改名称</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv  dir2 dir22</span><br><span class="line">cp -r dir3 dir33 <span class="comment">#可以支持复制的同时修改文件名称</span></span><br></pre></td></tr></table></figure>
<h4 id="3-创建文件"><a href="#3-创建文件" class="headerlink" title="3.创建文件"></a>3.创建文件</h4><p>a.touch 1.log  创建空文件<br>b.vi    2.log  创建文件并用vim编辑器打开编辑<br>vim操作简介：<br>&emsp;&emsp;&emsp;默认命令行<br>&emsp;&emsp;&emsp;i键 编辑模式，进行编辑<br>&emsp;&emsp;&emsp;esc键 从编辑模式–》命令行模式<br>&emsp;&emsp;&emsp;shift+:键 从命令行模式–》尾行模式，输入wq 保存退出<br>c.主要场景是为了  覆盖内容 或者 追加内容<br>echo “ruozedata” &gt; 3.log<br>打印一句话进入3.log文件<br>“&gt;” 创建或覆盖    【高危命令1】<br>‘&gt;&gt;’ 追加</p>
<h4 id="4-查看文件内容-log-config-data"><a href="#4-查看文件内容-log-config-data" class="headerlink" title="4.查看文件内容 log config data"></a>4.查看文件内容 log config data</h4><p>cat  文件内容一下子全部显示  ctrl+z 中断<br>more 文件内容一页页往下翻，按空格往下  Ctrl+B 回退 q退出<br>less 文件内容 按上下键   q退出</p>
<p>cat   适用于文件内容少的情况<br>more  适用于文件内容稍微多点的情况</p>
<p>tail 实时查看文件最新内容<br>&emsp;&emsp;&emsp;tail -f xxx.log  基本不太用来自动提取实时监控，<br>&emsp;&emsp;&emsp;当文件不在之后就不会在尝试查看，即使文件重新创建<br>&emsp;&emsp;&emsp;tail -F yyy.log   =-f+ retry再次尝试采集信息</p>
<p>场景:<br>a.采集业务log日志内容   log4j（业务系统中很多是）<br>&emsp;&emsp;规则: 每份100m 保留10份<br>&emsp;&emsp;系统–》 erp.log 90m …100m<br>&emsp;&emsp;&emsp;mv erp.log  erp.log1<br>&emsp;&emsp;&emsp;touch erp.log</p>
<pre><code>ll命令查看，会存在11份数据
erp.log 
erp.log1
erp.log2
....
erp.log10</code></pre><p>b.大数据Flume组件 exec source:  tail -F erp.log 生产上面监控数据指令</p>
<p>想要查看文件内容倒数100行,同时实时监控<br>tail -100f   xxx.log<br>tail -100F   xxx.log  错误的 </p>
<p>文件内容超多时  需要定位ERROR 信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat xxx.log | grep ERROR        <span class="comment">#提取当前行</span></span><br><span class="line">cat xxx.log | grep -A 5 ERROR   <span class="comment">#提取关键字出现的后5行</span></span><br><span class="line">cat xxx.log | grep -B 5 ERROR   <span class="comment">#提取关键字出现的前5行</span></span><br><span class="line">cat xxx.log | grep -C 5 ERROR   <span class="comment">#提取关键字出现的前后各5行</span></span><br></pre></td></tr></table></figure>

<p>如果没有-A-B-C则只会打出错误行，最好前后打印15.20行的数据<br>| 管道符   前面命令的结果是接下来的输入数据<br>grep 过滤<br>比如 xxx.log ERROR 很多  上万个 可以导出到单独文件查看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat xxx.log | grep -C 5 ERROR &gt; 20200418error.log</span><br><span class="line">more 20200418error.log</span><br></pre></td></tr></table></figure>
<p>文件内容100m   :<br>&emsp;&emsp;&emsp;vi xxx.log<br>        &emsp;&emsp;&emsp;&emsp;shift+:<br>        &emsp;&emsp;&emsp;&emsp;/       代表搜索的语法，之后输入需要寻找的对象<br>        &emsp;&emsp;&emsp;&emsp;ERROR<br>        &emsp;&emsp;&emsp;&emsp;n寻找，下翻<br>&emsp;&emsp;&emsp;下载到window<br>&emsp;&emsp;&emsp;editplus（window）<br>&emsp;&emsp;&emsp;notepad++<br>&emsp;&emsp;&emsp;sublime（widnow  mac）工具 搜索  统计 校验  </p>
<h4 id="5-上传下载"><a href="#5-上传下载" class="headerlink" title="5. 上传下载"></a>5. 上传下载</h4><p>安装工具包 yum install -y lrzsz<br>sz xxx.log是下载 Linux–》window<br>rz 是上传   window–》Linux</p>
<h4 id="6-别名-alias"><a href="#6-别名-alias" class="headerlink" title="6.别名 alias"></a>6.别名 alias</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">log</span>]<span class="comment"># alias</span></span><br><span class="line"><span class="built_in">alias</span> cp=<span class="string">'cp -i'</span>  <span class="comment">#需要加引号才可以设置</span></span><br><span class="line"><span class="built_in">alias</span> egrep=<span class="string">'egrep --color=auto'</span></span><br><span class="line"><span class="built_in">alias</span> fgrep=<span class="string">'fgrep --color=auto'</span></span><br><span class="line"><span class="built_in">alias</span> grep=<span class="string">'grep --color=auto'</span></span><br><span class="line"><span class="built_in">alias</span> l.=<span class="string">'ls -d .* --color=auto'</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">'ls -l --color=auto'</span></span><br><span class="line"><span class="built_in">alias</span> ls=<span class="string">'ls --color=auto'</span></span><br><span class="line"><span class="built_in">alias</span> mv=<span class="string">'mv -i'</span></span><br><span class="line"><span class="built_in">alias</span> rm=<span class="string">'rm -i'</span></span><br><span class="line"><span class="built_in">alias</span> <span class="built_in">which</span>=<span class="string">'alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'</span></span><br><span class="line">[root@hadoop001 <span class="built_in">log</span>]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>自制别名只在当前会话生效，会话即xshell的一个窗口</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 <span class="built_in">log</span>]<span class="comment">#  alias jj='cd /tmp'</span></span><br><span class="line">其他会话不生效</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># jj</span></span><br><span class="line">-bash: jj: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>
<p>是因为没有在环境变量文件配置 </p>
<h4 id="7-环境变量"><a href="#7-环境变量" class="headerlink" title="7.环境变量"></a>7.环境变量</h4><p>全局 : /etc/profile    所有用户都可以使用  </p>
<p>个人:<br>&emsp;&emsp;&emsp; ~/.bash_profile   只能是设置命令的当前用户使用  其他不能使用<br>&emsp;&emsp;&emsp; ~/.bashrc [设置个人别名主要修改这个文件]<br>&emsp;&emsp;&emsp; 场景: 使用ssh 远程执行B机器 +命令<br>&emsp;&emsp;&emsp; 提示找不到命令    java command not found<br>&emsp;&emsp;&emsp; 但是直接登录B机器 命令是找到的   which java有的 </p>
<pre><code>命令的环境变量配置在.bash_profile  是不正确的。
应该配置在.bashrc文件</code></pre><p>想在配置后，全局生效，需要新开窗口，老窗口可看作静态窗口</p>
<p>生效文件:修改后需要操作之后才会生效</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="built_in">cd</span> 进家目录</span><br><span class="line">.空格.bashrc</span><br></pre></td></tr></table></figure>
<h4 id="8-创建用户"><a href="#8-创建用户" class="headerlink" title="8.创建用户"></a>8.创建用户</h4><p>root 默认管理员用户 已存在的<br>创建luc用户</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># useradd luc</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># su - luc</span></span><br><span class="line">[luc@hadoop001 ~]$ <span class="built_in">pwd</span></span><br><span class="line">/home/luc</span><br><span class="line">[luc@hadoop001 ~]$ </span><br><span class="line">[luc@hadoop001 ~]$ jj  是因为jj配置在全局变量文件 </span><br><span class="line">[luc@hadoop001 tmp]$ <span class="built_in">pwd</span></span><br><span class="line">/tmp</span><br><span class="line">[luc@hadoop001 tmp]$</span><br></pre></td></tr></table></figure>
<h4 id="9-自动补全"><a href="#9-自动补全" class="headerlink" title="9.自动补全"></a>9.自动补全</h4><p>tab键一次，只有1个 命令自动补全<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;多个  没响应<br>&emsp;按二次，会把当前匹配到的 所有命令打印出来，再挑选</p>
<h4 id="10-history-历史命令"><a href="#10-history-历史命令" class="headerlink" title="10.history 历史命令"></a>10.history 历史命令</h4><p>输入history，弹出历史命令<br>!2  执行第二行命令 </p>
<p>history -c 清空历史 ，不想让人知道自己的操作，把尾巴擦干净</p>
<p>可使用的情况，区分服务器类型<br>直连 服务器           ok<br>跳板机(vpn)  服务器   ok<br>堡垒机  敲一个命令 都记录  堡垒机系统里   web界面 可视化</p>
<h4 id="11-【高危命令】-rm"><a href="#11-【高危命令】-rm" class="headerlink" title="11.【高危命令】 rm"></a>11.【高危命令】 rm</h4><p>千万不要做 rm -rf  全完蛋</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># rm 11.log</span></span><br><span class="line">rm: remove regular file ‘11.log’? y <span class="comment">#rm命令会询问是否删除</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># rm -f 1.log #-f直接删除不询问</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># rm -r dir22 #-r删除文件夹，之前询问</span></span><br><span class="line">rm: remove directory ‘dir22’? y</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># rm -rf dir33 #-rf所有东西全部直接删除不提示，慎用</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>可用场景:<br>在脚本里设置<br>LOG_PATH=/xxx/yyy<br>需要根据业务逻辑判断 去赋值<br>&emsp;&emsp;漏了一种  没有赋值<br>rm -rf ${LOG_PATH}/*  ==》rm -rf /*</p>
<p>该怎么避免 ：<br>每次删除之前 都判断${LOG_PATH} 是否存在 </p>
<h4 id="补充"><a href="#补充" class="headerlink" title="补充:"></a>补充:</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@JD ~]<span class="comment"># hostnamectl set-hostname hadoop001 #JD云改主机名</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ifconfig # 找内网ip 或者 京东云控制台查看  </span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># vi /etc/hosts</span></span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">192.168.0.3 hadoop001</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第三天</title>
    <url>/2020/04/23/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B03/</url>
    <content><![CDATA[<h3 id="大数据之Linux生产命令三"><a href="#大数据之Linux生产命令三" class="headerlink" title="大数据之Linux生产命令三"></a>大数据之Linux生产命令三</h3><h4 id="1-用户-用户组"><a href="#1-用户-用户组" class="headerlink" title="1.用户 用户组"></a>1.用户 用户组</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看用户命令</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ll /usr/sbin/user*</span></span><br><span class="line">-rwxr-x---. 1 root root 114056 Mar  6  2015 /usr/sbin/useradd</span><br><span class="line">-rwxr-x---. 1 root root  80352 Mar  6  2015 /usr/sbin/userdel</span><br><span class="line">-rws--x--x. 1 root root  40312 Jun 10  2014 /usr/sbin/userhelper</span><br><span class="line">-rwxr-x---. 1 root root 113808 Mar  6  2015 /usr/sbin/usermod</span><br><span class="line">-rwsr-xr-x. 1 root root  11272 Nov 20  2015 /usr/sbin/usernetctl</span><br><span class="line"><span class="comment"># 查看用户组命令</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ll /usr/sbin/group*</span></span><br><span class="line">-rwxr-x---. 1 root root 61336 Mar  6  2015 /usr/sbin/groupadd</span><br><span class="line">-rwxr-x---. 1 root root 56992 Mar  6  2015 /usr/sbin/groupdel</span><br><span class="line">-rwxr-x---. 1 root root 57024 Mar  6  2015 /usr/sbin/groupmems</span><br><span class="line">-rwxr-x---. 1 root root 76400 Mar  6  2015 /usr/sbin/groupmod</span><br><span class="line"><span class="comment"># 增加用户,查看id </span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># useradd ruoze</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze</span></span><br><span class="line">uid=1002(ruoze) gid=1002(ruoze) groups=1002(ruoze)</span><br></pre></td></tr></table></figure>
<p>创建一个普通用户  用户名称 ruoze<br>同时也会创建一个 ruoze用户组<br>设置ruoze用户的组为ruoze,且把这个ruoze用户组设置为 主组<br>同时也创建家目录  /home/ruoze </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ll /home</span></span><br><span class="line">total 12</span><br><span class="line">drwx------. 3 hadoop001 hadoop001 4096 Apr 20 13:56 hadoop001</span><br><span class="line">drwx------. 5 luc       luc       4096 Apr 23 09:54 luc</span><br><span class="line">drwx------. 3 ruoze     ruoze     4096 Apr 23 13:36 ruoze</span><br></pre></td></tr></table></figure>
<p>用户存储信息 /etc/passwd<br>用户组       /etc/group</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># userdel ruoze #删除之后再添加同一名称用户，会沿用以前那创建的文件</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># useradd ruoze</span></span><br><span class="line">useradd: warning: the home directory already exists.</span><br><span class="line">Not copying any file from skel directory into it.</span><br><span class="line">Creating mailbox file: File exists</span><br><span class="line">[root@hadoop001 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h5 id="样式丢失"><a href="#样式丢失" class="headerlink" title="样式丢失"></a>样式丢失</h5><p>在删除之后重新加上该用户，可能会缺失某些文件导致丢失样式<br>三种解决方法：<br>a.自己创建<br>b.去其它用户文件夹copy<br>c.去skel隐藏文件copy</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># su - ruoze #删除了bash相关的文件之后，下次切用户会丢失样式</span></span><br><span class="line">[ruoze@hadoop001 ~]$ ll -a</span><br><span class="line">total 32</span><br><span class="line">drwx------. 5 ruoze ruoze 4096 Apr 23 13:50 .</span><br><span class="line">drwxr-xr-x. 5 root  root  4096 Apr 23 13:36 ..</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze   18 Nov 20  2015 .bash_logout</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze  193 Nov 20  2015 .bash_profile</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze  231 Nov 20  2015 .bashrc</span><br><span class="line">drwxrwxr-x. 3 ruoze ruoze 4096 Apr 23 13:50 .cache</span><br><span class="line">drwxrwxr-x. 3 ruoze ruoze 4096 Apr 23 13:50 .config</span><br><span class="line">drwxr-xr-x. 4 ruoze ruoze 4096 Apr 20 13:56 .mozilla</span><br><span class="line">[ruoze@hadoop001 ~]$ rm -rf .bash*</span><br><span class="line">[ruoze@hadoop001 ~]$ ll -a</span><br><span class="line">total 20</span><br><span class="line">drwx------. 5 ruoze ruoze 4096 Apr 23 13:51 .</span><br><span class="line">drwxr-xr-x. 5 root  root  4096 Apr 23 13:36 ..</span><br><span class="line">drwxrwxr-x. 3 ruoze ruoze 4096 Apr 23 13:50 .cache</span><br><span class="line">drwxrwxr-x. 3 ruoze ruoze 4096 Apr 23 13:50 .config</span><br><span class="line">drwxr-xr-x. 4 ruoze ruoze 4096 Apr 20 13:56 .mozilla</span><br><span class="line">[ruoze@hadoop001 ~]$  <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">logout</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># su - ruoze</span></span><br><span class="line">Last login: Thu Apr 23 13:50:13 CST 2020 on pts/1</span><br><span class="line">-bash-4.2$ </span><br><span class="line">-bash-4.2$</span><br><span class="line">-bash-4.2$ id</span><br><span class="line">-bash-4.2$ id</span><br><span class="line">uid=1002(ruoze) gid=1002(ruoze) groups=1002(ruoze) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</span><br></pre></td></tr></table></figure>

<h5 id="样式恢复"><a href="#样式恢复" class="headerlink" title="样式恢复"></a>样式恢复</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-bash-4.2$ cp /etc/skel/.* ./ <span class="comment">#将备份文件重新复制过来后，重新登录之后样式恢复</span></span><br><span class="line">cp: omitting directory ‘/etc/skel/.’</span><br><span class="line">cp: omitting directory ‘/etc/skel/..’</span><br><span class="line">cp: omitting directory ‘/etc/skel/.mozilla’</span><br><span class="line">-bash-4.2$ ll -a</span><br><span class="line">total 36</span><br><span class="line">drwx------. 5 ruoze ruoze 4096 Apr 23 13:56 .</span><br><span class="line">drwxr-xr-x. 5 root  root  4096 Apr 23 13:36 ..</span><br><span class="line">-rw-------. 1 ruoze ruoze   52 Apr 23 13:53 .bash_history</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze   18 Apr 23 13:56 .bash_logout</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze  193 Apr 23 13:56 .bash_profile</span><br><span class="line">-rw-r--r--. 1 ruoze ruoze  231 Apr 23 13:56 .bashrc</span><br><span class="line">drwxrwxr-x. 3 ruoze ruoze 4096 Apr 23 13:50 .cache</span><br><span class="line">drwxrwxr-x. 3 ruoze ruoze 4096 Apr 23 13:50 .config</span><br><span class="line">drwxr-xr-x. 4 ruoze ruoze 4096 Apr 20 13:56 .mozilla</span><br><span class="line">-bash-4.2$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">logout</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># su - ruoze</span></span><br><span class="line">Last login: Thu Apr 23 13:53:28 CST 2020 on pts/1</span><br><span class="line">[ruoze@hadoop001 ~]$</span><br></pre></td></tr></table></figure>
<h5 id="添加用户到bigdata用户组"><a href="#添加用户到bigdata用户组" class="headerlink" title="添加用户到bigdata用户组"></a>添加用户到bigdata用户组</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># groupadd bigdata</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># usermod -a -G bigdata ruoze #将bigdata附加到ruoze的groups中</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze</span></span><br><span class="line">uid=1002(ruoze) gid=1002(ruoze) groups=1002(ruoze),1003(bigdata)</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># usermod -g bigdata ruoze #强制将ruoze主组改为bigdata</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze </span></span><br><span class="line">uid=1002(ruoze) gid=1003(bigdata) groups=1003(bigdata) <span class="comment">#gid编程bigdata用户组</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># usermod -a -G ruoze ruoze #将ruoze附加到ruoze的groups中</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># id ruoze</span></span><br><span class="line">uid=1002(ruoze) gid=1003(bigdata) groups=1003(bigdata),1002(ruoze)</span><br><span class="line">[root@hadoop001 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<h4 id="2-设置密码passwd"><a href="#2-设置密码passwd" class="headerlink" title="2.设置密码passwd"></a>2.设置密码passwd</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># passwd</span></span><br><span class="line">Changing password <span class="keyword">for</span> user root.</span><br><span class="line">New password: </span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: </span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure>

<h4 id="3-切换用户"><a href="#3-切换用户" class="headerlink" title="3.切换用户"></a>3.切换用户</h4><p>su ruoze 会进入该用户账号，但是目录位置不变<br>su - ruoze [J哥推荐]<br>     代表该用户切换到家目录，且执行环境变量文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># su ruoze #切换到ruoze用户的root目录下</span></span><br><span class="line">[ruoze@hadoop001 root]$ <span class="built_in">pwd</span></span><br><span class="line">/root</span><br><span class="line">[ruoze@hadoop001 root]$ <span class="built_in">exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># su - ruoze #切换到ruoze用户的家目录下</span></span><br><span class="line">Last login: Thu Apr 23 14:10:24 CST 2020 on pts/1</span><br><span class="line">[ruoze@hadoop001 ~]$ <span class="built_in">pwd</span></span><br><span class="line">/home/ruoze</span><br><span class="line">[ruoze@hadoop001 ~]$</span><br></pre></td></tr></table></figure>


<h4 id="4-sudo-普通用户临时使用root的最大权限"><a href="#4-sudo-普通用户临时使用root的最大权限" class="headerlink" title="4.sudo  普通用户临时使用root的最大权限"></a>4.sudo  普通用户临时使用root的最大权限</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /etc/sudoers <span class="comment">#找到allow设置root权限</span></span><br><span class="line">ruoze   ALL=(root)      NOPASSWD:ALL</span><br><span class="line">[ruoze@ruozedata001 ~]$ cat /root/rz.log</span><br><span class="line">cat: /root/rz.log: Permission denied</span><br><span class="line">[ruoze@ruozedata001 ~]$ sudo cat /root/rz.log</span><br><span class="line">www.ruozedata.com</span><br><span class="line">[ruoze@ruozedata001 ~]$</span><br></pre></td></tr></table></figure>
<h4 id="5-etc-passwd文件"><a href="#5-etc-passwd文件" class="headerlink" title="5./etc/passwd文件"></a>5./etc/passwd文件</h4><p>ruoze:x:1004:1005::/home/ruoze:/sbin/nologin  有提示<br>ruoze:x:1004:1005::/home/ruoze:/usr/bin/false 没提示 </p>
<p>CDH平台  hdfs yarn hive hbase<br>su - yarn 不成功的 </p>
<p>/sbin/nologin /usr/bin/false ===》/bin/bash 可以登陆</p>
<p>/etc/passwd文件中权限sbin/nologin<br>会出现无法切换用户的，报错无法登录<br>权限设为/usr/bin/false，无法登录，但是无报错<br>需要修改为/bin/bash</p>
<h4 id="6-权限"><a href="#6-权限" class="headerlink" title="6.权限"></a>6.权限</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ll</span></span><br><span class="line">total 48</span><br><span class="line">-rw-------. 1 root root 1732 Apr 20 14:06 anaconda-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Apr 20 14:36 Desktop</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Apr 23 09:17 dir2</span><br></pre></td></tr></table></figure>
<p>第一个字母：d文件夹 -文件 l连接<br>后面9个字母,3个字母为一组:<br>rw- r– r–</p>
<p>r: read  读权限 4<br>w: write 写权限 2<br>x: 执行         1<br>-: 没权限       0  占位 </p>
<p>7=4 2 1<br>5=4 1<br>6=4 2</p>
<p>rw- 第一组 6  代表文件或文件夹的所属用户，读写权限<br>r– 第二组 4  代表文件或文件夹的所属用户组，读权限<br>r– 第三组 4  代表其他用户组的用户对这个文件或文件夹，读权限</p>
<p>rw-r–r–    root root     22.log</p>
<p>关于权限：<br>chmod -R 777          文件或文件夹<br>chown -R 用户:用户组  文件或文件夹</p>
<p>案例:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ruozedata001 tmp]<span class="comment"># vi ruoze.log</span></span><br><span class="line">www.ruozedata.com</span><br><span class="line"></span><br><span class="line">[ruoze@ruozedata001 tmp]$ cat  ruoze.log </span><br><span class="line">www.ruozedata.com</span><br><span class="line">[ruoze@ruozedata001 tmp]$ </span><br><span class="line"></span><br><span class="line">[root@ruozedata001 tmp]<span class="comment"># chmod 640 ruoze.log #收回其他组的r权限 </span></span><br><span class="line">[ruoze@ruozedata001 tmp]$ cat  ruoze.log </span><br><span class="line">cat: ruoze.log: Permission denied</span><br></pre></td></tr></table></figure>

<h4 id="7-大小"><a href="#7-大小" class="headerlink" title="7.大小"></a>7.大小</h4><p>文件： ll -h 、du -sh<br>文件夹:        du -sh</p>
<h4 id="8-搜索-find"><a href="#8-搜索-find" class="headerlink" title="8.搜索 find"></a>8.搜索 find</h4><p>接手大数据平台，服务器登录，大数据组件安装目录在哪？</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find / -name <span class="string">'*hadoop*'</span></span><br><span class="line">find /home/hadoop/ -name <span class="string">'*hadoop*'</span><span class="comment">#根目录搜索会很多，最好顶死安装目录搜索</span></span><br></pre></td></tr></table></figure>
<p>补充:<br>history 命令 hietory -c<br>ps -ef 查看进程<br>kill -PID 杀死PID进程</p>
<h4 id="9-vi命令"><a href="#9-vi命令" class="headerlink" title="9.vi命令"></a>9.vi命令</h4><h5 id="9-1-正常编辑一个文件，要正常退出-wq"><a href="#9-1-正常编辑一个文件，要正常退出-wq" class="headerlink" title="9.1 正常编辑一个文件，要正常退出 wq"></a>9.1 正常编辑一个文件，要正常退出 wq</h5><p>vi异常中断出现swap结尾文件会报错<br>-rw-r–r–   1 root  root       16 Apr 19 21:26 2.log<br>-rw-r–r–   1 root  root    12288 Apr 19 21:31 .2.log.swp<br>swap文件需要删除<br>rm -rf .2.log.swp</p>
<h5 id="9-2-粘贴操作"><a href="#9-2-粘贴操作" class="headerlink" title="9.2 粘贴操作"></a>9.2 粘贴操作</h5><p>必须进入编辑模式，否则第一行内容丢失 不完整</p>
<h5 id="9-3-搜索"><a href="#9-3-搜索" class="headerlink" title="9.3 搜索"></a>9.3 搜索</h5><p>尾行模式（shift+:)–》 /error</p>
<h5 id="9-4-行号"><a href="#9-4-行号" class="headerlink" title="9.4 行号"></a>9.4 行号</h5><p>尾行–》 set nu   设置行号<br>         set nonu 取消行号</p>
<pre><code>f 也是可以显示 当前光标的所在的行</code></pre><h5 id="9-5-常用快捷方式"><a href="#9-5-常用快捷方式" class="headerlink" title="9.5 常用快捷方式"></a>9.5 常用快捷方式</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dd <span class="comment">#删除当前行</span></span><br><span class="line">dG <span class="comment">#删除当前及以下所有行</span></span><br><span class="line">ndd <span class="comment">#删除当前及以下n行</span></span><br><span class="line">gg <span class="comment">#跳转到第一行的第一个字母</span></span><br><span class="line">G  <span class="comment">#跳转到最后一行的第一个字母</span></span><br><span class="line"><span class="built_in">shift</span>+$ <span class="comment">#行尾</span></span><br></pre></td></tr></table></figure>

<p>场景：<br>清空这个文件内容，从另外一个文件内容 拷贝过来<br>gg–》dG   –》 i  –&gt;鼠标右键单击 粘贴上</p>
<p>清空补充：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /dev/null &gt; 1.log</span><br><span class="line"><span class="built_in">echo</span>  <span class="string">""</span> &gt; 2.log</span><br><span class="line"><span class="literal">true</span> &gt; 1.log <span class="comment">#也是清空文件内容 0字节</span></span><br><span class="line">[root@ruozedata001 ~]<span class="comment"># ll</span></span><br><span class="line">total 16</span><br><span class="line">-rw-r--r-- 1 root  root     0 Apr 19 21:58 1.log</span><br><span class="line">-rw-r--r-- 1 root  root     1 Apr 19 21:58 2.log</span><br></pre></td></tr></table></figure>
<p>场景:<br>shell脚本，数据文件清空操作，根据字节大小判断是否清空完成</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span>  <span class="string">""</span> &gt; 2.log</span><br><span class="line"><span class="keyword">if</span> filezie &gt; 0 <span class="keyword">then</span></span><br><span class="line">   业务不操作</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    2.log 灌业务数据</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第四天</title>
    <url>/2020/04/24/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B04/</url>
    <content><![CDATA[<h3 id="大数据之Linux生产常用命令四"><a href="#大数据之Linux生产常用命令四" class="headerlink" title="大数据之Linux生产常用命令四"></a>大数据之Linux生产常用命令四</h3><h4 id="1-系统常用检查命令"><a href="#1-系统常用检查命令" class="headerlink" title="1.系统常用检查命令"></a>1.系统常用检查命令</h4><p>磁盘 df -h<br>内存 free -m<br>负载 top<br><strong>内存 free -m</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># free -m # -g是以GB为单位，不建议，会丢数据 </span></span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1993         759         203          11        1030        1022</span><br><span class="line">Swap:          2047           0        2047        <span class="comment">#大数据 生产服务器 swap是设置0  10也可以 10是惰性</span></span><br></pre></td></tr></table></figure>
<p><strong>磁盘 df -h</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># df -h</span></span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda2        57G  5.2G   49G  10% /</span><br><span class="line"> <span class="comment">#主要查看以下数据文件</span></span><br><span class="line">/dev/vdb1        2T   16G   25G  1% /data01</span><br><span class="line">/dev/vdb2        2T   16G   25G  1% /data02</span><br><span class="line">/dev/vdb3        2T   16G   25G  1% /data03</span><br><span class="line">/dev/vdb4        2T   16G   25G  1% /data04</span><br><span class="line"> <span class="comment">#需要监控500G以上的硬盘ssd </span></span><br><span class="line"> <span class="comment">#不太需要看</span></span><br><span class="line">devtmpfs        3.9G     0  3.9G   0% /dev</span><br><span class="line">tmpfs           3.9G   16K  3.9G   1% /dev/shm</span><br><span class="line">tmpfs           3.9G  258M  3.6G   7% /run</span><br><span class="line">tmpfs           3.9G     0  3.9G   0% /sys/fs/cgroup</span><br><span class="line">tmpfs           783M     0  783M   0% /run/user/1004</span><br></pre></td></tr></table></figure>
<p><strong>系统负载 top</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">top - 21:20:22 up 7 days, 58 min,  1 user,  load average: 0.01, 0.03, 0.05</span><br><span class="line">Tasks:  89 total,   1 running,  88 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  0.2 us,  0.5 sy,  0.0 ni, 99.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.3 st</span><br><span class="line">KiB Mem :  8011076 total,  6377388 free,   229060 used,  1404628 buff/cache</span><br><span class="line">KiB Swap:        0 total,        0 free,        0 used.  7265724 avail Mem </span><br><span class="line"></span><br><span class="line">  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                  </span><br><span class="line"> 2374 root      20   0  394348  31376   8608 S   0.3  0.4  41:44.99 jdog-kunlunmirr                          </span><br><span class="line">    1 root      20   0  125356   3796   2508 S   0.0  0.0   1:22.32 systemd                                  </span><br><span class="line">    2 root      20   0       0      0      0 S   0.0  0.0   0:00.00 kthreadd                                 </span><br><span class="line">    3 root      20   0       0      0      0 S   0.0  0.0   0:00.08 ksoftirqd/0                              </span><br><span class="line">    5 root       0 -20       0      0      0 S   0.0  0.0   0:00.00 kworker/0:0H                             </span><br><span class="line">    6 root      20   0       0      0      0 S   0.0  0.0   0:02.50 kworker/u4:0</span><br></pre></td></tr></table></figure>
<p>刷新时间up 运行时间，用户数，load average: 0.01, 0.03, 0.05(分别代表 1min   5min  15min)</p>
<p><strong>J哥的经验值: 10  生产不用超过这个 ，否则认为服务器就是卡</strong><br>a.是你的程序有问题 在大量跑计算<br>b.是不是被挖矿 yarn redis 最容易被hacker 攻击<br>c.硬件问题  不仅内存条问题，还可能是硬盘   、<br>判断方法：重启服务器系统<br><strong>cpu加起来超过100就要看，还有就是看内存</strong></p>
<h4 id="2-yum"><a href="#2-yum" class="headerlink" title="2.yum"></a>2.yum</h4><p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum search http  <span class="comment">#会出来很多可选项</span></span><br><span class="line">yum search httpd  <span class="comment"># 最后的d一般代表进程</span></span><br><span class="line">yum install httpd <span class="comment"># -y 对所有的选项选择yes</span></span><br></pre></td></tr></table></figure>
<p>centos6:<br>service httpd status|start|stop  只能操作1个应用httpd<br>启动服务用service<br>centos7:<br>service httpd status|start|stop  兼容 能使用<br>systemctl status|start|stop|restart httpd app2 app3 app4  一次性操作多个应用<br>可选择状态，开始或者结束,重启</p>
<p><strong>搜索 卸载:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># rpm -qa|grep http #搜索</span></span><br><span class="line">httpd-2.4.6-90.el7.centos.x86_64</span><br><span class="line">httpd-tools-2.4.6-90.el7.centos.x86_64</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># rpm -e 包名称 --nodeps # --nodeps不校验你的依赖，直接卸载</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># yum remove httpd-2.4.6-90.el7.centos.x86_64 # 也可以卸载</span></span><br></pre></td></tr></table></figure>
<h4 id="3-进程-端口号"><a href="#3-进程-端口号" class="headerlink" title="3.进程 端口号"></a>3.进程 端口号</h4><p>ps -ef打印所有进程<br>&emsp;&emsp;PID是计算分配ID,PPID是上级ID，即由PID调用PPID<br>&emsp;&emsp;PID 1是系统ID，从根目录开始的<br>ps -ef | grep http 父ID被干掉，子不一定会被干掉<br>kill -9 16629  #-9级别最高<br>kill -9 16630 16631  16632  16633  16634 多杀进程</p>
<p><strong>查看进程和杀死进程</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ps -ef |grep httpd</span></span><br><span class="line">root     20092     1  0 14:28 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20094 20092  0 14:29 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20095 20092  0 14:29 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20096 20092  0 14:29 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20097 20092  0 14:29 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20098 20092  0 14:29 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">root     20101 19478  0 14:29 pts/2    00:00:00 grep --color=auto httpd</span><br></pre></td></tr></table></figure>
<p>根据匹配字段 搜索所有符合的进程 全部杀死<br>但是: 生产慎用 除非你先ps查看 这个关键词搜索的进程 是不是都是你想要杀死的进程<br>保不齐有个其他服务的进程 会造成误杀 生产事故！！！</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># kill -9 $(pgrep -f httpd) #全局杀死进程</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ps -ef |grep httpd</span></span><br><span class="line">root     20131 19478  0 14:31 pts/2    00:00:00 grep --color=auto httpd</span><br></pre></td></tr></table></figure>
<p><strong>重启之后进程号改变</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ps -ef |grep httpd</span></span><br><span class="line">root     20153     1  0 14:33 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20154 20153  0 14:33 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20155 20153  0 14:33 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20156 20153  0 14:33 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20157 20153  0 14:33 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">apache   20158 20153  0 14:33 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND</span><br><span class="line">root     20169 19478  0 14:34 pts/2    00:00:00 grep --color=auto httpd</span><br></pre></td></tr></table></figure>
<p><strong>查看端口号</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># yum install -y net-tools.x86_64</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 20153 #-nlp死记硬背 </span></span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      20153/httpd          </span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 20154</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 20155</span></span><br></pre></td></tr></table></figure>

<p>进程不一定都会起到端口号 #子进程可能没有，与外部无交流<br>但是与其他服务通信 必然需要端口号！！！</p>
<p><strong>面试题</strong><br>老板: 去打开xxx服务器的应用yyy的网页？你会涉及到哪些Linux命令 #面试题<br>ip #知道IP，之后需要知道yyy的端口号<br>ps -ef|grep yyy –》pid #找到pid<br>netstat -nlp|grep pid –》port #找到端口号<br>浏览器: <a href="http://ip:port">http://ip:port</a><br>要确定ping的通和telnet的通端口号</p>
<p><strong>ip和port设置细节:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># netstat -nlp| grep 18670</span></span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      18670/httpd         </span><br><span class="line">tcp6       0      0 0.0.0.0:80                   :::*                    LISTEN      18670/httpd         </span><br><span class="line">tcp6       0      0 192.168.0.3:80                   :::*                    LISTEN      18670/httpd         </span><br><span class="line">tcp6       0      0 127.0.0.1:80                   :::*                    LISTEN      18670/httpd         </span><br><span class="line">tcp6       0      0 localhost:80                   :::*                    LISTEN      18670/httpd</span><br></pre></td></tr></table></figure>
<p>前三种一样，前两种等价于本机器的ip # 查看ip命令ifconfig<br>危险: 后两种服务只能自己服务器的里面自己访问自己  </p>
<p><strong>生产上，注意ip要查看，如果127开头或者localhost不能连外网</strong></p>
<p><strong>测试网络，连接失败问题</strong><br>ping   ip #测试网络通不通<br>telnet ip port #ping端口号</p>
<p><strong>window cmd：</strong><br>ping 192.168.111.131<br>telnet 192.168.111.131 22 弹出新窗口成功，弹提示即不成功<br><img src="https://i.loli.net/2020/06/11/ojOyMKEA1GHt7pQ.png" alt=""><br><strong>Linux：</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y telnet</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># telnet hadoop001 80</span></span><br><span class="line">Trying 192.168.0.3...</span><br><span class="line">Connected to hadoop001.</span><br><span class="line">Escape character is <span class="string">'^]'</span>.<span class="comment">#通的</span></span><br><span class="line">^Z</span><br><span class="line">Connection closed by foreign host.</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># telnet hadoop001 809</span></span><br><span class="line">Trying 192.168.0.3...</span><br><span class="line">telnet: connect to address 192.168.0.3: Connection refused</span><br></pre></td></tr></table></figure>

<p>如果ip和端口都不通，解决方法：<br>有可能你的服务器的防火墙 开启，云主机 需要开启 安全组策略<br>直接找Linux运维 网络工程师 加防火墙(硬件)策略  </p>
<p><strong>总结:</strong><br>Connection refused #无法连接<br>1.ping   ip 因为服务器是ping功能禁止，导致ping不通 #防黑客<br>2.telnet ip  port  ok</p>
<p>repo结尾文件<br>yum下载配置文件/etc/yum  #yum.repos.d  –确认</p>
<p>建议配置企业级别yum源 取代互联网的repo文件的URL，物理隔绝</p>
<h4 id="4-下载"><a href="#4-下载" class="headerlink" title="4.下载"></a>4.下载</h4><p>wget <a href="https://repo1.maven.org/maven2/org/apache/spark/spark-core_2.12/2.4.5/spark-core_2.12-2.4.5.jar" target="_blank" rel="noopener">https://repo1.maven.org/maven2/org/apache/spark/spark-core_2.12/2.4.5/spark-core_2.12-2.4.5.jar</a> #下载链接<br>curl <a href="https://repo1.maven.org/maven2/org/apache/spark/spark-core_2.12/2.4.5/spark-core_2.12-2.4.5.jar" target="_blank" rel="noopener">https://repo1.maven.org/maven2/org/apache/spark/spark-core_2.12/2.4.5/spark-core_2.12-2.4.5.jar</a> -O  spark-core_2.12-2.4.5.jar #-O是输出的意思</p>
<h4 id="5-压缩-解压"><a href="#5-压缩-解压" class="headerlink" title="5.压缩 解压"></a>5.压缩 解压</h4><p>创建一个例子，空文件<br>zip -r xxx.zip xxx/*<br>unzip xxx.zip<br>如果两个没有则需要单独安装，不是一体的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -czvf xxxx.tar.gz  xxxx/*  <span class="comment">#压缩</span></span><br><span class="line">tar -xzvf xxxx.tar.gz <span class="comment">#解压</span></span><br><span class="line"></span><br><span class="line">Examples:<span class="comment"># 不加-zv，则文件后缀是.tar</span></span><br><span class="line">  tar -cf archive.tar foo bar  <span class="comment"># Create archive.tar from files foo and bar.</span></span><br><span class="line">  tar -tvf archive.tar         <span class="comment"># List all files in archive.tar verbosely.</span></span><br><span class="line">  tar -xf archive.tar          <span class="comment"># Extract all files from archive.tar.</span></span><br></pre></td></tr></table></figure>
<h4 id="6-命令找不到"><a href="#6-命令找不到" class="headerlink" title="6.命令找不到"></a>6.命令找不到</h4><p>使用which 命令查看，只会显示出环境变量中的第一个匹配命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># ls</span></span><br><span class="line">dir1  dir1.tar.gz</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># which ls</span></span><br><span class="line"><span class="built_in">alias</span> ls=<span class="string">'ls --color=auto'</span></span><br><span class="line">        /usr/bin/ls</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># which jjj</span></span><br><span class="line">/usr/bin/<span class="built_in">which</span>: no jjj <span class="keyword">in</span> (/home/dwz/app/python3/bin:/usr/java/jdk1.8.0_181/bin:/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin)</span><br><span class="line">[root@hadoop001 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>想要命令快速找到  which xxx 来验证，其实就是提前将命令的目录配置在环境变量$PATH<br>通过echo $PATH 来查看是否将命令的目录配置上！</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># echo $PATH</span></span><br><span class="line">/home/dwz/app/python3/bin:/usr/java/jdk1.8.0_181/bin:/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># jjj</span></span><br><span class="line">-bash: jjj: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p><strong>command not found</strong><br> a.没安装上<br> b.路径没配置</p>
<p><strong>whereis 命令</strong> 能匹配到的都给你展示出来</p>
<h4 id="7-定时"><a href="#7-定时" class="headerlink" title="7.定时"></a>7.定时</h4><p> 脚本:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># vi ruoze.sh  #shell脚本</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">date</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ll</span></span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x 2 root root  30 Apr 22 22:50 dir1</span><br><span class="line">-rw-r--r-- 1 root root 128 Apr 22 22:49 dir1.tar.gz</span><br><span class="line">-rw-r--r-- 1 root root  19 Apr 22 23:02 ruoze.sh</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ./ruoze.sh # 当前目录方式执行</span></span><br><span class="line">-bash: ./ruoze.sh: Permission denied</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># sh ./ruoze.sh # 不想赋权限,用sh命令</span></span><br><span class="line">Wed Apr 22 23:02:36 CST 2020</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># chmod 744 ruoze.sh</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ll</span></span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x 2 root root  30 Apr 22 22:50 dir1</span><br><span class="line">-rw-r--r-- 1 root root 128 Apr 22 22:49 dir1.tar.gz</span><br><span class="line">-rwxr--r-- 1 root root  19 Apr 22 23:02 ruoze.sh</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># ./ruoze.sh </span></span><br><span class="line">Wed Apr 22 23:03:17 CST 2020</span><br><span class="line">[root@hadoop001 ~]<span class="comment"># </span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># date</span></span><br><span class="line">Wed Apr 22 23:03:21 CST 2020</span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># crontab -e #-e是编辑 ， crontab命令可以当一个文本编辑框用</span></span><br><span class="line">* * * * * /root/ruoze.sh &gt;&gt; /root/ruoze.log  <span class="comment">#五个星号</span></span><br><span class="line">五个星号分别代表</span><br><span class="line">分</span><br><span class="line">小时</span><br><span class="line">日</span><br><span class="line">月</span><br><span class="line">周</span><br><span class="line"></span><br><span class="line">* 表示 每</span><br><span class="line"></span><br><span class="line">* * * * *  每分钟   <span class="comment">#最常用</span></span><br><span class="line">*/1 * * * *  每分钟</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/06/11/TVDcle74XAqx25s.png" alt="crontab"></p>
<p><strong>面试题:</strong><br>每隔10s打印一次 怎么做</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*/6 * * * * <span class="comment"># 不对，这是每6分钟</span></span><br></pre></td></tr></table></figure>
<p>如果时间是秒</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># vi ruoze2.sh #每次六次之后休眠，10秒一跳</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span>((i=1;i&lt;=6;i++));</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	date</span><br><span class="line">	sleep 10s</span><br><span class="line"><span class="keyword">done</span> </span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># chmod +x ruoze2.sh # 设置完之后需要赋权限,所有人都拥有可以执行的权限</span></span><br></pre></td></tr></table></figure>
<h4 id="8-后台执行脚本"><a href="#8-后台执行脚本" class="headerlink" title="8.后台执行脚本"></a>8.后台执行脚本</h4><p>nohup  /root/ruoze.sh &gt;&gt; /root/ruoze.log 2&gt;&amp;1 &amp;  # 生产标准写法 nohup  中间随便命令  &amp;</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第五天</title>
    <url>/2020/04/26/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B05/</url>
    <content><![CDATA[<h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><h4 id="1-MySQL安装包准备"><a href="#1-MySQL安装包准备" class="headerlink" title="1.MySQL安装包准备"></a>1.MySQL安装包准备</h4><p>windows下载安装包，通过rz上传到Linux系统中</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ruozedata001 ~]<span class="comment"># ll -h</span></span><br><span class="line">-rw-r--r-- 1 root root 166M Jul 24  2019 jdk-8u45-linux-x64.gz</span><br><span class="line">-rw-r--r-- 1 root root 523M Jul 24  2019 mysql-5.7.11-linux-glibc2.5-x86_64.tar.gz</span><br></pre></td></tr></table></figure>
<p>mysql（小写） MySQL（大写）</p>
<h4 id="2-JDK部署"><a href="#2-JDK部署" class="headerlink" title="2.JDK部署"></a>2.JDK部署</h4><p>windows下载安装包，通过rz上传到Linux系统中</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@ruozedata001 ~]<span class="comment"># ll -h</span></span><br><span class="line">-rw-r--r-- 1 root root 166M Jul 24  2019 jdk-8u45-linux-x64.gz</span><br></pre></td></tr></table></figure>
<p>具体部署流程参考<br><a href="https://wangqi1994.github.io/2020/04/26/JDK部署" target="_blank" rel="noopener">https://wangqi1994.github.io/2020/04/26/JDK部署</a></p>
<h4 id="3-MySQL部署-5-7"><a href="#3-MySQL部署-5-7" class="headerlink" title="3.MySQL部署 5.7"></a>3.MySQL部署 5.7</h4><p>具体部署流程参考<br><a href="https://wangqi1994.github.io/2020/04/26/MySQL部署" target="_blank" rel="noopener">https://wangqi1994.github.io/2020/04/26/MySQL部署</a></p>
<p><strong>创建用户组及用户</strong><br>mysql  mysql用户来管理<br>oracle oracle用户<br>hadoop hive   bigdata用户来管理</p>
<p>sudo su - 用户 #切换用户建议命令格式，业务场景经常连着使用</p>
<h4 id="4-重新部署怎么办？"><a href="#4-重新部署怎么办？" class="headerlink" title="4.重新部署怎么办？"></a>4.重新部署怎么办？</h4><p>删除binlog文件夹和数据文件夹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf mysql/arch/*  binlog文件夹</span><br><span class="line">rm -rf mysql/data/*  数据文件</span><br><span class="line"></span><br><span class="line">bin/mysqld \</span><br><span class="line">--defaults-file=/etc/my.cnf \</span><br><span class="line">--user=mysqladmin \</span><br><span class="line">--basedir=/usr/<span class="built_in">local</span>/mysql/ \</span><br><span class="line">--datadir=/usr/<span class="built_in">local</span>/mysql/data/ \</span><br><span class="line">--initialize</span><br></pre></td></tr></table></figure>
<h4 id="5-dbeaver-海狸"><a href="#5-dbeaver-海狸" class="headerlink" title="5.dbeaver 海狸"></a>5.dbeaver 海狸</h4><p>5.1 window / mac 安装好jdk1.8 64位<br>安装参考：<br><a href="https://jingyan.baidu.com/article/b907e62789c79346e7891ced.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/b907e62789c79346e7891ced.html</a></p>
<p>5.2 下载 绿色版本<br><a href="https://dbeaver.io/files/dbeaver-ce-latest-win32.win32.x86_64.zip" target="_blank" rel="noopener">https://dbeaver.io/files/dbeaver-ce-latest-win32.win32.x86_64.zip</a></p>
<p>海狸dbeaver 必须要安装jdk1.8 64位的 </p>
<p>当建立MySQL连接时 使用云主机 ，3306 假如没有放开，<br>我们就使用安全组，设置该端口通行 放开</p>
<h4 id="6-常用命令"><a href="#6-常用命令" class="headerlink" title="6.常用命令"></a>6.常用命令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">create database ruozedata; <span class="comment"># 创建ruozedata数据库</span></span><br><span class="line">grant all privileges on ruozedata.* to ruoze@<span class="string">'%'</span> identified by <span class="string">'ruozedata'</span>;</span><br><span class="line">flush privileges;  <span class="comment"># 养成习惯！！！</span></span><br></pre></td></tr></table></figure>

<p>% 代表任意客户端机器去访问mysql服务器</p>
<p>192.168.1.1  这台机器有权限去访问</p>
<p>192.168.1.%  这个网段的所有ip机器有权限去访问</p>
<p>检验:<br>select user,authentication_string,host from mysql.user;</p>
<h4 id="7-登录"><a href="#7-登录" class="headerlink" title="7.登录"></a>7.登录</h4><p>标准登录写法<br>mysql -u用户 -p密码 -h 机器 -P端口号 指定db（默认不加）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -uroot -phadoop001 -hhadoop001 -P3306 mysql</span><br></pre></td></tr></table></figure>
<p><strong>Usage: mysql [OPTIONS] [database]</strong></p>
<p>database schema namespace 是一个意思  就可以认为是一个文件夹<br>table    就可以认为是一个Excel表格  </p>
<p>切换：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql&gt; use hadoop001;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; </span><br><span class="line">mysql&gt; show tables;<span class="comment"># 看表格</span></span><br><span class="line">Empty <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#提醒一点: 密码不要写在命令行 不然 history命令可以发现</span></span><br><span class="line">mysql -uroot -p -hhadoop001 -P3306  直接回车</span><br><span class="line"></span><br><span class="line">注意一点:</span><br><span class="line">mysql -u root -phadoop001 -h hadoop001 -P 3306 mysql</span><br><span class="line">-p后面如果非要写密码 不能有空格，其他参数无所谓！</span><br></pre></td></tr></table></figure>
<h4 id="8-进程"><a href="#8-进程" class="headerlink" title="8.进程"></a>8.进程</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">show processlist; <span class="comment"># 看进程</span></span><br><span class="line"><span class="built_in">kill</span> Id <span class="comment">#杀进程</span></span><br></pre></td></tr></table></figure>
<p><strong>如果卡住了，time一直在变大，企业中这时候要找公司dba做</strong></p>
<h4 id="9-字段类型"><a href="#9-字段类型" class="headerlink" title="9.字段类型"></a>9.字段类型</h4><p>汉字等于两个字节<br>英文字母一个字节</p>
<p><strong>数值类型</strong><br>    int  整型<br>    long 长整型</p>
<pre><code>float   单精度
double  双精度   
decimal 小数值  钱有关的 *****</code></pre><p><strong>字符串</strong><br>    char 字节        定长0-255 长度    ruozexxxxxxx 自动补齐<br>    varchar 字符串   变长0-65535字节？ ruoze</p>
<p><strong>日期</strong><br>    date 日期 YYYY-MM-DD<br>    time 时间 HH:MM:SS<br>    datetime  年月日时分秒 YYYY-MM-DD HH:MM:SS<br>    timestamp 年月日时分秒 YYYY-MM-DD HH:MM:SS</p>
<h4 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h4><p>datetime timestamp差别</p>
<p>1.datatime字段默认为NULL， timestamp为NOT NULL默认值为当前时间<br>2.DATATIME使用八字节的存储空间，TIMESTAMP的存储空间为4字节。TIMESTAMP空间利用率更高<br>3.timestamp存储和时区相关，即会根据时区做转换。datatime存进去是什么就是什么不会变动</p>
<p><strong>生产上一般不会用yum源安装sql</strong></p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第六天</title>
    <url>/2020/04/27/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B06/</url>
    <content><![CDATA[<h3 id="1-sql类型"><a href="#1-sql类型" class="headerlink" title="1.sql类型"></a>1.sql类型</h3><p>ddl 数据定义语言  create  drop<br>dml 数据操作语言  select insert update delete  增删改查<br>dcl 数据控制语言  grant </p>
<h3 id="2-建表规范"><a href="#2-建表规范" class="headerlink" title="2.建表规范"></a>2.建表规范</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span>  <span class="keyword">table</span> ruoze(</span><br><span class="line"><span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="literal">null</span> auto_increment, <span class="comment"># 第一列必须是id自增长 加了唯一可以去掉not null</span></span><br><span class="line"><span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">age <span class="built_in">int</span> (<span class="number">3</span>),</span><br><span class="line"></span><br><span class="line">create_user <span class="built_in">varchar</span>(<span class="number">255</span>), <span class="comment"># 建议增加以下字段，以后有用，举例：用于大数据的实时数仓的数据结构，需要加入创建时间和修改时间</span></span><br><span class="line">create_time <span class="built_in">timestamp</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="keyword">current_timestamp</span>,  <span class="comment">#固定</span></span><br><span class="line">update_user <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">update_time <span class="built_in">timestamp</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="keyword">current_timestamp</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">current_timestamp</span>, <span class="comment"># 可变</span></span><br><span class="line"></span><br><span class="line">primary <span class="keyword">key</span>(<span class="keyword">id</span>)  <span class="comment"># 主键 = 唯一约束+非空约束</span></span><br><span class="line"></span><br><span class="line">)<span class="keyword">default</span> <span class="keyword">charset</span>=utf8; <span class="comment">#支持中文编码</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze(<span class="keyword">name</span>,age) <span class="keyword">values</span>(<span class="string">'jj'</span>,<span class="number">18</span>),(<span class="string">'rz'</span>,<span class="number">18</span>),(<span class="string">'qq'</span>,<span class="number">26</span>); <span class="comment"># 批量插入数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze(<span class="keyword">name</span>,age) <span class="keyword">values</span>(<span class="string">'rz'</span>,<span class="number">18</span>); <span class="comment"># 海狸单个insert语句插入数据执行ctrl+enter</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze(<span class="keyword">name</span>,age) <span class="keyword">values</span>(<span class="string">'qq'</span>,<span class="number">26</span>); <span class="comment"># 海狸多个insert语句插入数据执行alt+x</span></span><br><span class="line"><span class="keyword">update</span> mysql.ruoze <span class="keyword">set</span> age=<span class="number">22</span> <span class="keyword">where</span> <span class="keyword">name</span> =<span class="string">'jj'</span>; </span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">id</span> =<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze;</span><br></pre></td></tr></table></figure>
<p><strong>注意点：</strong><br>1.表名称 字段名称 <strong>不要写中文</strong>  不要汉语拼音<br>2.<strong>统一风格:</strong><br>已经存在表结构设计，风格比如是create_user，那么新建的表也遵循。<br>或者不遵循设计，建表语句需要让leader check。<br>假如不存在，那么你应该建议设计规则<br>反例：<br>创建时间：<br>    ctime<br>    cretime<br>    createtime<br>    cre_time<br>    create_time</p>
<p>订单号:<br>     order<br>     orderno<br>     orderid</p>
<p>3.<strong>第一个字段必须是自增长字段</strong> 主键  无业务意义  架构设计的遵循<br>4.<strong>一张表只有一个主键  primary key(id)</strong></p>
<p>业务数据 唯一约束<br>ALTER TABLE mysql.ruoze ADD CONSTRAINT<br>ruoze_un UNIQUE KEY (name);</p>
<p> Duplicate entry ‘jj’ for key ‘ruoze_un’ # 存在重复的唯一标识</p>
<p>5.<strong>后面四个字段 务必要加</strong></p>
<p>6.<strong>业务字段 务必注释加上</strong><br>comment ‘xxxx’  # 在创建时最好加上</p>
<h3 id="3-增删改查"><a href="#3-增删改查" class="headerlink" title="3.增删改查"></a>3.增删改查</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 增加</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze(<span class="keyword">name</span>,age) <span class="keyword">values</span>(<span class="string">'jj'</span>,<span class="number">18</span>),(<span class="string">'rz'</span>,<span class="number">18</span>),(<span class="string">'qq'</span>,<span class="number">26</span>); <span class="comment"># 批量插入数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze(<span class="keyword">name</span>,age) <span class="keyword">values</span>(<span class="string">'rz'</span>,<span class="number">18</span>); <span class="comment"># 海狸单个insert语句插入数据执行ctrl+enter</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze(<span class="keyword">name</span>,age) <span class="keyword">values</span>(<span class="string">'qq'</span>,<span class="number">26</span>); <span class="comment"># 海狸多个insert语句插入数据执行alt+x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mysql.ruoze</span><br><span class="line"><span class="keyword">values</span>(<span class="number">3</span>,<span class="string">'jj'</span>,<span class="number">23</span>,<span class="string">'j1'</span>,<span class="string">'2020-12-12 00:00:00'</span>,<span class="string">'j1'</span>,<span class="string">'2020-12-12 00:00:00'</span>);</span><br><span class="line"></span><br><span class="line">Column count doesn't match value count at row 1 <span class="comment"># 以上语法可能有内容匹配不到，不建议这种插入方式</span></span><br><span class="line"><span class="comment">#修改</span></span><br><span class="line"><span class="keyword">update</span> mysql.ruoze <span class="keyword">set</span> age=<span class="number">33</span> <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'jj'</span>; <span class="comment">#修改单个参数</span></span><br><span class="line"><span class="keyword">update</span> mysql.ruoze <span class="keyword">set</span> age=<span class="number">33</span>,<span class="keyword">name</span>=<span class="string">'小丽'</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span>; <span class="comment">#修改多个参数</span></span><br><span class="line"><span class="comment">#删除</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> mysql.ruoze; <span class="comment">#全部删除，慎重!!!!</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">id</span> =<span class="number">3</span>; <span class="comment">#删除id=3的数据</span></span><br><span class="line"><span class="comment">#查看</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze; <span class="comment">#选择全部</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##update delete select语法慎重执行，仔细思考是否要加where过滤筛选</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Incorrect string value: '\xE5\xB0\x8F\xE4\xB8\xBD' for column 'name' at row 1 </span><br><span class="line"><span class="comment">#数据编码不支持中文 default charset=utf8;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> db.t;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,age <span class="keyword">from</span> db.t; </span><br><span class="line"></span><br><span class="line">* 代表所有字段</span><br></pre></td></tr></table></figure>
<h3 id="4-其他操作符"><a href="#4-其他操作符" class="headerlink" title="4.其他操作符"></a>4.其他操作符</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># where语法 判断</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> age &lt;=<span class="number">18</span>; <span class="comment"># 支持比较运算符</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> =<span class="string">'jj'</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> age &gt;=<span class="number">18</span> <span class="keyword">and</span> <span class="keyword">name</span>=<span class="string">'jj'</span>; <span class="comment">#支持逻辑运算符</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> age &gt;=<span class="number">18</span> <span class="keyword">or</span> <span class="keyword">name</span>=<span class="string">'jj'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">in</span> (<span class="string">'jj'</span>,<span class="string">'qq'</span>); <span class="comment"># 字符串判断</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">'jj'</span>,<span class="string">'qq'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment"># 排序语法</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">order</span> <span class="keyword">by</span> age; <span class="comment"># 默认是递增 asc</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>; <span class="comment"># 递减</span></span><br><span class="line"></span><br><span class="line">like语法</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'j%'</span>; <span class="comment"># 字母开头为j的数据行</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%q'</span>; <span class="comment"># 字母结尾为u的数据行</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%q%'</span>;  <span class="comment"># 含有h的数据行 不关心位置</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'_q%'</span>;  <span class="comment"># 查第2个字母是h的数据</span></span><br><span class="line"></span><br><span class="line">_ 占位符  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 合并表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> a(i <span class="built_in">int</span>,<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">255</span>)); </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> b(i <span class="built_in">int</span>,<span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">255</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> a <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'rz'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> b <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'rz'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> b <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">'jj'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">union</span> <span class="keyword">all</span> <span class="keyword">select</span> * <span class="keyword">from</span> b <span class="comment"># 全部数据合并，不管重复</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">union</span> <span class="keyword">select</span> * <span class="keyword">from</span> b <span class="comment"># 合并重复数据之后合并</span></span><br><span class="line"></span><br><span class="line"><span class="literal">null</span>语法</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze  <span class="keyword">where</span> age <span class="keyword">is</span> <span class="literal">null</span>; <span class="comment"># 查询age为null的数据</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mysql.ruoze  <span class="keyword">where</span> age <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-分组语法"><a href="#5-分组语法" class="headerlink" title="5.分组语法"></a>5.分组语法</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 分组/聚合函数: </span></span><br><span class="line">sum <span class="comment"># 求和</span></span><br><span class="line">avg <span class="comment"># 平均值</span></span><br><span class="line">max <span class="comment"># 最大值</span></span><br><span class="line">min <span class="comment"># 最小值</span></span><br><span class="line">count <span class="comment"># 计数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line"><span class="keyword">sum</span>(age) <span class="keyword">as</span> age_sum, <span class="comment"># 可以进行字段命名</span></span><br><span class="line"><span class="keyword">avg</span>(age),</span><br><span class="line"><span class="keyword">max</span>(age),</span><br><span class="line"><span class="keyword">min</span>(age),</span><br><span class="line"><span class="keyword">count</span>(<span class="number">1</span>) <span class="comment">#计数，第一列</span></span><br><span class="line"><span class="keyword">from</span> mysql.ruoze ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line"><span class="keyword">name</span>,</span><br><span class="line"><span class="keyword">ifnull</span>(<span class="keyword">sum</span>(age),<span class="number">0</span>) <span class="keyword">as</span> age_sum <span class="comment"># 如果是null，当成0处理，进行求和操作</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> mysql.ruoze <span class="comment">#数据来源</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">name</span> <span class="comment"># 以name进行分组</span></span><br><span class="line"><span class="keyword">having</span> <span class="keyword">ifnull</span>(<span class="keyword">sum</span>(age),<span class="number">0</span>) &gt;<span class="number">20</span>; <span class="comment"># 子查询只显示求和超过20的数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##子查询</span></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">*</span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(</span><br><span class="line">	<span class="keyword">select</span> </span><br><span class="line">	<span class="keyword">name</span>,</span><br><span class="line">	<span class="keyword">ifnull</span>(<span class="keyword">sum</span>(age),<span class="number">0</span>) <span class="keyword">as</span> age_sum</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">from</span> mysql.ruoze </span><br><span class="line">	<span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">name</span> </span><br><span class="line">) t <span class="keyword">where</span> age_sum&gt;<span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line"><span class="keyword">name</span>,xxx,</span><br><span class="line"><span class="keyword">ifnull</span>(<span class="keyword">sum</span>(age),<span class="number">0</span>) <span class="keyword">as</span> age_sum</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> mysql.ruoze </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> <span class="keyword">name</span> ,xxx <span class="comment"># 以两个参数进行分组统计</span></span><br><span class="line"><span class="keyword">having</span> <span class="keyword">ifnull</span>(<span class="keyword">sum</span>(age),<span class="number">0</span>) &gt;<span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">##分组字段必须select出现和group 出现是一致的</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第八天</title>
    <url>/2020/05/07/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B08/</url>
    <content><![CDATA[<h3 id="1-Hadoop介绍"><a href="#1-Hadoop介绍" class="headerlink" title="1.Hadoop介绍"></a>1.Hadoop介绍</h3><p>广义: 以Apache hadoop软件为主的生态圈 也包含 hive sqoop hbase kafka spark flink<br>狭义: Apache hadoop软件</p>
<p>Apache hadoop软件:版本1.x,2.x,3.x<br>主流2.x版本<br>hdfs   存储 -数据存储 –hadoop分布式文件系统<br>mapreduce  计算(作业) -计算分析  map reduce两个函数<br>yarn   资源和作业调度 -控制计算存储资源</p>
<p><strong>大数据平台: 存储是第一位 ；存储和计算是相辅相成的</strong></p>
<p>官网:<br>hadoop.apache.org<br>hive.apache.org</p>
<p>网址格式：<br>组件.apache.org</p>
<p>APACHE版本:<br>2.x<br>3.x</p>
<p>生产上至今企业还是以CDH5.x为主 (cloudera公司)<br>hadoop-2.6.0-cdh5.16.2.tar.gz</p>
<h3 id="2-hadoop-hdfs安装"><a href="#2-hadoop-hdfs安装" class="headerlink" title="2.hadoop hdfs安装"></a>2.hadoop hdfs安装</h3><h4 id="2-1-创建用户和文件夹"><a href="#2-1-创建用户和文件夹" class="headerlink" title="2.1 创建用户和文件夹"></a>2.1 创建用户和文件夹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># useradd hadoop</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># su - hadoop</span></span><br><span class="line">[hadoop@hadoop001 ~]$ mkdir tmp sourcecode software shell <span class="built_in">log</span> lib  data app</span><br><span class="line">tmp 存放临时文件 pid等文件</span><br><span class="line">app </span><br><span class="line">sourcecode源码编译</span><br><span class="line">software上传资源包</span><br><span class="line">shell脚本</span><br><span class="line"><span class="built_in">log</span>日志</span><br><span class="line">lib第三方架包</span><br><span class="line">data存储第三方数据</span><br><span class="line">[hadoop@hadoop001 ~]$ <span class="built_in">cd</span> software/</span><br><span class="line">[hadoop@hadoop001 software]$ ll</span><br><span class="line">total 605476</span><br><span class="line">-rw-r--r--. 1 root   root   434354462 May  7 09:54 hadoop-2.6.0-cdh5.16.2.tar.gz</span><br><span class="line">-rw-r--r--. 1 hadoop hadoop 185646832 May  7 11:04 jdk-8u181-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>
<h4 id="2-2-安装部署jdk"><a href="#2-2-安装部署jdk" class="headerlink" title="2.2 安装部署jdk"></a>2.2 安装部署jdk</h4><p>步骤参考：<br><a href="https://wangqi1994.github.io/2020/04/26/JDK部署/" target="_blank" rel="noopener">https://wangqi1994.github.io/2020/04/26/JDK部署/</a></p>
<p><strong>生产注意点:</strong><br>利用cdh的话,jdk在生产上有要求,否则有bug<br>生产上一般使用jdk8  下载官方推荐的版本8u181<br>apache上说7以上就可以<br>建议8，以cloudra公司为准，避免踩坑</p>
<p><a href="https://cwiki.apache.org/confluence/display/HADOOP2/HadoopJavaVersions" target="_blank" rel="noopener">apache官网java版本要求</a><br><a href="https://docs.cloudera.com/documentation/enterprise/release-notes/topics/rn_consolidated_pcm.html#pcm_jdk" target="_blank" rel="noopener">cloudra官网java版本要求</a></p>
<p>cds  spark<br>cdk  kafka</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 software]$ <span class="built_in">which</span> java</span><br><span class="line">/usr/java/jdk1.8.0_45/bin/java</span><br><span class="line"><span class="comment">#切回root用户，防止权限问题</span></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># cd /home/hadoop/software/</span></span><br><span class="line">[root@hadoop001 software]<span class="comment"># tar -xzvf jdk-8u181-linux-x64.tar.gz -C /usr/java </span></span><br><span class="line"><span class="comment">#查看用户权限并修改用户权限</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># ll</span></span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x. 7   10  143 4096 Jul  7  2018 jdk1.8.0_181</span><br><span class="line">drwxr-xr-x. 8 root root 4096 Apr 11  2015 jdk1.8.0_45</span><br><span class="line">[root@hadoop001 java]<span class="comment"># chown -R root:root jdk1.8.0_181</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># ll</span></span><br><span class="line">total 8</span><br><span class="line">drwxr-xr-x. 7 root root 4096 Jul  7  2018 jdk1.8.0_181</span><br><span class="line">drwxr-xr-x. 8 root root 4096 Apr 11  2015 jdk1.8.0_45</span><br><span class="line"><span class="comment">#配置环境变量</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># vi /etc/profile</span></span><br><span class="line"><span class="comment"># ruozedata environment</span></span><br><span class="line"><span class="built_in">export</span> JVA_HOME=/usr/java/jdk1.8.0_181</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment">#source生效环境变量</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># source /etc/profile</span></span><br><span class="line"><span class="comment">#测试</span></span><br><span class="line">[root@hadoop001 java]<span class="comment"># which java</span></span><br><span class="line">/usr/java/jdk1.8.0_181/bin/java</span><br><span class="line">[root@hadoop001 java]<span class="comment"># java -version</span></span><br><span class="line">java version <span class="string">"1.8.0_181"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_181-b13)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)</span><br></pre></td></tr></table></figure>

<h4 id="2-3-hadoop解压和软连接"><a href="#2-3-hadoop解压和软连接" class="headerlink" title="2.3 hadoop解压和软连接"></a>2.3 hadoop解压和软连接</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 software]$ tar -xzvf hadoop-2.6.0-cdh5.16.2.tar.gz -C ../app/</span><br><span class="line">[hadoop@hadoop001 software]$ <span class="built_in">cd</span> ../app</span><br><span class="line">[hadoop@hadoop001 app]$ ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 14 hadoop hadoop 4096 Jun  3  2019 hadoop-2.6.0-cdh5.16.2</span><br><span class="line">[hadoop@hadoop001 app]$ ln -s hadoop-2.6.0-cdh5.16.2 hadoop <span class="comment">#软连接</span></span><br><span class="line">[hadoop@hadoop001 app]$ ll</span><br><span class="line">total 4</span><br><span class="line">lrwxrwxrwx.  1 hadoop hadoop   22 May  7 11:20 hadoop -&gt; hadoop-2.6.0-cdh5.16.2</span><br><span class="line">drwxr-xr-x. 14 hadoop hadoop 4096 Jun  3  2019 hadoop-2.6.0-cdh5.16.2</span><br></pre></td></tr></table></figure>
<p><strong>软连接介绍和场景</strong><br>ln -s 目标路径  软连接路径<br>1.版本切换 -相当于快捷方式<br>切换版本时，就是将原先的hadoop文件删除，在进行软连接<br>/home/hadoop/app/hadoop<br>/home/hadoop/app/hadoop-2.6.0-cdh5.16.2</p>
<p>如果不用软连接，想要升级替换版本  代码脚本都要仔细检查修改 2–》3<br>但是如果提前设置软连接，代码脚本是hadoop，不关心版本多少</p>
<p>2.小盘换大盘 -降低磁盘内存爆的风险<br>/根目录磁盘 设置的比较小 20G   如果/app/log/hadoop-hdfs 文件夹是18G<br>会增加内存爆炸的风险<br>可以通过外部挂载一个盘 如/data01<br>将该文件夹移动到挂载盘，再通过软连接来连接</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv /app/<span class="built_in">log</span>/hadoop-hdfs /data01/  ==&gt;/data01/hadoop-hdfs</span><br><span class="line">ln -s /data01/hadoop-hdfs /app/<span class="built_in">log</span>/hadoop-hdfs</span><br></pre></td></tr></table></figure>


<h4 id="2-4-显性指定环境变量"><a href="#2-4-显性指定环境变量" class="headerlink" title="2.4 显性指定环境变量"></a>2.4 显性指定环境变量</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 app]$ <span class="built_in">cd</span> hadoop/etc/hadoop</span><br><span class="line">[hadoop@hadoop001 hadoop]$ vi hadoop-env.sh </span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_181</span><br></pre></td></tr></table></figure>

<h4 id="2-5-hadoop介绍和官方文档"><a href="#2-5-hadoop介绍和官方文档" class="headerlink" title="2.5 hadoop介绍和官方文档"></a>2.5 hadoop介绍和官方文档</h4><p>hadoop三种模式：<br>Local (Standalone) Mode  本地模式<br>Pseudo-Distributed Mode  伪分布式模式 - 安装官方文档做<br>Fully-Distributed Mode   分布式模式 集群 -之后讲</p>
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html" target="_blank" rel="noopener">官方文档</a></p>
<h4 id="2-6-配置ssh-hadoop001-无密码认证"><a href="#2-6-配置ssh-hadoop001-无密码认证" class="headerlink" title="2.6 配置ssh hadoop001 无密码认证"></a>2.6 配置ssh hadoop001 无密码认证</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 ~]$ rm -rf .ssh <span class="comment">#生产上不要随意删除某个文件,首先要确认内容,这里需要看authorized_keys 文件是否有内容，有就尽量不要删</span></span><br><span class="line">[hadoop@hadoop001 ~]$ ssh-keygen</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/home/hadoop/.ssh/id_rsa): <span class="comment"># 直接回车确认</span></span><br><span class="line">Created directory <span class="string">'/home/hadoop/.ssh'</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): <span class="comment">#直接回车不设密码</span></span><br><span class="line">Enter same passphrase again: <span class="comment">#继续回车</span></span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /home/hadoop/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/hadoop/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">d6:5f:35:4f:6c:f8:38:0b:65:ab:6d:50:3b:a6:71:91 hadoop@hadoop001</span><br><span class="line">The key<span class="string">'s randomart image is:</span></span><br><span class="line"><span class="string">+--[ RSA 2048]----+</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|               + |</span></span><br><span class="line"><span class="string">|              E.=|</span></span><br><span class="line"><span class="string">|         .   + Xo|</span></span><br><span class="line"><span class="string">|        S . + X o|</span></span><br><span class="line"><span class="string">|       .   . @ + |</span></span><br><span class="line"><span class="string">|            + +  |</span></span><br><span class="line"><span class="string">|             .   |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">+-----------------+</span></span><br><span class="line"><span class="string">[hadoop@hadoop001 ~]$ cd .ssh</span></span><br><span class="line"><span class="string">[hadoop@hadoop001 .ssh]$ cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys #注意写上路径，相对路径无法找到authorized_keys</span></span><br><span class="line"><span class="string">[hadoop@hadoop001 .ssh]$ chmod 0600 ~/.ssh/authorized_keys #非root用户刷权限</span></span><br><span class="line"><span class="string">[hadoop@hadoop001 .ssh]$ ssh hadoop001 date # 确保在/etc/hosts文件中有hadoop001 机器名称，否则容易报错ssh: Could not resolve hostname hadoop001: Name or service not known</span></span><br><span class="line"><span class="string">The authenticity of host '</span>hadoop001 (192.168.111.131)<span class="string">' can'</span>t be established.</span><br><span class="line">ECDSA key fingerprint is 8d:08:cf:2b:40:03:aa:7a:4e:0c:60:0f:2c:19:8c:1a.</span><br><span class="line">Are you sure you want to <span class="built_in">continue</span> connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added <span class="string">'hadoop001,192.168.111.131'</span> (ECDSA) to the list of known hosts.</span><br><span class="line">Thu May  7 14:02:46 CST 2020</span><br><span class="line">[hadoop@hadoop001 .ssh]$ ssh hadoop001 date</span><br><span class="line">Thu May  7 14:02:51 CST 2020</span><br></pre></td></tr></table></figure>

<h4 id="2-7-修改配置"><a href="#2-7-修改配置" class="headerlink" title="2.7 修改配置"></a>2.7 修改配置</h4><p>hdfs的三个进程都以hadoop001名称启动</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># nn启动以hadoop001名称启动</span></span><br><span class="line">etc/hadoop/core-site.xml  <span class="comment">#核心文件，在app下hadoop文件下</span></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://hadoop001:9000&lt;/value&gt; <span class="comment">#修改为用机器名字启动   </span></span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;  <span class="comment">#配置tmp目录，建议自身目录的tmp文件夹</span></span><br><span class="line">        &lt;value&gt;/home/hadoop/tmp/&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># snn启动以hadoop001名称启动</span></span><br><span class="line">etc/hadoop/hdfs-site.xml <span class="comment">#在app下hadoop文件下</span></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;  <span class="comment">#复制两份</span></span><br><span class="line">        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:9868&lt;/value&gt;<span class="comment"># 机器名根据自身情况设置</span></span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.secondary.https-address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:9868&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#dn启动以hadoop001名称启动</span></span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/app/hadoop/etc/hadoop</span><br><span class="line">[hadoop@hadoop001 hadoop]$ vi slaves  </span><br><span class="line">hadoop001</span><br></pre></td></tr></table></figure>
<p><strong>注意点：tmp目录一般有一个30天的删除功能，所以尽量不要把文件存储在tmp文件夹中</strong></p>
<h4 id="2-8-格式化"><a href="#2-8-格式化" class="headerlink" title="2.8 格式化"></a>2.8 格式化</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@ruozedata001 hadoop]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/app/hadoop</span><br><span class="line">[hadoop@ruozedata001 hadoop]$ bin/hdfs namenode -format</span><br><span class="line"><span class="comment">#只需第一次即可，格式化自己的编码存储格式，构建自己分布式文件系统的编码格式，只要做第一次</span></span><br></pre></td></tr></table></figure>
<h4 id="2-9-启动"><a href="#2-9-启动" class="headerlink" title="2.9 启动"></a>2.9 启动</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ sbin/start-dfs.sh</span><br><span class="line">20/05/07 15:11:22 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Starting namenodes on [hadoop001]</span><br><span class="line">hadoop001: starting namenode, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/hadoop-hadoop-namenode-hadoop001.out</span><br><span class="line">hadoop001: starting datanode, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/hadoop-hadoop-datanode-hadoop001.out</span><br><span class="line">Starting secondary namenodes [hadoop001]</span><br><span class="line">hadoop001: starting secondarynamenode, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/hadoop-hadoop-secondarynamenode-hadoop001.out</span><br><span class="line">20/05/07 15:11:52 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 hadoop]$ jps</span><br><span class="line">42944 SecondaryNameNode</span><br><span class="line">43171 Jps</span><br><span class="line">42357 NameNode</span><br><span class="line">42555 DataNode</span><br><span class="line">[hadoop@hadoop001 hadoop]$</span><br></pre></td></tr></table></figure>
<p><strong>sbin/stop-all.sh =stop_dfs和stop_yarn</strong></p>
<h4 id="2-10-open-web："><a href="#2-10-open-web：" class="headerlink" title="2.10 open web："></a>2.10 open web：</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ netstat -nlp |grep 42357</span><br><span class="line">(Not all processes could be identified, non-owned process info</span><br><span class="line"> will not be shown, you would have to be root to see it all.)</span><br><span class="line">tcp        0      0 192.168.111.131:9000    0.0.0.0:*               LISTEN      42357/java          </span><br><span class="line">tcp        0      0 0.0.0.0:50070           0.0.0.0:*               LISTEN      42357/java</span><br></pre></td></tr></table></figure>
<p>根据端口和ip能打开网页说明hadoop第一个组件是ok的<br><a href="http://192.168.111.131:50070/dfshealth.html#tab-overview" target="_blank" rel="noopener">http://192.168.111.131:50070/dfshealth.html#tab-overview</a></p>
<p><strong>注意：</strong><br>查看防火墙情况，要想在外部访问虚拟机，需要关闭linux防火墙</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctrl stop firewalld</span><br></pre></td></tr></table></figure>

<h4 id="2-11-创建文件夹"><a href="#2-11-创建文件夹" class="headerlink" title="2.11 创建文件夹"></a>2.11 创建文件夹</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -mkdir /usr</span><br><span class="line">20/05/07 17:38:32 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -ls /</span><br><span class="line">20/05/07 17:39:09 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Found 1 items</span><br><span class="line">drwxr-xr-x   - hadoop supergroup          0 2020-05-07 17:38 /usr</span><br><span class="line">[hadoop@hadoop001 hadoop]$ ls /</span><br><span class="line">bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -mkdir /usr/hadoop/</span><br><span class="line">20/05/07 17:42:19 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br></pre></td></tr></table></figure>
<h4 id="2-12-上传linux–-gt-hdfs"><a href="#2-12-上传linux–-gt-hdfs" class="headerlink" title="2.12 上传linux–&gt;hdfs"></a>2.12 上传linux–&gt;hdfs</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -mkdir /wordcount <span class="comment">#创建一个文件夹</span></span><br><span class="line">20/05/07 17:43:13 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -mkdir /wordcount/input <span class="comment">#创建input文件夹，output文件夹不需要创建，运算结束会自动创建</span></span><br><span class="line">20/05/07 17:43:25 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -put etc/hadoop/*.xml /wordcount/input <span class="comment">#上传数据</span></span><br></pre></td></tr></table></figure>
<h4 id="2-13-计算"><a href="#2-13-计算" class="headerlink" title="2.13 计算"></a>2.13 计算</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bin/hadoop jar \</span><br><span class="line">share/hadoop/mapreduce/hadoop-mapreduce-examples-2.6.0-cdh5.16.2.jar \  <span class="comment">#根据自己文件路径和名称填写</span></span><br><span class="line">grep /wordcount/input /wordcount/output <span class="string">'dfs[a-z.]+'</span>  <span class="comment">#input和output路径最好写全，否则是去找user目录下的文件夹</span></span><br></pre></td></tr></table></figure>

<h4 id="2-14-下载从hdfs–-gt-linux"><a href="#2-14-下载从hdfs–-gt-linux" class="headerlink" title="2.14 下载从hdfs–&gt;linux"></a>2.14 下载从hdfs–&gt;linux</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ bin/hdfs dfs -get /wordcount/output output <span class="comment">#从hdfs下载到Linux对应目录下的output文件夹</span></span><br><span class="line">20/05/07 17:57:12 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 hadoop]$ cat output/</span><br><span class="line">cat: output/: Is a directory</span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">cd</span> output/</span><br><span class="line">[hadoop@hadoop001 output]$ ll</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r--. 1 hadoop hadoop 90 May  7 17:57 part-r-00000</span><br><span class="line">-rw-r--r--. 1 hadoop hadoop  0 May  7 17:57 _SUCCESS</span><br><span class="line">[hadoop@hadoop001 output]$ cat part-r-00000 </span><br><span class="line">1	dfsadmin</span><br><span class="line">1	dfs.replication</span><br><span class="line">1	dfs.namenode.secondary.https</span><br><span class="line">1	dfs.namenode.secondary.http</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第七天</title>
    <url>/2020/04/30/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B07/</url>
    <content><![CDATA[<h3 id="1-join"><a href="#1-join" class="headerlink" title="1.join"></a>1.join</h3><p><img src="https://i.loli.net/2020/06/11/oEJ1Wx3etB25IRO.png" alt="join语法图"></p>
<h4 id="左连接"><a href="#左连接" class="headerlink" title="左连接"></a>左连接</h4><p>以左表为主，数据是全的；右表来匹配，匹配不到就null<br><strong>给业务的话就不要存在null(大数据中百分之七八十的场景是做group by和join计算)</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*,</span><br><span class="line">b.*</span><br><span class="line"><span class="keyword">from</span> a </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> b <span class="keyword">on</span> a.i=b.i; <span class="comment">#判断条件</span></span><br><span class="line"></span><br><span class="line">1	rz	北京	1	rz	18</span><br><span class="line">2	jj	上海	2	jj	22</span><br><span class="line">3	huhu	杭州			</span><br><span class="line"></span><br><span class="line"><span class="comment">#建议所有的都加ifnull</span></span><br></pre></td></tr></table></figure>
<h4 id="右连接"><a href="#右连接" class="headerlink" title="右连接"></a>右连接</h4><p>以右表为主，数据是全的；左表来匹配，匹配不到就null</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*,</span><br><span class="line"><span class="keyword">ifnull</span>(b.i,<span class="string">''</span>), <span class="comment">#不想赋0，可以放个空值 ' '</span></span><br><span class="line"><span class="keyword">ifnull</span>(b.name,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.age,<span class="string">''</span>)</span><br><span class="line"><span class="keyword">from</span> a </span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> b <span class="keyword">on</span> a.i=b.i;</span><br><span class="line"></span><br><span class="line">1	rz	北京	1	rz	18</span><br><span class="line">2	jj	上海	2	jj	22</span><br><span class="line">			5	dd	33</span><br></pre></td></tr></table></figure>

<h4 id="内连接-等值连接"><a href="#内连接-等值连接" class="headerlink" title="内连接-等值连接"></a>内连接-等值连接</h4><p><strong>两个表都存在，才会显示出来</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*,</span><br><span class="line"><span class="keyword">ifnull</span>(b.i,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.name,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.age,<span class="string">''</span>)</span><br><span class="line"><span class="keyword">from</span> a </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> b <span class="keyword">on</span> a.i=b.i;</span><br><span class="line">1	rz	北京	1	rz	18</span><br><span class="line">2	jj	上海	2	jj	22</span><br></pre></td></tr></table></figure>

<p><strong>mysql不支持full join， 但是大数据sql支持 比如spark sql</strong><br>#full是可以完全合并表，但是会存在很多空数据<br>select<br>a1.i,<br>b1.i<br>from a a1<br>full join b b1 on a1.i=b1.i;</p>
<p>#作用和full一致</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*,</span><br><span class="line"><span class="keyword">ifnull</span>(b.i,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.name,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.age,<span class="string">''</span>)</span><br><span class="line"><span class="keyword">from</span> a </span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> b <span class="keyword">on</span> a.i=b.i</span><br><span class="line"><span class="keyword">union</span> </span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*,</span><br><span class="line"><span class="keyword">ifnull</span>(b.i,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.name,<span class="string">''</span>),</span><br><span class="line"><span class="keyword">ifnull</span>(b.age,<span class="string">''</span>)</span><br><span class="line"><span class="keyword">from</span> a </span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> b <span class="keyword">on</span> a.i=b.i;</span><br><span class="line"></span><br><span class="line">1	rz	北京	1	rz	18</span><br><span class="line">2	jj	上海	2	jj	22</span><br><span class="line">3	huhu	杭州			</span><br><span class="line">			5	dd	33</span><br></pre></td></tr></table></figure>

<p><strong>大部分是先join在groupby</strong><br><strong>生产上先确定主表</strong><br><strong>不写左右，那就是等值连接</strong><br><strong>不写后边的限制条件，则会第一个表格的每一条匹配后边表格的每一条数据</strong>      <strong>—笛卡尔积–生产慎用</strong></p>
<h3 id="2-总结"><a href="#2-总结" class="headerlink" title="2.总结"></a>2.总结</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> a <span class="keyword">limit</span> <span class="number">1</span>  <span class="comment">#限制一条</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> xxxxx <span class="keyword">from</span></span><br><span class="line">t <span class="comment">#join操作可能集合到这里</span></span><br><span class="line"><span class="keyword">where</span> yyyyyy <span class="comment">#先执行选择筛选</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> xxx  <span class="keyword">having</span> xxx<span class="comment">#聚合</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> xxx <span class="comment">#排序 #不放在聚合前面</span></span><br><span class="line"><span class="keyword">limit</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建一个v命令包，就可以直接执行一部分代码-需要运行一次代码</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">a1.i</span><br><span class="line">b1.age</span><br><span class="line"><span class="keyword">from</span> a a1 <span class="keyword">join</span> b b1 <span class="keyword">on</span> a1.i=b1.i;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> v</span><br><span class="line"></span><br><span class="line"><span class="comment">#雾化视图 计算速度快，不需要重复操作</span></span><br></pre></td></tr></table></figure>

<p>进入数据库，习惯show tables；看到表<br>desc查看表有哪些字段</p>
<p>show create table user； 完整建表语句</p>
<p>部门表和工资等级表是维度表，不太变</p>
<p>union多表格合并</p>
<p>null和任何值计算都是null</p>
<p>彩蛋：<br>这个班级的每个学科的成绩的前三名的同学<br>#哪些部门的哪些职业的薪水和，薪水最高1位的职业是什么<br>1.每个部门的每个职业的薪水和或者平均值</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> sal; <span class="comment">#起别名</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> sal</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">deptno,job</span><br><span class="line"><span class="keyword">sum</span>(sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>))<span class="comment"># 注意ifnull</span></span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno,job;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> sal;</span><br></pre></td></tr></table></figure>
<p>2.哪些部门的哪些职业的薪水和，薪水最高1位的职业是什么</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*</span><br><span class="line"><span class="keyword">from</span> sal a</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> sal </span><br><span class="line"><span class="keyword">where</span> a.deptno=b.deptno</span><br><span class="line"><span class="keyword">and</span> a.sal&lt;b.sal <span class="comment">#判断最高</span></span><br><span class="line">)=<span class="number">0</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> a.deptno</span><br></pre></td></tr></table></figure>




]]></content>
      <categories>
        <category>ruozedata</category>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>数仓培训第九天</title>
    <url>/2020/05/10/%E8%8B%A5%E6%B3%BD%E5%A4%A7%E6%95%B0%E6%8D%AE-%E5%89%91%E6%8C%87%E6%95%B0%E4%BB%93%E5%9F%B9%E8%AE%AD%E7%AC%94%E8%AE%B09/</url>
    <content><![CDATA[<h3 id="1-YARN部署"><a href="#1-YARN部署" class="headerlink" title="1.YARN部署"></a>1.YARN部署</h3><p><a href="https://hadoop.apache.org/docs/r2.10.0/hadoop-project-dist/hadoop-common/SingleCluster.html" target="_blank" rel="noopener">官网文档</a></p>
<p><strong>修改对应配置文档:</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 hadoop]$ su - hadoop</span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">cd</span> app/hadoop/etc/hadoop/</span><br><span class="line">[hadoop@hadoop001 hadoop]$ mv mapred-site.xml.template mapred-site.xml </span><br><span class="line"><span class="comment">#没有mapred文件，将tempele文件复制改名</span></span><br><span class="line">[hadoop@hadoop001 hadoop]$ vi mapred-site.xml </span><br><span class="line"><span class="comment">#该文件不要随意删除第一行数据，这是表明是一个xml文件</span></span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br><span class="line">[hadoop@hadoop001 hadoop]$ vi yarn-site.xml</span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Site specific YARN configuration properties --&gt; <span class="comment">#这之内的是可以删除的注释</span></span><br><span class="line">&lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:18808&lt;/value&gt; <span class="comment"># 主机名改为自己的机器名字。端口号修改一下，范围1-65535</span></span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>yarn默认你端口号8088.<br>8088端口暴露外网，会被病毒感染 植入挖矿程序  用来计算比特币<br>8088内网不用怕，外网可加安全验证</p>
<p><strong>Start ResourceManager daemon and NodeManager daemon:</strong> 启动yarn进程</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/app/hadoop/etc/hadoop</span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">cd</span> ../../</span><br><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">pwd</span></span><br><span class="line">/home/hadoop/app/hadoop</span><br><span class="line">[hadoop@hadoop001 hadoop]$ sbin/start-yarn.sh</span><br><span class="line">starting yarn daemons</span><br><span class="line">starting resourcemanager, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/yarn-hadoop-resourcemanager-hadoop001.out</span><br><span class="line">hadoop001: starting nodemanager, logging to /home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs/yarn-hadoop-nodemanager-hadoop001.out</span><br><span class="line">[hadoop@hadoop001 hadoop]$</span><br></pre></td></tr></table></figure>

<p><strong>open web:</strong><br><a href="http://192.168.111.131:18808/cluster" target="_blank" rel="noopener">http://192.168.111.131:18808/cluster</a> # ip:port/cluster<br><img src="https://i.loli.net/2020/06/11/tAuIfvnXxTcVoke.png" alt=""></p>
<h3 id="2-词频统计"><a href="#2-词频统计" class="headerlink" title="2.词频统计"></a>2.词频统计</h3><p>提前为hdfs配置环境变量 etc/profile</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> HADOOP_HOME=/home/hadoop/app/hadoop</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/sbin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>否则只能在/app/hadoop文件夹下使用bin/hdfs dfs -ls / 进行对应操作</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 data]$ hdfs dfs -mkdir  /wordcount2  </span><br><span class="line"><span class="comment">#创建input文件夹，output文件夹会自动生成,output文件不能提前存在，否则报错</span></span><br><span class="line">[hadoop@hadoop001 data]$ hdfs dfs -mkdir  /wordcount2/input/</span><br><span class="line"><span class="comment">#将所在文件夹所有数据上传</span></span><br><span class="line">[hadoop@hadoop001 word]$ hdfs dfs -put * /wordcount2/input <span class="comment">#-put是将linux放到hdfs中</span></span><br><span class="line">20/05/11 16:14:43 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">[hadoop@hadoop001 word]$ hdfs dfs -ls /wordcount2/input</span><br><span class="line">20/05/11 16:14:57 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Found 2 items</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         29 2020-05-11 16:14 /wordcount2/input/1.log</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         47 2020-05-11 16:14 /wordcount2/input/2.log</span><br><span class="line"></span><br><span class="line">[hadoop@hadoop001 hadoop]$ hadoop jar \</span><br><span class="line">./share/hadoop/mapreduce2/hadoop-mapreduce-examples-2.6.0-cdh5.16.2.jar \</span><br><span class="line">wordcount /wordcount2/input/ /wordcount2/output/</span><br><span class="line"></span><br><span class="line">20/05/11 16:19:25 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">20/05/11 16:19:26 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032</span><br><span class="line">20/05/11 16:19:29 INFO input.FileInputFormat: Total input paths to process : 2</span><br><span class="line"></span><br><span class="line">20/05/11 16:19:29 INFO mapreduce.JobSubmitter: number of splits:2</span><br><span class="line"><span class="comment"># 思考: mapreduce的split=map的个数 是什么影响的</span></span><br><span class="line">  <span class="comment">#1) 文件的大小。</span></span><br><span class="line">  <span class="comment">#2) 文件的个数。</span></span><br><span class="line">  <span class="comment">#3) splitsize的大小。</span></span><br><span class="line"></span><br><span class="line">20/05/11 16:19:29 INFO mapreduce.JobSubmitter: Submitting tokens <span class="keyword">for</span> job: job_1589182412203_0001</span><br><span class="line">20/05/11 16:19:30 INFO impl.YarnClientImpl: Submitted application application_1589182412203_0001</span><br><span class="line">20/05/11 16:19:30 INFO mapreduce.Job: The url to track the job: </span><br><span class="line">http://hadoop001:18808/proxy/application_1589182412203_0001/</span><br><span class="line">20/05/11 16:19:30 INFO mapreduce.Job: Running job: job_1589182412203_0001</span><br><span class="line">20/05/11 16:19:45 INFO mapreduce.Job: Job job_1589182412203_0001 running <span class="keyword">in</span> uber mode : <span class="literal">false</span></span><br><span class="line">20/05/11 16:19:45 INFO mapreduce.Job:  map 0% reduce 0%</span><br><span class="line">20/05/11 16:19:55 INFO mapreduce.Job:  map 50% reduce 0%</span><br><span class="line">20/05/11 16:19:57 INFO mapreduce.Job:  map 100% reduce 0%</span><br><span class="line">20/05/11 16:20:02 INFO mapreduce.Job:  map 100% reduce 100%</span><br><span class="line">20/05/11 16:20:02 INFO mapreduce.Job: Job job_1589182412203_0001 completed successfully</span><br><span class="line">20/05/11 16:20:02 INFO mapreduce.Job: Counters: 49</span><br><span class="line">	File System Counters</span><br><span class="line">		FILE: Number of bytes <span class="built_in">read</span>=122</span><br><span class="line">		FILE: Number of bytes written=429243</span><br><span class="line">		FILE: Number of <span class="built_in">read</span> operations=0</span><br><span class="line">		FILE: Number of large <span class="built_in">read</span> operations=0</span><br><span class="line">		FILE: Number of write operations=0</span><br><span class="line">		HDFS: Number of bytes <span class="built_in">read</span>=294</span><br><span class="line">		HDFS: Number of bytes written=43</span><br><span class="line">		HDFS: Number of <span class="built_in">read</span> operations=9</span><br><span class="line">		HDFS: Number of large <span class="built_in">read</span> operations=0</span><br><span class="line">		HDFS: Number of write operations=2</span><br><span class="line">	Job Counters </span><br><span class="line">		Launched map tasks=2</span><br><span class="line">		Launched reduce tasks=1</span><br><span class="line">		Data-local map tasks=2</span><br><span class="line">		Total time spent by all maps <span class="keyword">in</span> occupied slots (ms)=17984</span><br><span class="line">		Total time spent by all reduces <span class="keyword">in</span> occupied slots (ms)=4063</span><br><span class="line">		Total time spent by all map tasks (ms)=17984</span><br><span class="line">		Total time spent by all reduce tasks (ms)=4063</span><br><span class="line">		Total vcore-milliseconds taken by all map tasks=17984</span><br><span class="line">		Total vcore-milliseconds taken by all reduce tasks=4063</span><br><span class="line">		Total megabyte-milliseconds taken by all map tasks=18415616</span><br><span class="line">		Total megabyte-milliseconds taken by all reduce tasks=4160512</span><br><span class="line">	Map-Reduce Framework</span><br><span class="line">		Map input records=25</span><br><span class="line">		Map output records=19</span><br><span class="line">		Map output bytes=139</span><br><span class="line">		Map output materialized bytes=128</span><br><span class="line">		Input split bytes=218</span><br><span class="line">		Combine input records=19</span><br><span class="line">		Combine output records=12</span><br><span class="line">		Reduce input groups=8</span><br><span class="line">		Reduce shuffle bytes=128</span><br><span class="line">		Reduce input records=12</span><br><span class="line">		Reduce output records=8</span><br><span class="line">		Spilled Records=24</span><br><span class="line">		Shuffled Maps =2</span><br><span class="line">		Failed Shuffles=0</span><br><span class="line">		Merged Map outputs=2</span><br><span class="line">		GC time elapsed (ms)=286</span><br><span class="line">		CPU time spent (ms)=1590</span><br><span class="line">		Physical memory (bytes) snapshot=480874496</span><br><span class="line">		Virtual memory (bytes) snapshot=8181796864</span><br><span class="line">		Total committed heap usage (bytes)=307437568</span><br><span class="line">	Shuffle Errors</span><br><span class="line">		BAD_ID=0</span><br><span class="line">		CONNECTION=0</span><br><span class="line">		IO_ERROR=0</span><br><span class="line">		WRONG_LENGTH=0</span><br><span class="line">		WRONG_MAP=0</span><br><span class="line">		WRONG_REDUCE=0</span><br><span class="line">	File Input Format Counters </span><br><span class="line">		Bytes Read=76</span><br><span class="line">	File Output Format Counters </span><br><span class="line">		Bytes Written=43</span><br><span class="line"></span><br><span class="line">[hadoop@hadoop001 hadoop]$ hdfs dfs -ls /wordcount2/output/</span><br><span class="line">20/05/11 16:35:51 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... </span><br><span class="line">using <span class="built_in">builtin</span>-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Found 2 items</span><br><span class="line">-rw-r--r--   1 hadoop supergroup          0 2020-05-11 16:20 /wordcount2/output/_SUCCESS</span><br><span class="line">-rw-r--r--   1 hadoop supergroup         43 2020-05-11 16:20 /wordcount2/output/part-r-00000</span><br><span class="line"></span><br><span class="line"><span class="comment"># mapreduce跑完结束，文件的个数=reduce分区函数由什么决定，当前是1 由配置参数控制，使用过多的Reduce任务则意味着复杂的shuffle，并使输出文件的数量激增</span></span><br><span class="line"></span><br><span class="line">[hadoop@hadoop001 hadoop]$ hdfs dfs -get /wordcount2/output/* </span><br><span class="line">[hadoop@hadoop001 hadoop]$ cat part-r-00000 </span><br><span class="line">a	1</span><br><span class="line">b	7</span><br><span class="line">bb	1</span><br><span class="line">c	1</span><br><span class="line">qi	1</span><br><span class="line">ruoze	2</span><br><span class="line">shi	3</span><br><span class="line">wang	3</span><br><span class="line">[hadoop@hadoop001 hadoop]$</span><br></pre></td></tr></table></figure>

<h3 id="3-jps命令"><a href="#3-jps命令" class="headerlink" title="3.jps命令"></a>3.jps命令</h3><p><a href="https://wangqi1994.github.io/2020/05/08/Jps命令—使用详解/" target="_blank" rel="noopener">Jps命令—使用详解</a></p>
<h4 id="3-1-位置"><a href="#3-1-位置" class="headerlink" title="3.1 位置"></a>3.1 位置</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ <span class="built_in">which</span> jps</span><br><span class="line">/usr/java/jdk1.8.0_181/bin/jps</span><br></pre></td></tr></table></figure>
<h4 id="3-2-使用"><a href="#3-2-使用" class="headerlink" title="3.2 使用"></a>3.2 使用</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hadoop]$ jps</span><br><span class="line">28256 ResourceManager</span><br><span class="line">15617 FsShell</span><br><span class="line">60210 FsShell</span><br><span class="line">60386 Jps</span><br><span class="line">27363 NameNode</span><br><span class="line">59604 FsShell</span><br><span class="line">27591 DataNode</span><br><span class="line">28364 NodeManager</span><br><span class="line">27967 SecondaryNameNode</span><br><span class="line">[hadoop@hadoop001 hadoop]$</span><br></pre></td></tr></table></figure>

<h4 id="3-3-对应的进程标识文件存储在哪"><a href="#3-3-对应的进程标识文件存储在哪" class="headerlink" title="3.3 对应的进程标识文件存储在哪"></a>3.3 对应的进程标识文件存储在哪</h4><p>/tmp/hsperfdata_hadoop</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 tmp]$ <span class="built_in">cd</span> hsperfdata_hadoop</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ ll</span><br><span class="line">total 256</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 16:13 15617</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:11 27363</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:11 27591</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:11 27967</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:11 28256</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:11 28364</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 16:02 59604</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 16:09 60210</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ mv 27591 27591.bak</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ ps -ef |grep DataNode</span><br><span class="line">hadoop   27591     1  3 15:32 ?        00:03:15 /usr/java/jdk1.8.0_181/bin/java -Dproc_datanode \</span><br><span class="line">-Xmx1000m -Djava.net.preferIPv4Stack=<span class="literal">true</span> -Dhadoop.log.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs \</span><br><span class="line">-Dhadoop.log.file=hadoop.log -Dhadoop.home.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2 \</span><br><span class="line">-Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,console \</span><br><span class="line">-Djava.library.path=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/lib/native \</span><br><span class="line">-Dhadoop.policy.file=hadoop-policy.xml -Djava.net.preferIPv4Stack=<span class="literal">true</span> \</span><br><span class="line">-Djava.net.preferIPv4Stack=<span class="literal">true</span> -Djava.net.preferIPv4Stack=<span class="literal">true</span> \</span><br><span class="line">-Dhadoop.log.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs \</span><br><span class="line">-Dhadoop.log.file=hadoop-hadoop-datanode-hadoop001.log \</span><br><span class="line">-Dhadoop.home.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2 \</span><br><span class="line">-Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,RFA \</span><br><span class="line">-Djava.library.path=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/lib/native \</span><br><span class="line">-Dhadoop.policy.file=hadoop-policy.xml -Djava.net.preferIPv4Stack=<span class="literal">true</span> -server \</span><br><span class="line">-Dhadoop.security.logger=ERROR,RFAS -Dhadoop.security.logger=ERROR,RFAS \</span><br><span class="line">-Dhadoop.security.logger=ERROR,RFAS \</span><br><span class="line">-Dhadoop.security.logger=INFO,RFAS org.apache.hadoop.hdfs.server.datanode.DataNode</span><br><span class="line">hadoop   60662 59557  0 17:13 pts/0    00:00:00 grep --color=auto DataNode</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ jps</span><br><span class="line">28256 ResourceManager</span><br><span class="line">15617 FsShell</span><br><span class="line">60210 FsShell</span><br><span class="line">27363 NameNode</span><br><span class="line">59604 FsShell</span><br><span class="line">60663 Jps</span><br><span class="line">28364 NodeManager</span><br><span class="line">27967 SecondaryNameNode</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ <span class="comment">#jps查不到时，看看ps -ef</span></span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ mv 27591.bak 27591</span><br><span class="line">mv: cannot <span class="built_in">stat</span> ‘27591.bak’: No such file or directory</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ ll</span><br><span class="line">total 224</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 16:13 15617</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:16 27363</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:16 27967</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:16 28256</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 17:16 28364</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 16:02 59604</span><br><span class="line">-rw-------. 1 hadoop hadoop 32768 May 11 16:09 60210 </span><br><span class="line"><span class="comment"># mv命令重命名文件.bak改回来之后会把文件搞没了,移动之后在移动回来无影响</span></span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$</span><br></pre></td></tr></table></figure>

<h4 id="3-4-当出现-–-process-information-unavailable进程"><a href="#3-4-当出现-–-process-information-unavailable进程" class="headerlink" title="3.4 当出现 – process information unavailable进程"></a>3.4 当出现 – process information unavailable进程</h4><p>不能代表是存在 或者 不存在，要当心，尤其是使用jps检测状态的<br>ps -ef|grep xxx 命令是去查看进程的真正手段！！！<br>用root用户kill进程，进程不存在，jps会显示没有进程信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ jps</span><br><span class="line">28256 ResourceManager</span><br><span class="line">15617 FsShell</span><br><span class="line">60210 FsShell</span><br><span class="line">27363 NameNode</span><br><span class="line">59604 FsShell</span><br><span class="line">27591 -- process information unavailable</span><br><span class="line">28364 NodeManager</span><br><span class="line">60878 Jps</span><br><span class="line">27967 SecondaryNameNode</span><br><span class="line">[hadoop@hadoop001 hsperfdata_hadoop]$ ps -ef |grep 27591</span><br><span class="line">hadoop   27591     1  3 15:32 ?        00:03:15 /usr/java/jdk1.8.0_181/bin/java \</span><br><span class="line">-Dproc_datanode -Xmx1000m -Djava.net.preferIPv4Stack=<span class="literal">true</span> \</span><br><span class="line">-Dhadoop.log.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs \</span><br><span class="line">-Dhadoop.log.file=hadoop.log -Dhadoop.home.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2 \</span><br><span class="line">-Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,console \</span><br><span class="line">-Djava.library.path=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/lib/native \</span><br><span class="line">-Dhadoop.policy.file=hadoop-policy.xml -Djava.net.preferIPv4Stack=<span class="literal">true</span> \</span><br><span class="line">-Djava.net.preferIPv4Stack=<span class="literal">true</span> -Djava.net.preferIPv4Stack=<span class="literal">true</span> \</span><br><span class="line">-Dhadoop.log.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/logs \</span><br><span class="line">-Dhadoop.log.file=hadoop-hadoop-datanode-hadoop001.log \</span><br><span class="line">-Dhadoop.home.dir=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2 \</span><br><span class="line">-Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,RFA \</span><br><span class="line">-Djava.library.path=/home/hadoop/app/hadoop-2.6.0-cdh5.16.2/lib/native \</span><br><span class="line">-Dhadoop.policy.file=hadoop-policy.xml -Djava.net.preferIPv4Stack=<span class="literal">true</span> -server \</span><br><span class="line">-Dhadoop.security.logger=ERROR,RFAS -Dhadoop.security.logger=ERROR,RFAS \</span><br><span class="line">-Dhadoop.security.logger=ERROR,RFAS \</span><br><span class="line">-Dhadoop.security.logger=INFO,RFAS org.apache.hadoop.hdfs.server.datanode.DataNode</span><br><span class="line">hadoop   60889 59557  0 17:20 pts/0    00:00:00 grep --color=auto 27591\</span><br></pre></td></tr></table></figure>

<h4 id="3-5-文件被删除，不影响进程的重启！！"><a href="#3-5-文件被删除，不影响进程的重启！！" class="headerlink" title="3.5 文件被删除，不影响进程的重启！！"></a>3.5 文件被删除，不影响进程的重启！！</h4><p>jps并不会影响进程的启动和停止，但是要去看看文件是否清理干净，否则会造成误导</p>
<h3 id="4-pid文件"><a href="#4-pid文件" class="headerlink" title="4.pid文件"></a>4.pid文件</h3><h4 id="4-1存储位置-tmp"><a href="#4-1存储位置-tmp" class="headerlink" title="4.1存储位置 /tmp"></a>4.1存储位置 /tmp</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 tmp]$ ll</span><br><span class="line">total 7904</span><br><span class="line">-rw-rw-r--. 1 hadoop    hadoop          6 May 11 15:32 hadoop-hadoop-datanode.pid</span><br><span class="line">-rw-rw-r--. 1 hadoop    hadoop          6 May 11 15:32 hadoop-hadoop-namenode.pid</span><br><span class="line">-rw-rw-r--. 1 hadoop    hadoop          6 May 11 15:32 hadoop-hadoop-secondarynamenode.pid</span><br></pre></td></tr></table></figure>
<h4 id="4-2-维护进程的pid-写死的"><a href="#4-2-维护进程的pid-写死的" class="headerlink" title="4.2 维护进程的pid 写死的"></a>4.2 维护进程的pid 写死的</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[hadoop@hadoop001 tmp]$ cat hadoop-hadoop-datanode.pid </span><br><span class="line">27591</span><br><span class="line">[hadoop@hadoop001 tmp]$</span><br></pre></td></tr></table></figure>
<p>kill是通过找已经写死的pid的文件找到进程<br>kill -9 $(pgrep -f xxx) 通过xxx杀了所有</p>
<h4 id="4-3-文件被删除，影响进程的重启！！"><a href="#4-3-文件被删除，影响进程的重启！！" class="headerlink" title="4.3 文件被删除，影响进程的重启！！"></a>4.3 文件被删除，影响进程的重启！！</h4><p>进程启动，pid文件写入进程的pid数字<br>进程关闭时，从pid文件读出pid数字，然后kill -9 pid</p>
<h4 id="4-4-生产上-pid文件真的可以放心的丢在-tmp维护吗？"><a href="#4-4-生产上-pid文件真的可以放心的丢在-tmp维护吗？" class="headerlink" title="4.4 生产上  pid文件真的可以放心的丢在/tmp维护吗？"></a>4.4 生产上  pid文件真的可以放心的丢在/tmp维护吗？</h4><p>Linux的/tmp 会有30天的默认删除机制 </p>
<h4 id="4-5-如何修改"><a href="#4-5-如何修改" class="headerlink" title="4.5 如何修改"></a>4.5 如何修改</h4><p>修改pid<br>在app/hadoop/etc/hadoop/hadoop-env.sh脚本<br>目标/home/hadoop/tmp/中</p>
<p>export HADOOP_PID_DIR=/home/hadoop/tmp/</p>
<p>修改之后最好确认一下原来部分文件是否存在，否则可能会出现问题</p>
<p><strong>总结</strong>：<br>pid文件生产不要丢在/tmp目录<br>      要知道是影响进程的启动停止 </p>
<h3 id="5-块-block介绍及生产经验"><a href="#5-块-block介绍及生产经验" class="headerlink" title="5.块 block介绍及生产经验"></a>5.块 block介绍及生产经验</h3><p>HDFS 存储大文件是利好，存储小文件是损害自己的<br>     适合存储大文件 不适合小文件，不代表不能存储小文件</p>
<p>例如：<br>一个260m 的 mv文件，上传到hdfs,会把文件切割成3块 （dfs.blocksize 134217728 =128M）<br>分别为（128m、128m、4m）</p>
<p>伪分布式节点（单节点） 1节点 副本数 dfs.replication 1 （副本数即为服务器数，备份数）<br>生产上HDFS集群的 DN肯定大于&gt;=3台   dfs.replication=3</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DN1          DN2   DN5  DN10</span><br><span class="line">128m b1            b1   b1</span><br><span class="line">128m b2      b2         b2</span><br><span class="line">4m           b3    b3   b3</span><br></pre></td></tr></table></figure>
<p>通过设置副本数 来让文件存储在大数据HDFS平台上有容错保障</p>
<p>dfs.blocksize为什么由64M变为128M，为了减少分块的数量，降低nn的负担<br><strong>生产上可以提高blocksize，减少块的数量，取决于你的文件能否达到size</strong></p>
<p>副本数3：存储实际大小=文件大小<em>3=260</em>3=780m 存储空间 </p>
<p>5个块的元数据信息维护 是不是 比3个块的元数据的信息维护要多，<br>维护重  累–》namenode</p>
<p>所以nn是不喜欢 小文件的 </p>
<p> 1亿个10kb文件  3亿个block<br> 1亿个10kb文件压缩成1KW个文件100m   3KW的block </p>
<p><strong>如何规避 小文件</strong><br>1.数据传输到hdfs之前 就合并<br>2.数据已经在hdfs上，就定时去合并不常用文件 -冷文件-读写不太频繁，在业务低谷时，晚上合并，或者合并前三十天的数据<br>                 /2020/10/10<br>         /2020/10/11<br>         /2020/10/12  当前时间在用，可能有问题 </p>
<p>例如：<br>20号 合并14号的文件<br>21号 合并15号的文件</p>
<p>一天卡一天的合并</p>
<p>经验值：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">10m一下的文件  都是小文件</span><br><span class="line"></span><br><span class="line">128m的就合并到120m文件</span><br><span class="line"></span><br><span class="line">代码设置成128m，真正合并时可能会超，变成129m，就是两个块， 因为有些文件不可切割</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Hadoop</category>
        <category>HDFS</category>
      </categories>
      <tags>
        <tag>Hadoop</tag>
        <tag>HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>解决Hexo博客文章置顶问题</title>
    <url>/2020/05/01/%E8%A7%A3%E5%86%B3Hexo%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p><a href="http://zhwhong.cn/2017/03/23/deal-with-hexo-article-top-problem/" target="_blank" rel="noopener">原文</a></p>
<p>Hexo默认只提供了按发布日期的排序</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = '')</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line">index_generator:</span><br><span class="line">  path: <span class="string">''</span></span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -date</span><br></pre></td></tr></table></figure>

<p>原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。</p>
<p>修改Hexo文件夹下的node_modules/hexo-generator-index/lib/generator.js，在生成文章之前进行文章top值排序。</p>
<p>需添加的代码：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">posts.data = posts.data.sort(<span class="keyword">function</span>(a, b) &#123;</span><br><span class="line">    <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top == b.top) <span class="built_in">return</span> b.date - a.date;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">return</span> b.top - a.top;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class="line">        <span class="built_in">return</span> -1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">        <span class="built_in">return</span> 1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">return</span> b.date - a.date;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>其中涉及Javascript的比较函数：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cmp(var a, var b) &#123;</span><br><span class="line">    <span class="built_in">return</span>  a - b; // 升序，降序的话就 b - a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改完成后，只需要在front-matter中设置需要置顶文章的top值，将会根据top值大小来选择置顶顺序<br>top值越大越靠前。需要注意的是，这个文件不是主题的一部分，也不是Git管理的，备份的时候比较容易忽略。<br>在git push 之前将 .gitignore文件中的node_modules/ 去掉，即可将配置文件上传，在另一台电脑clone时，可以将配置完美下载</p>
<p>以下是最终的generator.js内容</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">'use strict'</span>;</span><br><span class="line">var pagination = require(<span class="string">'hexo-pagination'</span>);</span><br><span class="line">module.exports = <span class="keyword">function</span>(locals) &#123;</span><br><span class="line">  var config = this.config;</span><br><span class="line">  var posts = locals.posts.sort(config.index_generator.order_by);</span><br><span class="line">  posts.data = posts.data.sort(<span class="keyword">function</span>(a, b) &#123;</span><br><span class="line">      <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="keyword">if</span>(a.top == b.top) <span class="built_in">return</span> b.date - a.date;</span><br><span class="line">          <span class="keyword">else</span> <span class="built_in">return</span> b.top - a.top;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class="line">          <span class="built_in">return</span> -1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="built_in">return</span> 1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="built_in">return</span> b.date - a.date;</span><br><span class="line">  &#125;);</span><br><span class="line">  var paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="built_in">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>解决Git提示Permission denied (publickey)</title>
    <url>/2020/05/10/%E8%A7%A3%E5%86%B3Git%E6%8F%90%E7%A4%BAPermission%20denied%20(publickey)/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/wangqi1994/wangqi1994.github.io qiblog</span><br><span class="line">Cloning into <span class="string">'protobuf'</span>...</span><br><span class="line">The authenticity of host <span class="string">'github.com (13.229.188.59)'</span> can<span class="string">'t be established.</span></span><br><span class="line"><span class="string">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added '</span>github.com,13.229.188.59<span class="string">' (RSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">git@github.com: Permission denied (publickey).</span></span><br><span class="line"><span class="string">fatal: Could not read from remote repository.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Please make sure you have the correct access rights</span></span><br><span class="line"><span class="string">and the repository exists.</span></span><br></pre></td></tr></table></figure>
<p>github中自己账户settings-SSH and GPG keys-new ssh key<br>名字自己定，key有以下步骤提取。</p>
<p>回到需要下载源码的机器终端</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa  <span class="comment">#敲入命令，一路回车</span></span><br><span class="line"><span class="built_in">cd</span> /root/.ssh/</span><br><span class="line">cat id_rsa.pub </span><br><span class="line">ssh-rsa AAAAB3AAABIwAAAQEAzVPno/Cm5ApGGMP8YjituJGegOCq7TVKVECehWog9hTfC0Z5PMsf</span><br><span class="line">5OWkWvUZ85nFJBuwhMszxkjFSd7e6INYJ42WfGKxPXm7ZoOQxkBZAetUUaNvDhCKZCdLNHWGde8gaX84</span><br><span class="line">i39JKWgwYrzX9Y1T+bDI1cJiUuNN6Xr8x4ZkMm4e+LugYtVSKGZKz7zLcp1mXQszh9mWM08/yyRq/CdT</span><br><span class="line">Ely1ghojUDUNFTzyk6VQz/rzMFoiVuwbYlQasqdR4xIzvnIjfBrtSP4z+qdD+wZFvSABnFClXH0nJEaa</span><br><span class="line">KX9EdJpi2ezvLvAblDg371J</span><br><span class="line"><span class="comment">#取出公钥，复制粘贴github中的key中，保存</span></span><br><span class="line">ssh -T git@github.com  <span class="comment"># 测试是否成功</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>BUG</category>
        <category>Git</category>
      </categories>
      <tags>
        <tag>BUG</tag>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>调度器</title>
    <url>/2020/05/18/%E8%B0%83%E5%BA%A6%E5%99%A8/</url>
    <content><![CDATA[<h3 id="三种调度器"><a href="#三种调度器" class="headerlink" title="三种调度器"></a>三种调度器</h3><p>FIFO Scheduler  先进先出<br>Capacity Scheduler 计算<br>FairScheduler   公平   生产一般用这个<br><img src="https://i.loli.net/2020/06/11/mULtyawjZvrhGHO.jpg" alt=""><br><img src="https://i.loli.net/2020/06/11/DFjBA7wsZIU2hV9.jpg" alt=""></p>
<h4 id="1-FIFO-Scheduler"><a href="#1-FIFO-Scheduler" class="headerlink" title="1.FIFO Scheduler"></a>1.FIFO Scheduler</h4><p>FIFO Scheduler把应用按提交的顺序排成一个队列，这是一个先进先出队列，<br>在进行资源分配的时候，先给队列中最头上的应用进行分配资源，待最头上的应用需求满足后再给下一个分配，<br>以此类推。<br>FIFO Scheduler是最简单也是最容易理解的调度器，也不需要任何配置，但它并不适用于共享集群。<br>大的应用可能会占用所有集群资源，这就导致其它应用被阻塞。<br>在共享集群中，更适合采用Capacity Scheduler或Fair Scheduler，<br>这两个调度器都允许大任务和小任务在提交的同时获得一定的系统资源。</p>
<h4 id="2-Capacity-Scheduler"><a href="#2-Capacity-Scheduler" class="headerlink" title="2.Capacity Scheduler"></a>2.Capacity Scheduler</h4><p>对于Capacity调度器，有一个专门的队列用来运行小任务，<br>但是为小任务专门设置一个队列会预先占用一定的集群资源，<br>这就导致大任务的执行时间会落后于使用FIFO调度器时的时间。</p>
<h4 id="3-Fair-Scheduler"><a href="#3-Fair-Scheduler" class="headerlink" title="3.Fair Scheduler"></a>3.Fair Scheduler</h4><p>在Fair调度器中，我们不需要预先占用一定的系统资源，<br>Fair调度器会为所有运行的job动态的调整系统资源。<br>当第一个大job提交时，只有这一个job在运行，此时它获得了所有集群资源；<br>当第二个小任务提交后，Fair调度器会分配一半资源给这个小任<br>务，让这两个任务公平的共享集群资源。</p>
<p><strong>需要注意的是</strong><br>在Fair调度器中，从第二个任务提交到获得资源会有一定的延迟，因为它需要等待第一个任务释放占用的<br>Container。小任务执行完成之后也会释放自己占用的资源，大任务又获得了全部的系统资源。<br>最终的效果就是Fair调度器即得到了高的资源利用率又能保证小任务及时完成。</p>
]]></content>
      <categories>
        <category>ruozedata</category>
        <category>Hadoop</category>
      </categories>
      <tags>
        <tag>ruozedata</tag>
        <tag>Hadoop</tag>
      </tags>
  </entry>
  <entry>
    <title>大数据面试题汇总</title>
    <url>/2020/04/29/%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<h3 id="面试题1"><a href="#面试题1" class="headerlink" title="面试题1:"></a>面试题1:</h3><p>老板: 去打开xxx服务器的应用yyy的网页？你会涉及到哪些Linux命令 </p>
<p>ip #知道IP，之后需要知道yyy的端口号<br>ps -ef|grep yyy –》pid   #    找到pid<br>netstat -nlp|grep pid –》port    #   找到端口号<br>浏览器: <a href="http://ip:port">http://ip:port</a><br>要确定ping的通和telnet的通端口号</p>
<h3 id="面试题2"><a href="#面试题2" class="headerlink" title="面试题2:"></a>面试题2:</h3><p>每隔10s打印一次 怎么做</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">*/6 * * * * <span class="comment"># 不对，这是每6分钟</span></span><br></pre></td></tr></table></figure>
<p>如果时间是秒</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@hadoop001 ~]<span class="comment"># vi ruoze2.sh #每次六次之后休眠，10秒一跳</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span>((i=1;i&lt;=6;i++));</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	date</span><br><span class="line">	sleep 10s</span><br><span class="line"><span class="keyword">done</span> </span><br><span class="line"></span><br><span class="line">[root@hadoop001 ~]<span class="comment"># chmod +x ruoze2.sh # 设置完之后需要赋权限,所有人都拥有可以执行的权限</span></span><br></pre></td></tr></table></figure>
<h3 id="面试题3"><a href="#面试题3" class="headerlink" title="面试题3"></a>面试题3</h3><p>datetime timestamp差别</p>
<p>1.datatime字段默认为NULL， timestamp为NOT NULL默认值为当前时间<br>2.DATATIME使用八字节的存储空间，TIMESTAMP的存储空间为4字节。TIMESTAMP空间利用率更高<br>3.timestamp存储和时区相关，即会根据时区做转换。datatime存进去是什么就是什么不会变动</p>
<h3 id="面试题4"><a href="#面试题4" class="headerlink" title="面试题4"></a>面试题4</h3><p>这个班级的每个学科的成绩的前三名的同学</p>
<p>#哪些部门的哪些职业的薪水和，薪水最高1位的职业是什么<br>1.每个部门的每个职业的薪水和或者平均值</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> sal; <span class="comment">#起别名</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> sal</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">deptno,job</span><br><span class="line"><span class="keyword">sum</span>(sal+<span class="keyword">ifnull</span>(comm,<span class="number">0</span>))<span class="comment"># 注意ifnull</span></span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno,job;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> sal;</span><br></pre></td></tr></table></figure>
<p>2.哪些部门的哪些职业的薪水和，薪水最高1位的职业是什么</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">a.*</span><br><span class="line"><span class="keyword">from</span> sal a</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> sal </span><br><span class="line"><span class="keyword">where</span> a.deptno=b.deptno</span><br><span class="line"><span class="keyword">and</span> a.sal&lt;b.sal <span class="comment">#判断最高</span></span><br><span class="line">)=<span class="number">0</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> a.deptno</span><br></pre></td></tr></table></figure>
<h3 id="面试题5"><a href="#面试题5" class="headerlink" title="面试题5"></a>面试题5</h3><p>端口号范围：<br>1-65535</p>
<h3 id="面试题6"><a href="#面试题6" class="headerlink" title="面试题6"></a>面试题6</h3><p>HDFS写流程 </p>
<p><a href="https://wangqi1994.github.io/2020/05/11/HDFS写流程/" target="_blank" rel="noopener">HDFS写流程</a></p>
<h3 id="面试题7"><a href="#面试题7" class="headerlink" title="面试题7"></a>面试题7</h3><p>HDFS读流程</p>
<p><a href="https://wangqi1994.github.io/2020/05/11/HDFS读流程/" target="_blank" rel="noopener">HDFS读流程</a></p>
<h3 id="面试题8"><a href="#面试题8" class="headerlink" title="面试题8"></a>面试题8</h3><p>HDFS副本放置策略 </p>
<p><a href="https://wangqi1994.github.io/2020/05/11/HDFS副本放置策略/" target="_blank" rel="noopener">HDFS副本放置策略</a></p>
<h3 id="面试题9"><a href="#面试题9" class="headerlink" title="面试题9"></a>面试题9</h3><p>HDFS有两套相同作用的上传下载指令:<br>-get上传 -put 下载<br>-copyToLocal 上传  -copyFromLocal 下载\</p>
<h3 id="面试题10"><a href="#面试题10" class="headerlink" title="面试题10"></a>面试题10</h3><p>MapReduce2.x 架构设计 = mr on yarn提交流程   = yarn的架构设计</p>
<p><a href="https://wangqi1994.github.io/2020/05/17/MapReduce2.x的架构设计/" target="_blank" rel="noopener">https://wangqi1994.github.io/2020/05/17/MapReduce2.x的架构设计/</a></p>
<h3 id="面试题11"><a href="#面试题11" class="headerlink" title="面试题11"></a>面试题11</h3><p>请问作业的主程序运行在那个节点<br>namenode<br>datenode<br>resourcemanager<br>nodemanager-container干活</p>
<h3 id="面试题12"><a href="#面试题12" class="headerlink" title="面试题12"></a>面试题12</h3><p>假如节点有其他组件，比如HBase RS节点<br>256G内存<br>cpu物理core 32核</p>
<p>DN<br>NM<br>HBase RS=30G </p>
<p>请问以上6个参数如何设置？<br>预留256*20%=51.8G<br>暂定52G<br>dn=2G<br>nm=4G<br>HBase RS=30G<br>container 总内存256-52-2-4-30=168G<br>物理core32，设置pcore：vcore=1：2<br>vcore =64<br>一般设置vcore最大4，那么container有16个<br>所以每个内存最大是10G</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cpu参数</span></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.pcores-vcores-multiplier&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;2&lt;/value&gt;  # pcore:vcore=1:2</span><br><span class="line">    &lt;/property&gt; </span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.cpu-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;64&lt;/value&gt; # 可用虚拟vcore数</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.minimum-allocation-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt; #可用虚拟vcore最小数，极限情况下 是32个</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.maximum-allocation-vcores&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;4&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt; </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">内存参数</span></span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.resource.memory-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;168&lt;/value&gt; # 该参数控制所有container内存之和,生产上需要调整，默认只有8G</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.minimum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt; #container容器内存最小值，默认1G </span><br><span class="line">    &lt;/property&gt; #在极限情况下，会存在96个container，每个内存1G</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.scheduler.maximum-allocation-mb&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;10&lt;/value&gt; #container容器内存最大值，官方默认8G，应该改为上面参数的最大值 </span><br><span class="line">    &lt;/property&gt; # 极限情况container 16个,所以设置为10G</span><br></pre></td></tr></table></figure>

<h2 id="笔试题1"><a href="#笔试题1" class="headerlink" title="笔试题1"></a>笔试题1</h2><p>byte的取值范围0-127 </p>
<p>变量做加法时不知道会不会超出范围，所以会自己给提升范围，会改变数据类型，自动变为int，所以会因为类型不一致而编译不过</p>
<p>如果后边是常量，则不会出现问题</p>
<p><img src="https://i.loli.net/2020/07/07/lMW8ceFBys7DAwU.png" alt="笔试1"></p>
]]></content>
      <categories>
        <category>面试</category>
      </categories>
      <tags>
        <tag>面试</tag>
      </tags>
  </entry>
  <entry>
    <title>oracle中文转拼音函数</title>
    <url>/2020/08/14/oracle%E4%B8%AD%E6%96%87%E8%BD%AC%E6%8B%BC%E9%9F%B3%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE OR REPLACE FUNCTION fn_getpy (p_str    IN VARCHAR2,</span><br><span class="line">                                     p_flag      NUMBER DEFAULT NULL)</span><br><span class="line">   RETURN VARCHAR2</span><br><span class="line">AS</span><br><span class="line">   v_compare   VARCHAR2 (4);</span><br><span class="line">   v_return    VARCHAR2 (4000);</span><br><span class="line">   v_length    INT :&#x3D; 0;</span><br><span class="line">   v_substr    VARCHAR2 (4);</span><br><span class="line"> </span><br><span class="line">   FUNCTION fn_nlssort (p_word IN VARCHAR2)</span><br><span class="line">      RETURN VARCHAR2</span><br><span class="line">   AS</span><br><span class="line">   BEGIN</span><br><span class="line">      RETURN SUBSTR (NLSSORT (p_word, &#39;nls_sort&#x3D;schinese_pinyin_m&#39;), 1, 4);</span><br><span class="line">   END fn_nlssort;</span><br><span class="line">BEGIN</span><br><span class="line">   IF p_str IS NULL</span><br><span class="line">   THEN</span><br><span class="line">      RETURN &#39;&#39;;</span><br><span class="line">   END IF;</span><br><span class="line"> </span><br><span class="line">   v_length :&#x3D; LENGTH (p_str);</span><br><span class="line"> </span><br><span class="line">   CASE p_flag</span><br><span class="line">      WHEN 1</span><br><span class="line">      THEN                                                              --全拼大写</span><br><span class="line">         FOR i IN 1 .. v_length</span><br><span class="line">         LOOP</span><br><span class="line">            v_substr :&#x3D; SUBSTR (p_str, i, 1);</span><br><span class="line">            v_compare :&#x3D; fn_nlssort (v_substr);</span><br><span class="line"> </span><br><span class="line">            CASE</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B29&#39; AND &#39;3B30&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;A&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;3B31&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;AES&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B32&#39; AND &#39;3B9E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;AI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3BA0&#39; AND &#39;3BFE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;AN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C01&#39; AND &#39;3C14&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C15&#39; AND &#39;3C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;AO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C84&#39; AND &#39;3CE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3CED&#39; AND &#39;3D1D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3D20&#39; AND &#39;3D64&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3D66&#39; AND &#39;3DA2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3DA4&#39; AND &#39;3E10&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BAO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;3E11&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3E12&#39; AND &#39;3E7A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3E7C&#39; AND &#39;3EA0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3EA1&#39; AND &#39;3ED5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3ED8&#39; AND &#39;3FE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3FEA&#39; AND &#39;4055&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4058&#39; AND &#39;40AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BIAO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4060&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BIA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;40B4&#39; AND &#39;40D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;40D6&#39; AND &#39;4116&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4118&#39; AND &#39;4160&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4161&#39; AND &#39;4224&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4225&#39; AND &#39;427C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;BU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;427D&#39; AND &#39;4289&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;428C&#39; AND &#39;42B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;42B9&#39; AND &#39;430C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;430D&#39; AND &#39;4334&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4335&#39; AND &#39;435C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;435D&#39; AND &#39;438C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4390&#39; AND &#39;4398&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;439D&#39; AND &#39;43AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43AC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CEOK&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CEOM&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43B0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CEON&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CEOR&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;43B2&#39; AND &#39;440A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;440E&#39; AND &#39;442D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4431&#39; AND &#39;44E1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;44E4&#39; AND &#39;4552&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4554&#39; AND &#39;458E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4590&#39; AND &#39;45C8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;45C9&#39; AND &#39;463D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;463E&#39; AND &#39;46CD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;46CE&#39; AND &#39;47A6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;47A8&#39; AND &#39;47EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;47ED&#39; AND &#39;484C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;484D&#39; AND &#39;48E2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;48E9&#39; AND &#39;48F4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;48F6&#39; AND &#39;4924&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4925&#39; AND &#39;4951&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4954&#39; AND &#39;496E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4971&#39; AND &#39;49C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;49C8&#39; AND &#39;49EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;49EC&#39; AND &#39;4A4A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4A50&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CIS&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4A51&#39; AND &#39;4AB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4AB4&#39; AND &#39;4ABA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;COU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4ABC&#39; AND &#39;4AEA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4AEE&#39; AND &#39;4B0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B0D&#39; AND &#39;4B56&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B59&#39; AND &#39;4B6C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B70&#39; AND &#39;4BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4BAD&#39; AND &#39;4BFE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4C00&#39; AND &#39;4C4E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4C50&#39; AND &#39;4CDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4CDE&#39; AND &#39;4D26&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D28&#39; AND &#39;4D76&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D7E&#39; AND &#39;4D8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DE&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4D8E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DEM&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D90&#39; AND &#39;4D91&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D94&#39; AND &#39;4DC0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4DC4&#39; AND &#39;4E8A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4E8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DIA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4E8D&#39; AND &#39;4EE8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4EE9&#39; AND &#39;4F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4F39&#39; AND &#39;4F90&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DIE&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4F8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DEI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4F91&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DIM&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4F92&#39; AND &#39;4FCD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4FCD&#39; AND &#39;4FD4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DIU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4FD5&#39; AND &#39;5032&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5034&#39; AND &#39;507C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DOU&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5044&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DUL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;507E&#39; AND &#39;50E9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;50EA&#39; AND &#39;5110&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5114&#39; AND &#39;514E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5152&#39; AND &#39;518D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DUN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5160&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TON&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;518E&#39; AND &#39;5200&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;DUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5205&#39; AND &#39;52C2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;E&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;52C4&#39; AND &#39;52CD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;EN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;EO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;EOL&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;EOS&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;52D9&#39; AND &#39;5332&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ER&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5334&#39; AND &#39;5366&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;536A&#39; AND &#39;53FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;53FD&#39; AND &#39;5438&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5439&#39; AND &#39;54B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;54B4&#39; AND &#39;5528&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5529&#39; AND &#39;55A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55AA&#39; AND &#39;55AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55B1&#39; AND &#39;55BC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55BD&#39; AND &#39;5739&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;FU&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;569D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;M&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;573C&#39; AND &#39;574C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;574D&#39; AND &#39;578C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;578D&#39; AND &#39;57F0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;57F1&#39; AND &#39;582C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;582E&#39; AND &#39;5884&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5885&#39; AND &#39;5905&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GE&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5906&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5909&#39; AND &#39;5915&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5918&#39; AND &#39;594E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5956&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GIB&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5958&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5959&#39; AND &#39;59BA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;59BD&#39; AND &#39;5A0E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5A10&#39; AND &#39;5AB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AB4&#39; AND &#39;5AE8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AE9&#39; AND &#39;5AF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AFD&#39; AND &#39;5B5E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5B60&#39; AND &#39;5B8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5B8D&#39; AND &#39;5C2E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5BC8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KWI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5C30&#39; AND &#39;5C58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5C51&#39; AND &#39;5CB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CB8&#39; AND &#39;5CBD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CC6&#39; AND &#39;5CEC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HAI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5CED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HAL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CEE&#39; AND &#39;5D99&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5D9D&#39; AND &#39;5DBC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5DBE&#39; AND &#39;5E20&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HAO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5E02&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5E22&#39; AND &#39;5EC5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5EC6&#39; AND &#39;5ECE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5ED0&#39; AND &#39;5EDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5EDD&#39; AND &#39;5EDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5EF4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HOL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5F05&#39; AND &#39;5F8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5F8E&#39; AND &#39;5FD2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5FD4&#39; AND &#39;60B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;60B2&#39; AND &#39;6111&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6112&#39; AND &#39;612D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;612E&#39; AND &#39;61C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;61CA&#39; AND &#39;624A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;624C&#39; AND &#39;6344&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6346&#39; AND &#39;6388&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;638C&#39; AND &#39;63FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HUO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;63FD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;HWA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;63FE&#39; AND &#39;6601&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6604&#39; AND &#39;6691&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6692&#39; AND &#39;67F8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;67F9&#39; AND &#39;6860&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6862&#39; AND &#39;6930&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6931&#39; AND &#39;6A18&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6A1A&#39; AND &#39;6AC9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6ACA&#39; AND &#39;6B65&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6B66&#39; AND &#39;6B9A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6B9C&#39; AND &#39;6C0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JIU&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6C0D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6C0E&#39; AND &#39;6D2A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6D2D&#39; AND &#39;6D80&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6D82&#39; AND &#39;6E28&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JUE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E2A&#39; AND &#39;6E85&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;JUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E86&#39; AND &#39;6E92&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E94&#39; AND &#39;6EC9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KAI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6ECC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KAL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6ECD&#39; AND &#39;6F00&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F02&#39; AND &#39;6F30&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F31&#39; AND &#39;6F4D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F50&#39; AND &#39;6FC8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FC9&#39; AND &#39;6FDA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FDC&#39; AND &#39;6FF5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6FFC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FFD&#39; AND &#39;7016&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KONG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7018&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KOS&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7019&#39; AND &#39;703E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7041&#39; AND &#39;707A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;707C&#39; AND &#39;7095&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;709A&#39; AND &#39;70C1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;70C2&#39; AND &#39;70D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;70D8&#39; AND &#39;7128&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7129&#39; AND &#39;71B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;71B2&#39; AND &#39;71FE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7200&#39; AND &#39;7226&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KUO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7228&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;KWEOK&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;722C&#39; AND &#39;726A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;726C&#39; AND &#39;72B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;72B9&#39; AND &#39;733C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;733D&#39; AND &#39;7388&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7389&#39; AND &#39;73E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;73E8&#39; AND &#39;7402&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7404&#39; AND &#39;7485&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7488&#39; AND &#39;7499&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;749C&#39; AND &#39;7642&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7644&#39; AND &#39;7645&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7646&#39; AND &#39;76EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;76ED&#39; AND &#39;7731&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7732&#39; AND &#39;7794&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7795&#39; AND &#39;77E2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;77E4&#39; AND &#39;785D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;77EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7860&#39; AND &#39;7904&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7905&#39; AND &#39;7986&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LIU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7988&#39; AND &#39;7989&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;798A&#39; AND &#39;79FD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;79FE&#39; AND &#39;7A49&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7A4C&#39; AND &#39;7B4D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7B4E&#39; AND &#39;7B80&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7B81&#39; AND &#39;7BB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7BB5&#39; AND &#39;7C25&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C26&#39; AND &#39;7C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LV&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C84&#39; AND &#39;7C98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LUE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C9C&#39; AND &#39;7CE4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7CE5&#39; AND &#39;7DOC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7D11&#39; AND &#39;7D6E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7D70&#39; AND &#39;7DA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7DAC&#39; AND &#39;7E15&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MAO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7E0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Q&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E18&#39; AND &#39;7E1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ME&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E20&#39; AND &#39;7E9A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E9D&#39; AND &#39;7EC1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7EC2&#39; AND &#39;7F36&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MEO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7F39&#39; AND &#39;7FE4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7FE6&#39; AND &#39;8034&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8035&#39; AND &#39;805A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;805C&#39; AND &#39;8081&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8084&#39; AND &#39;80E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MIN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8096&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;LEM&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;80E5&#39; AND &#39;8116&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8119&#39; AND &#39;811D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MIU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;811E&#39; AND &#39;81A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;81AC&#39; AND &#39;81CC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;81CD&#39; AND &#39;821E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MU&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8220&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MYEO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8221&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MYEON&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8222&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;MYEONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8224&#39; AND &#39;8258&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;825D&#39; AND &#39;8285&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8289&#39; AND &#39;82B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;82B9&#39; AND &#39;82D0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;82D1&#39; AND &#39;8311&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8312&#39; AND &#39;8320&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8322&#39; AND &#39;8331&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NEI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8334&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NEM&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8336&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NEN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8339&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;833E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NEUS&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8342&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NGAG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8344&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NGAI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8345&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NGAM&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8346&#39; AND &#39;83B9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83BC&#39; AND &#39;83ED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83EE&#39; AND &#39;83F5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NIANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83F8&#39; AND &#39;8414&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8415&#39; AND &#39;8478&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8479&#39; AND &#39;8480&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8481&#39; AND &#39;84B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84B5&#39; AND &#39;84D1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NIU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84D4&#39; AND &#39;84FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NONG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;84E8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NUNG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84FD&#39; AND &#39;850E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8511&#39; AND &#39;8522&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8524&#39; AND &#39;852C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NUAN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;852D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8530&#39; AND &#39;8559&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;855A&#39; AND &#39;8566&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NV&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;856D&#39; AND &#39;8574&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;NUE&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8575&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;O&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8579&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;OES&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;857A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;OL&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;857C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ON&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;857D&#39; AND &#39;85AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;OU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85B1&#39; AND &#39;85C9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85CA&#39; AND &#39;85E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PAI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;85E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PAK&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85E8&#39; AND &#39;8625&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8626&#39; AND &#39;8658&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8659&#39; AND &#39;8688&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;868A&#39; AND &#39;86C5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;86C8&#39; AND &#39;86D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;86D8&#39; AND &#39;8740&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8741&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PEOL&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8742&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PHAS&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8744&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PHDENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8745&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PHOI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8746&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PHOS&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8748&#39; AND &#39;880D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;880E&#39; AND &#39;883A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;883C&#39; AND &#39;8869&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;886D&#39; AND &#39;8879&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;887A&#39; AND &#39;88A0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;88A1&#39; AND &#39;88EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;88F0&#39; AND &#39;8938&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;893E&#39; AND &#39;8958&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;POU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;895A&#39; AND &#39;895C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PPUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;895D&#39; AND &#39;89C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;PU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;89C5&#39; AND &#39;8B3E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8B41&#39; AND &#39;8B61&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8B62&#39; AND &#39;8C54&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8C5A&#39; AND &#39;8CB4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8CB8&#39; AND &#39;8D3D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8D40&#39; AND &#39;8D7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8D81&#39; AND &#39;8DFA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8DFC&#39; AND &#39;8E5D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8E5E&#39; AND &#39;8E98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8E9A&#39; AND &#39;8F2A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QIU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8F2E&#39; AND &#39;8FE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8FEA&#39; AND &#39;905D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;905E&#39; AND &#39;9099&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QUE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;909A&#39; AND &#39;90AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;QUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B0&#39; AND &#39;90B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RA&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;90B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RAM&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B4&#39; AND &#39;90E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90E6&#39; AND &#39;9104&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9105&#39; AND &#39;911C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;911D&#39; AND &#39;9120&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9121&#39; AND &#39;9180&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;REN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9181&#39; AND &#39;918D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;918E&#39; AND &#39;9196&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9189&#39; AND &#39;91F1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;91F2&#39; AND &#39;9218&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ROU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9219&#39; AND &#39;9269&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;926C&#39; AND &#39;9292&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9294&#39; AND &#39;92BD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92BE&#39; AND &#39;92C9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RUN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;92CA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92CA&#39; AND &#39;92E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;RUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92E5&#39; AND &#39;9309&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SA&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;930A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SAENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;930C&#39; AND &#39;9325&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SAI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9328&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SAL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9329&#39; AND &#39;9355&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9358&#39; AND &#39;936A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;936C&#39; AND &#39;9391&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9392&#39; AND &#39;93C5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SE&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SED&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93C8&#39; AND &#39;93CC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93CD&#39; AND &#39;93D0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93D1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SEO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93D2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SEON&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93D4&#39; AND &#39;941A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;941D&#39; AND &#39;9428&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9429&#39; AND &#39;94C1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;94C2&#39; AND &#39;94EE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;94F1&#39; AND &#39;952D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;952E&#39; AND &#39;9571&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9574&#39; AND &#39;9602&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9604&#39; AND &#39;965C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;965E&#39; AND &#39;9786&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9788&#39; AND &#39;97AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;97B0&#39; AND &#39;9878&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;987A&#39; AND &#39;987E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9880&#39; AND &#39;988A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;988C&#39; AND &#39;9894&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9895&#39; AND &#39;98BE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98C0&#39; AND &#39;98D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98DC&#39; AND &#39;98EE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98F1&#39; AND &#39;9911&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SHUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9912&#39; AND &#39;99AD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;99AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;99B0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SOL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;99B1&#39; AND &#39;99F6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;99F8&#39; AND &#39;9A36&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9A38&#39; AND &#39;9AB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AB8&#39; AND &#39;9AC4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AC5&#39; AND &#39;9B3A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SUI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9AF0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9B3C&#39; AND &#39;9B62&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9B65&#39; AND &#39;9BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;SUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9BAA&#39; AND &#39;9C10&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TA&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9C11&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TAE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9C12&#39; AND &#39;9C59&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9C5A&#39; AND &#39;9CE0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9CE2&#39; AND &#39;9D55&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9D56&#39; AND &#39;9DB4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TAO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TAP&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DB8&#39; AND &#39;9DC6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DC8&#39; AND &#39;9DED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TENG&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DEE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TEO&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DF0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TEUL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DF1&#39; AND &#39;9E82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9E85&#39; AND &#39;9EED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9EEE&#39; AND &#39;9F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9F39&#39; AND &#39;9F56&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9F59&#39; AND &#39;9FAE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TING&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9FB0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TOL&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9FB1&#39; AND &#39;A015&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A016&#39; AND &#39;A03A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A040&#39; AND &#39;A0A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A0AA&#39; AND &#39;A0D5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A0D6&#39; AND &#39;A106&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A108&#39; AND &#39;A131&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A134&#39; AND &#39;A1AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;TUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1B0&#39; AND &#39;A1E8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1E9&#39; AND &#39;A1F5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1F8&#39; AND &#39;A279&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A27A&#39; AND &#39;A2B9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A2BC&#39; AND &#39;A408&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A40D&#39; AND &#39;A47C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A47D&#39; AND &#39;A4A2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A4A4&#39; AND &#39;A4EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A4EC&#39; AND &#39;A5D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;WU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A5D6&#39; AND &#39;A784&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A785&#39; AND &#39;A7FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A7FD&#39; AND &#39;A951&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A954&#39; AND &#39;A9CE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A9D0&#39; AND &#39;AA8A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AA8D&#39; AND &#39;AB7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AB80&#39; AND &#39;ABEE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;ABF0&#39; AND &#39;AC41&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AC42&#39; AND &#39;AC64&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AC65&#39; AND &#39;ACBA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XIU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;ACBC&#39; AND &#39;AD90&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XU&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;ACD9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;CHUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AD91&#39; AND &#39;AE32&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AE34&#39; AND &#39;AE89&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XUE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AE8C&#39; AND &#39;AF1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;XUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF20&#39; AND &#39;AF96&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF98&#39; AND &#39;B118&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YAN&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B030&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;EOM&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B11A&#39; AND &#39;B1A8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B1AD&#39; AND &#39;B275&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B276&#39; AND &#39;B30A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B30D&#39; AND &#39;B30E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B310&#39; AND &#39;B594&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B359&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;I&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B596&#39; AND &#39;B684&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YIN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B685&#39; AND &#39;B768&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YING&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B76C&#39; AND &#39;B76E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B770&#39; AND &#39;B7EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B7EC&#39; AND &#39;B8B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B8B5&#39; AND &#39;BA98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BA99&#39; AND &#39;BB58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BB59&#39; AND &#39;BBBE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YUE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BBC1&#39; AND &#39;BC58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;YUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC59&#39; AND &#39;BC7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC81&#39; AND &#39;BCA8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BCAA&#39; AND &#39;BCEA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BCEE&#39; AND &#39;BD0A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD0C&#39; AND &#39;BD46&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD48&#39; AND &#39;BD99&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD9A&#39; AND &#39;BDA2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZEI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDA5&#39; AND &#39;BDAC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDAD&#39; AND &#39;BDCC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDCE&#39; AND &#39;BE40&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHA&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;BDF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;GAD&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BE41&#39; AND &#39;BE62&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BE65&#39; AND &#39;BEF4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BEF6&#39; AND &#39;BF3E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BF40&#39; AND &#39;BF8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHAO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BF8E&#39; AND &#39;BFF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHE&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BFF9&#39; AND &#39;C0B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHEN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C0B4&#39; AND &#39;C11E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHENG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C122&#39; AND &#39;C2C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C2C5&#39; AND &#39;C31A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C31D&#39; AND &#39;C39A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C39C&#39; AND &#39;C47C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C47D&#39; AND &#39;C484&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUA&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C485&#39; AND &#39;C486&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUAI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C488&#39; AND &#39;C4C0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C4C2&#39; AND &#39;C4E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUANG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C4E6&#39; AND &#39;C51C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C51D&#39; AND &#39;C530&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C534&#39; AND &#39;C5A5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZHUO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C5A8&#39; AND &#39;C648&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZI&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;C64A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZO&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C64C&#39; AND &#39;C6B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZONG&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C6B6&#39; AND &#39;C6D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZOU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C6E1&#39; AND &#39;C714&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZU&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C715&#39; AND &#39;C72D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZUAN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C72E&#39; AND &#39;C75E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZUI&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C760&#39; AND &#39;C776&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZUN&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C77A&#39; AND &#39;C7B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ZUO&#39;;</span><br><span class="line">               ELSE</span><br><span class="line">                  v_return :&#x3D; v_return || v_substr;</span><br><span class="line">            END CASE;</span><br><span class="line">         END LOOP;</span><br><span class="line">      WHEN 2</span><br><span class="line">      THEN                                                           --全拼首字母大写</span><br><span class="line">         FOR i IN 1 .. v_length</span><br><span class="line">         LOOP</span><br><span class="line">            v_substr :&#x3D; SUBSTR (p_str, i, 1);</span><br><span class="line">            v_compare :&#x3D; fn_nlssort (v_substr);</span><br><span class="line"> </span><br><span class="line">            CASE</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B29&#39; AND &#39;3B30&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;A&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;3B31&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Aes&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B32&#39; AND &#39;3B9E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3BA0&#39; AND &#39;3BFE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;An&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C01&#39; AND &#39;3C14&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C15&#39; AND &#39;3C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C84&#39; AND &#39;3CE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ba&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3CED&#39; AND &#39;3D1D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3D20&#39; AND &#39;3D64&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ban&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3D66&#39; AND &#39;3DA2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3DA4&#39; AND &#39;3E10&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;3E11&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Be&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3E12&#39; AND &#39;3E7A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3E7C&#39; AND &#39;3EA0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ben&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3EA1&#39; AND &#39;3ED5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Beng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3ED8&#39; AND &#39;3FE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3FEA&#39; AND &#39;4055&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4058&#39; AND &#39;40AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Biao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4060&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;40B4&#39; AND &#39;40D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;40D6&#39; AND &#39;4116&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4118&#39; AND &#39;4160&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4161&#39; AND &#39;4224&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4225&#39; AND &#39;427C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Bu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;427D&#39; AND &#39;4289&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ca&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;428C&#39; AND &#39;42B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;42B9&#39; AND &#39;430C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Can&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;430D&#39; AND &#39;4334&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4335&#39; AND &#39;435C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;435D&#39; AND &#39;438C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ce&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4390&#39; AND &#39;4398&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;439D&#39; AND &#39;43AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ceng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43AC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ceok&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ceom&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43B0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ceon&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ceor&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;43B2&#39; AND &#39;440A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cha&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;440E&#39; AND &#39;442D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4431&#39; AND &#39;44E1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;44E4&#39; AND &#39;4552&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4554&#39; AND &#39;458E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4590&#39; AND &#39;45C8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Che&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;45C9&#39; AND &#39;463D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;463E&#39; AND &#39;46CD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cheng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;46CE&#39; AND &#39;47A6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;47A8&#39; AND &#39;47EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;47ED&#39; AND &#39;484C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;484D&#39; AND &#39;48E2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;48E9&#39; AND &#39;48F4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;48F6&#39; AND &#39;4924&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4925&#39; AND &#39;4951&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4954&#39; AND &#39;496E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4971&#39; AND &#39;49C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;49C8&#39; AND &#39;49EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;49EC&#39; AND &#39;4A4A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ci&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4A50&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cis&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4A51&#39; AND &#39;4AB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4AB4&#39; AND &#39;4ABA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4ABC&#39; AND &#39;4AEA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4AEE&#39; AND &#39;4B0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B0D&#39; AND &#39;4B56&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B59&#39; AND &#39;4B6C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B70&#39; AND &#39;4BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Cuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4BAD&#39; AND &#39;4BFE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Da&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4C00&#39; AND &#39;4C4E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4C50&#39; AND &#39;4CDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4CDE&#39; AND &#39;4D26&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D28&#39; AND &#39;4D76&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D7E&#39; AND &#39;4D8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;De&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4D8E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dem&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D90&#39; AND &#39;4D91&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Den&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D94&#39; AND &#39;4DC0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Deng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4DC4&#39; AND &#39;4E8A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Di&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4E8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4E8D&#39; AND &#39;4EE8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4EE9&#39; AND &#39;4F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Diao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4F39&#39; AND &#39;4F90&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Die&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4F8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dei&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4F91&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dim&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4F92&#39; AND &#39;4FCD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ding&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4FCD&#39; AND &#39;4FD4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Diu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4FD5&#39; AND &#39;5032&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5034&#39; AND &#39;507C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dou&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5044&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dul&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;507E&#39; AND &#39;50E9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Du&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;50EA&#39; AND &#39;5110&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Duan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5114&#39; AND &#39;514E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5152&#39; AND &#39;518D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Dun&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5160&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ton&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;518E&#39; AND &#39;5200&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Duo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5205&#39; AND &#39;52C2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;E&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;52C4&#39; AND &#39;52CD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;En&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Eng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Eo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Eol&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Eos&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;52D9&#39; AND &#39;5332&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Er&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5334&#39; AND &#39;5366&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;536A&#39; AND &#39;53FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;53FD&#39; AND &#39;5438&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5439&#39; AND &#39;54B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;54B4&#39; AND &#39;5528&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5529&#39; AND &#39;55A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Feng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55AA&#39; AND &#39;55AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55B1&#39; AND &#39;55BC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55BD&#39; AND &#39;5739&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Fu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;569D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;M&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;573C&#39; AND &#39;574C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ga&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;574D&#39; AND &#39;578C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;578D&#39; AND &#39;57F0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;57F1&#39; AND &#39;582C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;582E&#39; AND &#39;5884&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5885&#39; AND &#39;5905&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ge&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5906&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5909&#39; AND &#39;5915&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5918&#39; AND &#39;594E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Geng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5956&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gib&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5958&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Go&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5959&#39; AND &#39;59BA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;59BD&#39; AND &#39;5A0E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5A10&#39; AND &#39;5AB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AB4&#39; AND &#39;5AE8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AE9&#39; AND &#39;5AF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Guai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AFD&#39; AND &#39;5B5E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Guan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5B60&#39; AND &#39;5B8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Guang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5B8D&#39; AND &#39;5C2E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gui&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5BC8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kwi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5C30&#39; AND &#39;5C58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5C51&#39; AND &#39;5CB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Guo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CB8&#39; AND &#39;5CBD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ha&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CC6&#39; AND &#39;5CEC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5CED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hal&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CEE&#39; AND &#39;5D99&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Han&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5D9D&#39; AND &#39;5DBC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5DBE&#39; AND &#39;5E20&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5E02&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ho&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5E22&#39; AND &#39;5EC5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;He&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5EC6&#39; AND &#39;5ECE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5ED0&#39; AND &#39;5EDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5EDD&#39; AND &#39;5EDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Heng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5EF4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hol&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5F05&#39; AND &#39;5F8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5F8E&#39; AND &#39;5FD2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5FD4&#39; AND &#39;60B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;60B2&#39; AND &#39;6111&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6112&#39; AND &#39;612D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Huai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;612E&#39; AND &#39;61C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Huan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;61CA&#39; AND &#39;624A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Huang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;624C&#39; AND &#39;6344&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6346&#39; AND &#39;6388&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;638C&#39; AND &#39;63FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Huo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;63FD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Hwa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;63FE&#39; AND &#39;6601&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ji&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6604&#39; AND &#39;6691&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6692&#39; AND &#39;67F8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;67F9&#39; AND &#39;6860&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jiang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6862&#39; AND &#39;6930&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6931&#39; AND &#39;6A18&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6A1A&#39; AND &#39;6AC9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6ACA&#39; AND &#39;6B65&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6B66&#39; AND &#39;6B9A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jiong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6B9C&#39; AND &#39;6C0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jiu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6C0D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6C0E&#39; AND &#39;6D2A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ju&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6D2D&#39; AND &#39;6D80&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Juan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6D82&#39; AND &#39;6E28&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E2A&#39; AND &#39;6E85&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Jun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E86&#39; AND &#39;6E92&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ka&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E94&#39; AND &#39;6EC9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6ECC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kal&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6ECD&#39; AND &#39;6F00&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F02&#39; AND &#39;6F30&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F31&#39; AND &#39;6F4D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F50&#39; AND &#39;6FC8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ke&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FC9&#39; AND &#39;6FDA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ken&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FDC&#39; AND &#39;6FF5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Keng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6FFC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ki&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FFD&#39; AND &#39;7016&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kong&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7018&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kos&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7019&#39; AND &#39;703E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7041&#39; AND &#39;707A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ku&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;707C&#39; AND &#39;7095&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;709A&#39; AND &#39;70C1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;70C2&#39; AND &#39;70D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;70D8&#39; AND &#39;7128&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7129&#39; AND &#39;71B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;71B2&#39; AND &#39;71FE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7200&#39; AND &#39;7226&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kuo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7228&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Kweok&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;722C&#39; AND &#39;726A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;La&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;726C&#39; AND &#39;72B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;72B9&#39; AND &#39;733C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;733D&#39; AND &#39;7388&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7389&#39; AND &#39;73E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;73E8&#39; AND &#39;7402&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Le&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7404&#39; AND &#39;7485&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7488&#39; AND &#39;7499&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Leng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;749C&#39; AND &#39;7642&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Li&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7644&#39; AND &#39;7645&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7646&#39; AND &#39;76EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;76ED&#39; AND &#39;7731&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Liang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7732&#39; AND &#39;7794&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Liao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7795&#39; AND &#39;77E2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;77E4&#39; AND &#39;785D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lin&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;77EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Len&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7860&#39; AND &#39;7904&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ling&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7905&#39; AND &#39;7986&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Liu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7988&#39; AND &#39;7989&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;798A&#39; AND &#39;79FD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Long&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;79FE&#39; AND &#39;7A49&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7A4C&#39; AND &#39;7B4D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7B4E&#39; AND &#39;7B80&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Luan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7B81&#39; AND &#39;7BB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7BB5&#39; AND &#39;7C25&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Luo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C26&#39; AND &#39;7C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lv&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C84&#39; AND &#39;7C98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C9C&#39; AND &#39;7CE4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ma&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7CE5&#39; AND &#39;7DOC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7D11&#39; AND &#39;7D6E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Man&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7D70&#39; AND &#39;7DA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7DAC&#39; AND &#39;7E15&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7E0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Q&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E18&#39; AND &#39;7E1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Me&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E20&#39; AND &#39;7E9A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E9D&#39; AND &#39;7EC1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Men&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7EC2&#39; AND &#39;7F36&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Meng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Meo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7F39&#39; AND &#39;7FE4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7FE6&#39; AND &#39;8034&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8035&#39; AND &#39;805A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Miao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;805C&#39; AND &#39;8081&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8084&#39; AND &#39;80E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Min&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8096&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Lem&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;80E5&#39; AND &#39;8116&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ming&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8119&#39; AND &#39;811D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Miu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;811E&#39; AND &#39;81A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;81AC&#39; AND &#39;81CC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;81CD&#39; AND &#39;821E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Mu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8220&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Myeo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8221&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Myeon&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8222&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Myeong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8224&#39; AND &#39;8258&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Na&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;825D&#39; AND &#39;8285&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8289&#39; AND &#39;82B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;82B9&#39; AND &#39;82D0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;82D1&#39; AND &#39;8311&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8312&#39; AND &#39;8320&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ne&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8322&#39; AND &#39;8331&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nei&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8334&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nem&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8336&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nen&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8339&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Neng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;833E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Neus&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8342&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ngag&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8344&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ngai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8345&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ngam&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8346&#39; AND &#39;83B9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ni&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83BC&#39; AND &#39;83ED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83EE&#39; AND &#39;83F5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Niang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83F8&#39; AND &#39;8414&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Niao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8415&#39; AND &#39;8478&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8479&#39; AND &#39;8480&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8481&#39; AND &#39;84B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ning&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84B5&#39; AND &#39;84D1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Niu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84D4&#39; AND &#39;84FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nong&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;84E8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nung&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84FD&#39; AND &#39;850E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8511&#39; AND &#39;8522&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8524&#39; AND &#39;852C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nuan&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;852D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8530&#39; AND &#39;8559&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;855A&#39; AND &#39;8566&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nv&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;856D&#39; AND &#39;8574&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Nue&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8575&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;O&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8579&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Oes&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;857A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ol&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;857C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;On&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;857D&#39; AND &#39;85AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85B1&#39; AND &#39;85C9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85CA&#39; AND &#39;85E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;85E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pak&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85E8&#39; AND &#39;8625&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8626&#39; AND &#39;8658&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8659&#39; AND &#39;8688&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;868A&#39; AND &#39;86C5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;86C8&#39; AND &#39;86D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;86D8&#39; AND &#39;8740&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Peng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8741&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Peol&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8742&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Phas&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8744&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Phdeng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8745&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Phoi&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8746&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Phos&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8748&#39; AND &#39;880D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;880E&#39; AND &#39;883A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;883C&#39; AND &#39;8869&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Piao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;886D&#39; AND &#39;8879&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;887A&#39; AND &#39;88A0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;88A1&#39; AND &#39;88EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ping&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;88F0&#39; AND &#39;8938&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Po&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;893E&#39; AND &#39;8958&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;895A&#39; AND &#39;895C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ppun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;895D&#39; AND &#39;89C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Pu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;89C5&#39; AND &#39;8B3E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8B41&#39; AND &#39;8B61&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8B62&#39; AND &#39;8C54&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8C5A&#39; AND &#39;8CB4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qiang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8CB8&#39; AND &#39;8D3D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8D40&#39; AND &#39;8D7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8D81&#39; AND &#39;8DFA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8DFC&#39; AND &#39;8E5D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8E5E&#39; AND &#39;8E98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qiong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8E9A&#39; AND &#39;8F2A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qiu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8F2E&#39; AND &#39;8FE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8FEA&#39; AND &#39;905D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Quan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;905E&#39; AND &#39;9099&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Que&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;909A&#39; AND &#39;90AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Qun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B0&#39; AND &#39;90B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ra&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;90B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ram&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B4&#39; AND &#39;90E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ran&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90E6&#39; AND &#39;9104&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Rang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9105&#39; AND &#39;911C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Rao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;911D&#39; AND &#39;9120&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Re&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9121&#39; AND &#39;9180&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ren&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9181&#39; AND &#39;918D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Reng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;918E&#39; AND &#39;9196&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ri&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9189&#39; AND &#39;91F1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Rong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;91F2&#39; AND &#39;9218&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Rou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9219&#39; AND &#39;9269&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ru&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;926C&#39; AND &#39;9292&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ruan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9294&#39; AND &#39;92BD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Rui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92BE&#39; AND &#39;92C9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Run&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;92CA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Rua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92CA&#39; AND &#39;92E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ruo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92E5&#39; AND &#39;9309&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sa&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;930A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Saeng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;930C&#39; AND &#39;9325&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9328&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sal&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9329&#39; AND &#39;9355&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;San&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9358&#39; AND &#39;936A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;936C&#39; AND &#39;9391&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9392&#39; AND &#39;93C5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Se&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sed&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93C8&#39; AND &#39;93CC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93CD&#39; AND &#39;93D0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Seng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93D1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Seo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93D2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Seon&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93D4&#39; AND &#39;941A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sha&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;941D&#39; AND &#39;9428&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9429&#39; AND &#39;94C1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;94C2&#39; AND &#39;94EE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;94F1&#39; AND &#39;952D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;952E&#39; AND &#39;9571&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;She&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9574&#39; AND &#39;9602&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9604&#39; AND &#39;965C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sheng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;965E&#39; AND &#39;9786&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9788&#39; AND &#39;97AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;97B0&#39; AND &#39;9878&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;987A&#39; AND &#39;987E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9880&#39; AND &#39;988A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;988C&#39; AND &#39;9894&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9895&#39; AND &#39;98BE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98C0&#39; AND &#39;98D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98DC&#39; AND &#39;98EE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98F1&#39; AND &#39;9911&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Shuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9912&#39; AND &#39;99AD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Si&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;99AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;So&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;99B0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sol&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;99B1&#39; AND &#39;99F6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Song&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;99F8&#39; AND &#39;9A36&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9A38&#39; AND &#39;9AB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Su&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AB8&#39; AND &#39;9AC4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Suan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AC5&#39; AND &#39;9B3A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sui&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9AF0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9B3C&#39; AND &#39;9B62&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Sun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9B65&#39; AND &#39;9BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Suo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9BAA&#39; AND &#39;9C10&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ta&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9C11&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tae&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9C12&#39; AND &#39;9C59&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9C5A&#39; AND &#39;9CE0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9CE2&#39; AND &#39;9D55&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9D56&#39; AND &#39;9DB4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tap&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DB8&#39; AND &#39;9DC6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Te&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DC8&#39; AND &#39;9DED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Teng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DEE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Teo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DF0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Teul&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DF1&#39; AND &#39;9E82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ti&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9E85&#39; AND &#39;9EED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9EEE&#39; AND &#39;9F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9F39&#39; AND &#39;9F56&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9F59&#39; AND &#39;9FAE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ting&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9FB0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tol&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9FB1&#39; AND &#39;A015&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A016&#39; AND &#39;A03A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A040&#39; AND &#39;A0A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A0AA&#39; AND &#39;A0D5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A0D6&#39; AND &#39;A106&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A108&#39; AND &#39;A131&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A134&#39; AND &#39;A1AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Tuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1B0&#39; AND &#39;A1E8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1E9&#39; AND &#39;A1F5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1F8&#39; AND &#39;A279&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A27A&#39; AND &#39;A2B9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A2BC&#39; AND &#39;A408&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A40D&#39; AND &#39;A47C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A47D&#39; AND &#39;A4A2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Weng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A4A4&#39; AND &#39;A4EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A4EC&#39; AND &#39;A5D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Wu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A5D6&#39; AND &#39;A784&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A785&#39; AND &#39;A7FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A7FD&#39; AND &#39;A951&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A954&#39; AND &#39;A9CE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xiang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A9D0&#39; AND &#39;AA8A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AA8D&#39; AND &#39;AB7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AB80&#39; AND &#39;ABEE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;ABF0&#39; AND &#39;AC41&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AC42&#39; AND &#39;AC64&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xiong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AC65&#39; AND &#39;ACBA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xiu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;ACBC&#39; AND &#39;AD90&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;ACD9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Chua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AD91&#39; AND &#39;AE32&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AE34&#39; AND &#39;AE89&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AE8C&#39; AND &#39;AF1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Xun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF20&#39; AND &#39;AF96&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ya&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF98&#39; AND &#39;B118&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yan&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B030&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Eom&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B11A&#39; AND &#39;B1A8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B1AD&#39; AND &#39;B275&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B276&#39; AND &#39;B30A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ye&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B30D&#39; AND &#39;B30E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B310&#39; AND &#39;B594&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yi&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B359&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;I&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B596&#39; AND &#39;B684&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B685&#39; AND &#39;B768&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ying&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B76C&#39; AND &#39;B76E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B770&#39; AND &#39;B7EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B7EC&#39; AND &#39;B8B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;You&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B8B5&#39; AND &#39;BA98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BA99&#39; AND &#39;BB58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BB59&#39; AND &#39;BBBE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BBC1&#39; AND &#39;BC58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Yun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC59&#39; AND &#39;BC7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Za&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC81&#39; AND &#39;BCA8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BCAA&#39; AND &#39;BCEA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BCEE&#39; AND &#39;BD0A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD0C&#39; AND &#39;BD46&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD48&#39; AND &#39;BD99&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Ze&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD9A&#39; AND &#39;BDA2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDA5&#39; AND &#39;BDAC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDAD&#39; AND &#39;BDCC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zeng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDCE&#39; AND &#39;BE40&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zha&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;BDF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Gad&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BE41&#39; AND &#39;BE62&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BE65&#39; AND &#39;BEF4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BEF6&#39; AND &#39;BF3E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BF40&#39; AND &#39;BF8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BF8E&#39; AND &#39;BFF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhe&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BFF9&#39; AND &#39;C0B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C0B4&#39; AND &#39;C11E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zheng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C122&#39; AND &#39;C2C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C2C5&#39; AND &#39;C31A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C31D&#39; AND &#39;C39A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C39C&#39; AND &#39;C47C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C47D&#39; AND &#39;C484&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C485&#39; AND &#39;C486&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C488&#39; AND &#39;C4C0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C4C2&#39; AND &#39;C4E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C4E6&#39; AND &#39;C51C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C51D&#39; AND &#39;C530&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C534&#39; AND &#39;C5A5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zhuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C5A8&#39; AND &#39;C648&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zi&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;C64A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C64C&#39; AND &#39;C6B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C6B6&#39; AND &#39;C6D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C6E1&#39; AND &#39;C714&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C715&#39; AND &#39;C72D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C72E&#39; AND &#39;C75E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C760&#39; AND &#39;C776&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C77A&#39; AND &#39;C7B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Zuo&#39;;</span><br><span class="line">               ELSE</span><br><span class="line">                  v_return :&#x3D; v_return || v_substr;</span><br><span class="line">            END CASE;</span><br><span class="line">         END LOOP;</span><br><span class="line">      WHEN 3</span><br><span class="line">      THEN                                                             --首字母小写</span><br><span class="line">         FOR i IN 1 .. v_length</span><br><span class="line">         LOOP</span><br><span class="line">            v_substr :&#x3D; SUBSTR (p_str, i, 1);</span><br><span class="line">            v_compare :&#x3D; fn_nlssort (v_substr);</span><br><span class="line"> </span><br><span class="line">            CASE</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B29&#39; AND &#39;3C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;a&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C84&#39; AND &#39;427C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;b&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;427D&#39; AND &#39;4BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;c&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4BAD&#39; AND &#39;5200&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;d&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5205&#39; AND &#39;5332&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;e&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5334&#39; AND &#39;5739&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;f&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;573C&#39; AND &#39;5CB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;g&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CB8&#39; AND &#39;63FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;h&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B359&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;i&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;63FE&#39; AND &#39;6E85&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;j&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5BC8&#39; AND &#39;7226&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;k&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;722C&#39; AND &#39;7C98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;l&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;569D&#39; AND &#39;821E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;m&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8224&#39; AND &#39;8574&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;n&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8575&#39; AND &#39;85AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;o&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85B1&#39; AND &#39;89C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;p&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E0C&#39; AND &#39;90AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;q&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B0&#39; AND &#39;92E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;r&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92E5&#39; AND &#39;9BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;s&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5160&#39; AND &#39;A1AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;t&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AF0&#39; AND &#39;A5D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;w&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A5D6&#39; AND &#39;AF1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;x&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF20&#39; AND &#39;BC58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;y&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC59&#39; AND &#39;C7B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;z&#39;;</span><br><span class="line">               ELSE</span><br><span class="line">                  v_return :&#x3D; v_return || v_substr;</span><br><span class="line">            END CASE;</span><br><span class="line">         END LOOP;</span><br><span class="line">      WHEN 4</span><br><span class="line">      THEN                                                             --首字母大写</span><br><span class="line">         FOR i IN 1 .. v_length</span><br><span class="line">         LOOP</span><br><span class="line">            v_substr :&#x3D; SUBSTR (p_str, i, 1);</span><br><span class="line">            v_compare :&#x3D; fn_nlssort (v_substr);</span><br><span class="line"> </span><br><span class="line">            CASE</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B29&#39; AND &#39;3C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;A&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C84&#39; AND &#39;427C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;B&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;427D&#39; AND &#39;4BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;C&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4BAD&#39; AND &#39;5200&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;D&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5205&#39; AND &#39;5332&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;E&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5334&#39; AND &#39;5739&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;F&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;573C&#39; AND &#39;5CB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;G&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CB8&#39; AND &#39;63FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;H&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B359&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;I&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;63FE&#39; AND &#39;6E85&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;J&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5BC8&#39; AND &#39;7226&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;K&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;722C&#39; AND &#39;7C98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;L&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;569D&#39; AND &#39;821E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;M&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8224&#39; AND &#39;8574&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;N&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8575&#39; AND &#39;85AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;O&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85B1&#39; AND &#39;89C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;P&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E0C&#39; AND &#39;90AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Q&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B0&#39; AND &#39;92E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;R&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92E5&#39; AND &#39;9BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;S&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5160&#39; AND &#39;A1AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;T&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AF0&#39; AND &#39;A5D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;W&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A5D6&#39; AND &#39;AF1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;X&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF20&#39; AND &#39;BC58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Y&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC59&#39; AND &#39;C7B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;Z&#39;;</span><br><span class="line">               ELSE</span><br><span class="line">                  v_return :&#x3D; v_return || v_substr;</span><br><span class="line">            END CASE;</span><br><span class="line">         END LOOP;</span><br><span class="line">      ELSE                                                              --全拼小写</span><br><span class="line">         FOR i IN 1 .. v_length</span><br><span class="line">         LOOP</span><br><span class="line">            v_substr :&#x3D; SUBSTR (p_str, i, 1);</span><br><span class="line">            v_compare :&#x3D; fn_nlssort (v_substr);</span><br><span class="line"> </span><br><span class="line">            CASE</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B29&#39; AND &#39;3B30&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;a&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;3B31&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;aes&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3B32&#39; AND &#39;3B9E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3BA0&#39; AND &#39;3BFE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;an&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C01&#39; AND &#39;3C14&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C15&#39; AND &#39;3C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3C84&#39; AND &#39;3CE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ba&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3CED&#39; AND &#39;3D1D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3D20&#39; AND &#39;3D64&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ban&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3D66&#39; AND &#39;3DA2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3DA4&#39; AND &#39;3E10&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;3E11&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;be&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3E12&#39; AND &#39;3E7A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3E7C&#39; AND &#39;3EA0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ben&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3EA1&#39; AND &#39;3ED5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;beng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3ED8&#39; AND &#39;3FE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;3FEA&#39; AND &#39;4055&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4058&#39; AND &#39;40AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;biao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4060&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;40B4&#39; AND &#39;40D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;40D6&#39; AND &#39;4116&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4118&#39; AND &#39;4160&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4161&#39; AND &#39;4224&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4225&#39; AND &#39;427C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;bu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;427D&#39; AND &#39;4289&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ca&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;428C&#39; AND &#39;42B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;42B9&#39; AND &#39;430C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;can&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;430D&#39; AND &#39;4334&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4335&#39; AND &#39;435C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;435D&#39; AND &#39;438C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ce&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4390&#39; AND &#39;4398&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;439D&#39; AND &#39;43AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ceng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43AC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ceok&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ceom&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43B0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ceon&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;43B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ceor&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;43B2&#39; AND &#39;440A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cha&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;440E&#39; AND &#39;442D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4431&#39; AND &#39;44E1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;44E4&#39; AND &#39;4552&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4554&#39; AND &#39;458E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4590&#39; AND &#39;45C8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;che&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;45C9&#39; AND &#39;463D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;463E&#39; AND &#39;46CD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cheng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;46CE&#39; AND &#39;47A6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;47A8&#39; AND &#39;47EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;47ED&#39; AND &#39;484C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;484D&#39; AND &#39;48E2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;48E9&#39; AND &#39;48F4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;48F6&#39; AND &#39;4924&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4925&#39; AND &#39;4951&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4954&#39; AND &#39;496E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4971&#39; AND &#39;49C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;49C8&#39; AND &#39;49EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;49EC&#39; AND &#39;4A4A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ci&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4A50&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cis&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4A51&#39; AND &#39;4AB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4AB4&#39; AND &#39;4ABA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4ABC&#39; AND &#39;4AEA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4AEE&#39; AND &#39;4B0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B0D&#39; AND &#39;4B56&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B59&#39; AND &#39;4B6C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4B70&#39; AND &#39;4BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;cuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4BAD&#39; AND &#39;4BFE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;da&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4C00&#39; AND &#39;4C4E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4C50&#39; AND &#39;4CDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4CDE&#39; AND &#39;4D26&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D28&#39; AND &#39;4D76&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D7E&#39; AND &#39;4D8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;de&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4D8E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dem&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D90&#39; AND &#39;4D91&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;den&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4D94&#39; AND &#39;4DC0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;deng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4DC4&#39; AND &#39;4E8A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;di&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4E8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4E8D&#39; AND &#39;4EE8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4EE9&#39; AND &#39;4F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;diao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4F39&#39; AND &#39;4F90&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;die&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4F8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dei&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;4F91&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dim&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4F92&#39; AND &#39;4FCD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ding&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4FCD&#39; AND &#39;4FD4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;diu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;4FD5&#39; AND &#39;5032&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5034&#39; AND &#39;507C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dou&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5044&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dul&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;507E&#39; AND &#39;50E9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;du&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;50EA&#39; AND &#39;5110&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;duan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5114&#39; AND &#39;514E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5152&#39; AND &#39;518D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;dun&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5160&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ton&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;518E&#39; AND &#39;5200&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;duo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5205&#39; AND &#39;52C2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;e&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;52C4&#39; AND &#39;52CD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;en&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;eng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;eo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;eol&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;52D8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;eos&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;52D9&#39; AND &#39;5332&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;er&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5334&#39; AND &#39;5366&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;536A&#39; AND &#39;53FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;53FD&#39; AND &#39;5438&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5439&#39; AND &#39;54B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;54B4&#39; AND &#39;5528&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5529&#39; AND &#39;55A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;feng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55AA&#39; AND &#39;55AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55B1&#39; AND &#39;55BC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;55BD&#39; AND &#39;5739&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;fu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;569D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;m&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;573C&#39; AND &#39;574C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ga&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;574D&#39; AND &#39;578C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;578D&#39; AND &#39;57F0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;57F1&#39; AND &#39;582C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;582E&#39; AND &#39;5884&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5885&#39; AND &#39;5905&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ge&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5906&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5909&#39; AND &#39;5915&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5918&#39; AND &#39;594E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;geng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5956&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gib&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5958&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;go&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5959&#39; AND &#39;59BA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;59BD&#39; AND &#39;5A0E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5A10&#39; AND &#39;5AB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AB4&#39; AND &#39;5AE8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AE9&#39; AND &#39;5AF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;guai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5AFD&#39; AND &#39;5B5E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;guan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5B60&#39; AND &#39;5B8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;guang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5B8D&#39; AND &#39;5C2E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gui&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5BC8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kwi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5C30&#39; AND &#39;5C58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5C51&#39; AND &#39;5CB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;guo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CB8&#39; AND &#39;5CBD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ha&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CC6&#39; AND &#39;5CEC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5CED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hal&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5CEE&#39; AND &#39;5D99&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;han&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5D9D&#39; AND &#39;5DBC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5DBE&#39; AND &#39;5E20&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5E02&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ho&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5E22&#39; AND &#39;5EC5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;he&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5EC6&#39; AND &#39;5ECE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5ED0&#39; AND &#39;5EDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5EDD&#39; AND &#39;5EDC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;heng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;5EF4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hol&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5F05&#39; AND &#39;5F8D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5F8E&#39; AND &#39;5FD2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;5FD4&#39; AND &#39;60B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;60B2&#39; AND &#39;6111&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6112&#39; AND &#39;612D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;huai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;612E&#39; AND &#39;61C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;huan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;61CA&#39; AND &#39;624A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;huang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;624C&#39; AND &#39;6344&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6346&#39; AND &#39;6388&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;638C&#39; AND &#39;63FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;huo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;63FD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;hwa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;63FE&#39; AND &#39;6601&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ji&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6604&#39; AND &#39;6691&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6692&#39; AND &#39;67F8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;67F9&#39; AND &#39;6860&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jiang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6862&#39; AND &#39;6930&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6931&#39; AND &#39;6A18&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6A1A&#39; AND &#39;6AC9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6ACA&#39; AND &#39;6B65&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6B66&#39; AND &#39;6B9A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jiong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6B9C&#39; AND &#39;6C0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jiu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6C0D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6C0E&#39; AND &#39;6D2A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ju&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6D2D&#39; AND &#39;6D80&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;juan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6D82&#39; AND &#39;6E28&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E2A&#39; AND &#39;6E85&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;jun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E86&#39; AND &#39;6E92&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ka&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6E94&#39; AND &#39;6EC9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6ECC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kal&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6ECD&#39; AND &#39;6F00&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F02&#39; AND &#39;6F30&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F31&#39; AND &#39;6F4D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6F50&#39; AND &#39;6FC8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ke&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FC9&#39; AND &#39;6FDA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ken&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FDC&#39; AND &#39;6FF5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;keng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;6FFC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ki&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;6FFD&#39; AND &#39;7016&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kong&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7018&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kos&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7019&#39; AND &#39;703E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7041&#39; AND &#39;707A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ku&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;707C&#39; AND &#39;7095&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;709A&#39; AND &#39;70C1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;70C2&#39; AND &#39;70D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;70D8&#39; AND &#39;7128&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7129&#39; AND &#39;71B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;71B2&#39; AND &#39;71FE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7200&#39; AND &#39;7226&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kuo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7228&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;kweok&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;722C&#39; AND &#39;726A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;la&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;726C&#39; AND &#39;72B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;72B9&#39; AND &#39;733C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;733D&#39; AND &#39;7388&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7389&#39; AND &#39;73E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;73E8&#39; AND &#39;7402&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;le&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7404&#39; AND &#39;7485&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7488&#39; AND &#39;7499&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;leng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;749C&#39; AND &#39;7642&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;li&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7644&#39; AND &#39;7645&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7646&#39; AND &#39;76EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;76ED&#39; AND &#39;7731&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;liang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7732&#39; AND &#39;7794&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;liao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7795&#39; AND &#39;77E2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;77E4&#39; AND &#39;785D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lin&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;77EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;len&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7860&#39; AND &#39;7904&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ling&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7905&#39; AND &#39;7986&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;liu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7988&#39; AND &#39;7989&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;798A&#39; AND &#39;79FD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;long&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;79FE&#39; AND &#39;7A49&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7A4C&#39; AND &#39;7B4D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7B4E&#39; AND &#39;7B80&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;luan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7B81&#39; AND &#39;7BB2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7BB5&#39; AND &#39;7C25&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;luo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C26&#39; AND &#39;7C82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lv&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C84&#39; AND &#39;7C98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7C9C&#39; AND &#39;7CE4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ma&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7CE5&#39; AND &#39;7DOC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7D11&#39; AND &#39;7D6E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;man&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7D70&#39; AND &#39;7DA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7DAC&#39; AND &#39;7E15&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7E0C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;q&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E18&#39; AND &#39;7E1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;me&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E20&#39; AND &#39;7E9A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7E9D&#39; AND &#39;7EC1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;men&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7EC2&#39; AND &#39;7F36&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;meng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;7F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;meo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7F39&#39; AND &#39;7FE4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;7FE6&#39; AND &#39;8034&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8035&#39; AND &#39;805A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;miao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;805C&#39; AND &#39;8081&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8084&#39; AND &#39;80E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;min&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8096&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;lem&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;80E5&#39; AND &#39;8116&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ming&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8119&#39; AND &#39;811D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;miu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;811E&#39; AND &#39;81A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;81AC&#39; AND &#39;81CC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;81CD&#39; AND &#39;821E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;mu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8220&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;myeo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8221&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;myeon&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8222&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;myeong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8224&#39; AND &#39;8258&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;na&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;825D&#39; AND &#39;8285&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8289&#39; AND &#39;82B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;82B9&#39; AND &#39;82D0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;82D1&#39; AND &#39;8311&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8312&#39; AND &#39;8320&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ne&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8322&#39; AND &#39;8331&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nei&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8334&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nem&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8336&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nen&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8339&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;neng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;833E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;neus&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8342&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ngag&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8344&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ngai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8345&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ngam&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8346&#39; AND &#39;83B9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ni&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83BC&#39; AND &#39;83ED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83EE&#39; AND &#39;83F5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;niang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;83F8&#39; AND &#39;8414&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;niao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8415&#39; AND &#39;8478&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8479&#39; AND &#39;8480&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8481&#39; AND &#39;84B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ning&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84B5&#39; AND &#39;84D1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;niu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84D4&#39; AND &#39;84FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nong&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;84E8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nung&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;84FD&#39; AND &#39;850E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8511&#39; AND &#39;8522&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8524&#39; AND &#39;852C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nuan&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;852D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8530&#39; AND &#39;8559&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;855A&#39; AND &#39;8566&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nv&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;856D&#39; AND &#39;8574&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;nue&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8575&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;o&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8579&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;oes&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;857A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ol&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;857C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;on&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;857D&#39; AND &#39;85AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85B1&#39; AND &#39;85C9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85CA&#39; AND &#39;85E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;85E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pak&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;85E8&#39; AND &#39;8625&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8626&#39; AND &#39;8658&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8659&#39; AND &#39;8688&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;868A&#39; AND &#39;86C5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;86C8&#39; AND &#39;86D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;86D8&#39; AND &#39;8740&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;peng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8741&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;peol&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8742&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;phas&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8744&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;phdeng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8745&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;phoi&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;8746&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;phos&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8748&#39; AND &#39;880D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;880E&#39; AND &#39;883A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;883C&#39; AND &#39;8869&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;piao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;886D&#39; AND &#39;8879&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;887A&#39; AND &#39;88A0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;88A1&#39; AND &#39;88EC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ping&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;88F0&#39; AND &#39;8938&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;po&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;893E&#39; AND &#39;8958&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;895A&#39; AND &#39;895C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ppun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;895D&#39; AND &#39;89C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;pu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;89C5&#39; AND &#39;8B3E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8B41&#39; AND &#39;8B61&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8B62&#39; AND &#39;8C54&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8C5A&#39; AND &#39;8CB4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qiang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8CB8&#39; AND &#39;8D3D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8D40&#39; AND &#39;8D7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8D81&#39; AND &#39;8DFA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8DFC&#39; AND &#39;8E5D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8E5E&#39; AND &#39;8E98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qiong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8E9A&#39; AND &#39;8F2A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qiu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8F2E&#39; AND &#39;8FE9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;8FEA&#39; AND &#39;905D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;quan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;905E&#39; AND &#39;9099&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;que&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;909A&#39; AND &#39;90AA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;qun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B0&#39; AND &#39;90B1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ra&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;90B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ram&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90B4&#39; AND &#39;90E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ran&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;90E6&#39; AND &#39;9104&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;rang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9105&#39; AND &#39;911C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;rao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;911D&#39; AND &#39;9120&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;re&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9121&#39; AND &#39;9180&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ren&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9181&#39; AND &#39;918D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;reng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;918E&#39; AND &#39;9196&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ri&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9189&#39; AND &#39;91F1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;rong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;91F2&#39; AND &#39;9218&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;rou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9219&#39; AND &#39;9269&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ru&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;926C&#39; AND &#39;9292&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ruan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9294&#39; AND &#39;92BD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;rui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92BE&#39; AND &#39;92C9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;run&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;92CA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;rua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92CA&#39; AND &#39;92E4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ruo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;92E5&#39; AND &#39;9309&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sa&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;930A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;saeng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;930C&#39; AND &#39;9325&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sai&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9328&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sal&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9329&#39; AND &#39;9355&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;san&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9358&#39; AND &#39;936A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;936C&#39; AND &#39;9391&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9392&#39; AND &#39;93C5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;se&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93C6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sed&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93C8&#39; AND &#39;93CC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93CD&#39; AND &#39;93D0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;seng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93D1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;seo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;93D2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;seon&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;93D4&#39; AND &#39;941A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sha&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;941D&#39; AND &#39;9428&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9429&#39; AND &#39;94C1&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;94C2&#39; AND &#39;94EE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;94F1&#39; AND &#39;952D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;952E&#39; AND &#39;9571&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;she&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9574&#39; AND &#39;9602&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9604&#39; AND &#39;965C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sheng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;965E&#39; AND &#39;9786&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9788&#39; AND &#39;97AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;97B0&#39; AND &#39;9878&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;987A&#39; AND &#39;987E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9880&#39; AND &#39;988A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;988C&#39; AND &#39;9894&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9895&#39; AND &#39;98BE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98C0&#39; AND &#39;98D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98DC&#39; AND &#39;98EE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;98F1&#39; AND &#39;9911&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;shuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9912&#39; AND &#39;99AD&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;si&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;99AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;so&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;99B0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sol&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;99B1&#39; AND &#39;99F6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;song&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;99F8&#39; AND &#39;9A36&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9A38&#39; AND &#39;9AB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;su&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AB8&#39; AND &#39;9AC4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;suan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9AC5&#39; AND &#39;9B3A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sui&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9AF0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9B3C&#39; AND &#39;9B62&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;sun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9B65&#39; AND &#39;9BA9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;suo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9BAA&#39; AND &#39;9C10&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ta&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9C11&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tae&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9C12&#39; AND &#39;9C59&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9C5A&#39; AND &#39;9CE0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9CE2&#39; AND &#39;9D55&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9D56&#39; AND &#39;9DB4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tao&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DB6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tap&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DB8&#39; AND &#39;9DC6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;te&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DC8&#39; AND &#39;9DED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;teng&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DEE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;teo&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9DF0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;teul&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9DF1&#39; AND &#39;9E82&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ti&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9E85&#39; AND &#39;9EED&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9EEE&#39; AND &#39;9F38&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9F39&#39; AND &#39;9F56&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9F59&#39; AND &#39;9FAE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ting&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;9FB0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tol&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;9FB1&#39; AND &#39;A015&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A016&#39; AND &#39;A03A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A040&#39; AND &#39;A0A9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A0AA&#39; AND &#39;A0D5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A0D6&#39; AND &#39;A106&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A108&#39; AND &#39;A131&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A134&#39; AND &#39;A1AE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;tuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1B0&#39; AND &#39;A1E8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wa&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1E9&#39; AND &#39;A1F5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A1F8&#39; AND &#39;A279&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A27A&#39; AND &#39;A2B9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A2BC&#39; AND &#39;A408&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A40D&#39; AND &#39;A47C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A47D&#39; AND &#39;A4A2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;weng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A4A4&#39; AND &#39;A4EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A4EC&#39; AND &#39;A5D4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;wu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A5D6&#39; AND &#39;A784&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A785&#39; AND &#39;A7FA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xia&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A7FD&#39; AND &#39;A951&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xian&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A954&#39; AND &#39;A9CE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xiang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;A9D0&#39; AND &#39;AA8A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xiao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AA8D&#39; AND &#39;AB7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xie&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AB80&#39; AND &#39;ABEE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;ABF0&#39; AND &#39;AC41&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xing&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AC42&#39; AND &#39;AC64&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xiong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AC65&#39; AND &#39;ACBA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xiu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;ACBC&#39; AND &#39;AD90&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xu&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;ACD9&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;chua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AD91&#39; AND &#39;AE32&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AE34&#39; AND &#39;AE89&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AE8C&#39; AND &#39;AF1E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;xun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF20&#39; AND &#39;AF96&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ya&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;AF98&#39; AND &#39;B118&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yan&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B030&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;eom&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B11A&#39; AND &#39;B1A8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B1AD&#39; AND &#39;B275&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B276&#39; AND &#39;B30A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ye&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B30D&#39; AND &#39;B30E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B310&#39; AND &#39;B594&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yi&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;B359&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;i&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B596&#39; AND &#39;B684&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yin&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B685&#39; AND &#39;B768&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ying&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B76C&#39; AND &#39;B76E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B770&#39; AND &#39;B7EA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B7EC&#39; AND &#39;B8B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;you&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;B8B5&#39; AND &#39;BA98&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BA99&#39; AND &#39;BB58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BB59&#39; AND &#39;BBBE&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yue&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BBC1&#39; AND &#39;BC58&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;yun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC59&#39; AND &#39;BC7E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;za&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BC81&#39; AND &#39;BCA8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BCAA&#39; AND &#39;BCEA&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BCEE&#39; AND &#39;BD0A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD0C&#39; AND &#39;BD46&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD48&#39; AND &#39;BD99&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;ze&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BD9A&#39; AND &#39;BDA2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zei&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDA5&#39; AND &#39;BDAC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDAD&#39; AND &#39;BDCC&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zeng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BDCE&#39; AND &#39;BE40&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zha&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;BDF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;gad&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BE41&#39; AND &#39;BE62&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BE65&#39; AND &#39;BEF4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BEF6&#39; AND &#39;BF3E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BF40&#39; AND &#39;BF8C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhao&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BF8E&#39; AND &#39;BFF8&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhe&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;BFF9&#39; AND &#39;C0B2&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhen&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C0B4&#39; AND &#39;C11E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zheng&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C122&#39; AND &#39;C2C4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhi&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C2C5&#39; AND &#39;C31A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C31D&#39; AND &#39;C39A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C39C&#39; AND &#39;C47C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C47D&#39; AND &#39;C484&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhua&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C485&#39; AND &#39;C486&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhuai&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C488&#39; AND &#39;C4C0&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C4C2&#39; AND &#39;C4E5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhuang&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C4E6&#39; AND &#39;C51C&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C51D&#39; AND &#39;C530&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C534&#39; AND &#39;C5A5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zhuo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C5A8&#39; AND &#39;C648&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zi&#39;;</span><br><span class="line">               WHEN v_compare &#x3D; &#39;C64A&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zo&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C64C&#39; AND &#39;C6B5&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zong&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C6B6&#39; AND &#39;C6D6&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zou&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C6E1&#39; AND &#39;C714&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zu&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C715&#39; AND &#39;C72D&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zuan&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C72E&#39; AND &#39;C75E&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zui&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C760&#39; AND &#39;C776&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zun&#39;;</span><br><span class="line">               WHEN v_compare BETWEEN &#39;C77A&#39; AND &#39;C7B4&#39;</span><br><span class="line">               THEN</span><br><span class="line">                  v_return :&#x3D; v_return || &#39;zuo&#39;;</span><br><span class="line">               ELSE</span><br><span class="line">                  v_return :&#x3D; v_return || v_substr;</span><br><span class="line">            END CASE;</span><br><span class="line">         END LOOP;</span><br><span class="line">   END CASE;</span><br><span class="line"> </span><br><span class="line">   RETURN v_return;</span><br><span class="line">END fn_getpy;</span><br><span class="line"> </span><br><span class="line">--select fn_getpy(&#39;帅哥&#39;) from dual;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Oracle</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
</search>
